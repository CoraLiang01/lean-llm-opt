Query,model_output,code_output,objective_value,en_answer,Count,
"A factory produces two types of food, I and II, and currently has 50 skilled workers. It is known that one skilled worker can produce $10 \ \mathrm{kg} / \ \mathrm{h}$ of food I or $6 \ \mathrm{kg} / \ \mathrm{h}$ of food II. According to contract bookings, the weekly demand for these two foods will rise sharply, as shown in Table 1-11. Therefore, the factory has decided to train 50 new workers by the end of the 8th week. It is known that a worker works $40 \ \mathrm{h}$ per week, and a skilled worker can train up to three new workers in two weeks (during the training period, both the skilled worker and the trainees do not participate in production). The weekly wage of a skilled worker is 360 yuan, the weekly wage of a trainee during the training period is 120 yuan, and after training, the wage is 240 yuan per week, with the same production efficiency as skilled workers. During the transition period of training, many skilled workers are willing to work overtime, and the factory has decided to arrange some workers to work $60 \ \mathrm{h}$ per week, with a weekly wage of 540 yuan. If the booked food cannot be delivered on time, the compensation fee for each week of delay per $ \ \mathrm{kg}$ is 0.5 yuan for food I and 0.6 yuan for food II. Under these conditions, how should the factory make comprehensive arrangements to minimize the total cost?

Table 1-11

| Week | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 |
|------|---|---|---|---|---|---|---|---|
| I    | 10000 | 10000  | 12000  | 12000  | 16000  | 16000  | 20000  | 20000  |
| II   | 6000 | 7200 | 8400 | 10800 | 10800 | 12000  | 12000  | 12000  |","{'input': 'A factory produces two types of food, I and II, and currently has 50 skilled workers. It is known that one skilled worker can produce $10 \\ \\mathrm{{kg}} / \\ \\mathrm{{h}}$ of food I or $6 \\ \\mathrm{{kg}} / \\ \\mathrm{{h}}$ of food II. According to contract bookings, the weekly demand for these two foods will rise sharply, as shown in Table 1-11. Therefore, the factory has decided to train 50 new workers by the end of the 8th week. It is known that a worker works $40 \\ \\mathrm{{h}}$ per week, and a skilled worker can train up to three new workers in two weeks (during the training period, both the skilled worker and the trainees do not participate in production). The weekly wage of a skilled worker is 360 yuan, the weekly wage of a trainee during the training period is 120 yuan, and after training, the wage is 240 yuan per week, with the same production efficiency as skilled workers. During the transition period of training, many skilled workers are willing to work overtime, and the factory has decided to arrange some workers to work $60 \\ \\mathrm{{h}}$ per week, with a weekly wage of 540 yuan. If the booked food cannot be delivered on time, the compensation fee for each week of delay per $ \\ \\mathrm{{kg}}$ is 0.5 yuan for food I and 0.6 yuan for food II. Under these conditions, how should the factory make comprehensive arrangements to minimize the total cost?\n\nTable 1-11\n\n| Week | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 |\n|------|---|---|---|---|---|---|---|---|\n| I    | 10000 | 10000  | 12000  | 12000  | 16000  | 16000  | 20000  | 20000  |\n| II   | 6000 | 7200 | 8400 | 10800 | 10800 | 12000  | 12000  | 12000  |', 'output': 'Minimize\n\u2003Total Cost = ∑_{t=1}^8 [ 360(S_t - z_t - O_t) + 540 O_t + 120 T_t + 240 N_t + 0.5 d_{1t} + 0.6 d_{2t} ]\n\nSubject to, for t = 1,...,8:\n\u2003S_{t+1} = S_t - z_t + N_t\n\u2003T_{t+1} = T_t + 3z_t - N_{t+1}\n\u2003N_t = 3z_{t-2}\u2003\u2003(for t ≥ 3; N_1 = N_2 = 0)\n\u2003z_t ≤ S_t\n\u2003∑_{t=1}^8 3z_t = 50\n\u2003O_t ≤ S_t - z_t\n\u2003h_{1t} + h_{2t} ≤ 40(S_t - z_t - O_t) + 60 O_t\n\u2003x_{1t} = 10 h_{1t}\n\u2003x_{2t} = 6 h_{2t}\n\u2003y_{1t} ≤ x_{1t} + d_{1,t-1}\n\u2003y_{2t} ≤ x_{2t} + d_{2,t-1}\n\u2003y_{1t} ≤ D_{1t}\n\u2003y_{2t} ≤ D_{2t}\n\u2003d_{1t} = d_{1,t-1} + D_{1t} - y_{1t}\n\u2003d_{2t} = d_{2,t-1} + D_{2t} - y_{2t}\n\u2003d_{1,0} = 0,\u2003d_{2,0} = 0\n\u2003S_1 = 50,\u2003T_1 = 0\n\u2003z_t, O_t, N_t, S_t, T_t ∈ Z_+\u2003\u2003h_{1t}, h_{2t}, x_{1t}, x_{2t}, y_{1t}, y_{2t}, d_{1t}, d_{2t} ≥ 0\n\nwhere D_{1t}, D_{2t} are the weekly demands for food I and II as given in Table 1-11.'}","import gurobipy as gp
from gurobipy import GRB

# Data
weeks = range(8)
D1 = [10000, 10000, 12000, 12000, 16000, 16000, 20000, 20000]
D2 = [6000, 7200, 8400, 10800, 10800, 12000, 12000, 12000]

# Create model
m = gp.Model(""Factory_Training_Production"")

# Decision variables
S = m.addVars(range(9), vtype=GRB.INTEGER, lb=0, name=""S"")         # Skilled workers at week t (S_1 = 50)
T = m.addVars(range(9), vtype=GRB.INTEGER, lb=0, name=""T"")         # Trainees at week t (T_1 = 0)
z = m.addVars(weeks, vtype=GRB.INTEGER, lb=0, name=""z"")            # Skilled workers assigned to train in week t
O = m.addVars(weeks, vtype=GRB.INTEGER, lb=0, name=""O"")            # Skilled workers working overtime in week t
N = m.addVars(weeks, vtype=GRB.INTEGER, lb=0, name=""N"")            # New skilled workers after training in week t
h1 = m.addVars(weeks, lb=0, name=""h1"")                             # Total hours for food I in week t
h2 = m.addVars(weeks, lb=0, name=""h2"")                             # Total hours for food II in week t
x1 = m.addVars(weeks, lb=0, name=""x1"")                             # Production of food I in week t
x2 = m.addVars(weeks, lb=0, name=""x2"")                             # Production of food II in week t
y1 = m.addVars(weeks, lb=0, name=""y1"")                             # Delivered food I in week t
y2 = m.addVars(weeks, lb=0, name=""y2"")                             # Delivered food II in week t
d1 = m.addVars(range(9), lb=0, name=""d1"")                          # Undelivered food I at end of week t
d2 = m.addVars(range(9), lb=0, name=""d2"")                          # Undelivered food II at end of week t

# Initial conditions
m.addConstr(S[0] == 50, name=""S_init"")
m.addConstr(T[0] == 0, name=""T_init"")
m.addConstr(d1[0] == 0, name=""d1_init"")
m.addConstr(d2[0] == 0, name=""d2_init"")

# Constraints for each week
for t in weeks:
    # Worker transitions
    m.addConstr(S[t+1] == S[t] - z[t] + N[t], name=f""S_update_{t}"")
    m.addConstr(T[t+1] == T[t] + 3*z[t] - N[t], name=f""T_update_{t}"")
    m.addConstr(z[t] <= S[t], name=f""z_leq_S_{t}"")
    m.addConstr(O[t] <= S[t] - z[t], name=f""O_leq_Sminusz_{t}"")
    # N_t = 3*z_{t-2} for t >= 2, N_0 = N_1 = 0
    if t < 2:
        m.addConstr(N[t] == 0, name=f""N_zero_{t}"")
    else:
        m.addConstr(N[t] == 3*z[t-2], name=f""N_def_{t}"")
    # Production hours
    m.addConstr(h1[t] + h2[t] <= 40*(S[t] - z[t] - O[t]) + 60*O[t], name=f""hour_limit_{t}"")
    # Production quantities
    m.addConstr(x1[t] == 10*h1[t], name=f""x1_def_{t}"")
    m.addConstr(x2[t] == 6*h2[t], name=f""x2_def_{t}"")
    # Delivery constraints
    if t == 0:
        m.addConstr(y1[t] <= x1[t] + d1[0], name=f""y1_leq_x1d1_{t}"")
        m.addConstr(y2[t] <= x2[t] + d2[0], name=f""y2_leq_x2d2_{t}"")
    else:
        m.addConstr(y1[t] <= x1[t] + d1[t], name=f""y1_leq_x1d1_{t}"")
        m.addConstr(y2[t] <= x2[t] + d2[t], name=f""y2_leq_x2d2_{t}"")
    m.addConstr(y1[t] <= D1[t], name=f""y1_leq_D1_{t}"")
    m.addConstr(y2[t] <= D2[t], name=f""y2_leq_D2_{t}"")
    # Undelivered update
    m.addConstr(d1[t+1] == d1[t] + D1[t] - y1[t], name=f""d1_update_{t}"")
    m.addConstr(d2[t+1] == d2[t] + D2[t] - y2[t], name=f""d2_update_{t}"")

# Total number of new workers trained
m.addConstr(gp.quicksum(3*z[t] for t in weeks) == 50, name=""total_new_workers"")

# Objective function
obj = gp.quicksum(
    360*(S[t] - z[t] - O[t]) +
    540*O[t] +
    120*T[t] +
    240*N[t] +
    0.5*d1[t+1] +
    0.6*d2[t+1]
    for t in weeks
)
m.setObjective(obj, GRB.MINIMIZE)

# Solve
m.optimize()",,219816,0,
"A fighter jet is a crucial combat tool, but to make it effective, enough trained pilots are required. Therefore, some fighter jets each year must be allocated exclusively for pilot training. The annual production of fighter jets is \(a_j (j=1,2)\), with \(a_1=10\) and \(a_2=15\). Each training jet can train 5 pilots per year, and each trained pilot can operate one combat jet in subsequent years. Assuming training starts in year 1 and continues for 2 years, how many trained pilots will be available in total by the end of year 2 to contribute to air defense?","{'input': 'A fighter jet is a crucial combat tool, but to make it effective, enough trained pilots are required. Therefore, some fighter jets each year must be allocated exclusively for pilot training. The annual production of fighter jets is \\(a_j (j=1,2)\\), with \\(a_1=10\\) and \\(a_2=15\\). Each training jet can train 5 pilots per year, and each trained pilot can operate one combat jet in subsequent years. Assuming training starts in year 1 and continues for 2 years, how many trained pilots will be available in total by the end of year 2 to contribute to air defense?', 'output': 'If all jets produced in both years are used for training, the total number of trained pilots available by the end of year 2 is:\n125\n\nIf only a portion of jets are used for training, the answer would be 5x₁ + 5x₂, where x₁ ≤ 10 and x₂ ≤ 15.'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Fighter_Jet_Training"")

# Decision variables: number of jets used for training in year 1 and year 2
x1 = m.addVar(vtype=GRB.INTEGER, lb=0, ub=10, name=""x1"")  # Jets for training in year 1 (max 10)
x2 = m.addVar(vtype=GRB.INTEGER, lb=0, ub=15, name=""x2"")  # Jets for training in year 2 (max 15)

# Objective: maximize total number of trained pilots available by end of year 2
# Each training jet trains 5 pilots per year
m.setObjective(5 * x1 + 5 * x2, GRB.MAXIMIZE)

# Constraints: x1 <= 10, x2 <= 15 are handled by variable bounds

# Solve the model
m.optimize()",125,125,1,
"A company specializing in foldable tables needs to create an optimal production and human resources plan for a six-month period (January to June) to maximize its total net profit. The plan must detail monthly in-house production levels, outsourcing quantities, and workforce management (hiring/firing).

**Initial Conditions (at the start of January):**
- Initial Workforce: 1,000 employees
- Initial Inventory: 15,000 units

**Revenue and Cost Structure:**
- **Sales Price:** 300 Yuan per unit sold.
- **Raw Material Cost:** 90 Yuan per unit, applicable *only* to units produced in-house.
- **Outsourcing Cost:** 200 Yuan per unit for finished tables acquired from a third-party supplier. This is an all-inclusive cost.
- **Inventory Holding Cost:** 15 Yuan per unit for any inventory held at the end of a month.
- **Backorder Cost:** 35 Yuan per unit for any unfulfilled demand (stockout) carried over to the next month.

**Labor and Production Parameters:**
- **Labor Requirement:** Each in-house unit requires 5 labor hours to produce.
- **Regular Labor:** Each worker provides 160 regular working hours per month (8 hours/day * 20 days/month). The company pays a regular wage of 30 Yuan/hour for these 160 hours, regardless of full utilization.
- **Overtime Labor:** Workers can perform overtime. Total overtime hours per month for the entire workforce cannot exceed 20 hours per worker. The overtime wage is 40 Yuan/hour.
- **Workforce Management:** The company can hire or fire workers each month. The cost to hire a new worker is 5,000 Yuan, and the cost to fire a worker is 8,000 Yuan.

**Demand and Fulfillment Logic:**
- Unfulfilled demand from one month is back-ordered and must be met in subsequent months.
- The company fulfills orders (both current demand and backorders) using available inventory from the previous month, current in-house production, and outsourced units.

**Terminal Condition (at the end of June):**
- The ending inventory must be at least 10,000 units.
- All backorders must be cleared (i.e., ending backorders must be zero).

**Forecasted Demand:**
| Month | January | February | March | April | May | June |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| Demand Forecast | 20,000 | 40,000 | 42,000 | 35,000 | 19,000 | 18,500 |

Based on this information, formulate the optimal six-month operational plan.","{'input': 'A company specializing in foldable tables needs to create an optimal production and human resources plan for a six-month period (January to June) to maximize its total net profit. The plan must detail monthly in-house production levels, outsourcing quantities, and workforce management (hiring/firing).\n\n**Initial Conditions (at the start of January):**\n- Initial Workforce: 1,000 employees\n- Initial Inventory: 15,000 units\n\n**Revenue and Cost Structure:**\n- **Sales Price:** 300 Yuan per unit sold.\n- **Raw Material Cost:** 90 Yuan per unit, applicable *only* to units produced in-house.\n- **Outsourcing Cost:** 200 Yuan per unit for finished tables acquired from a third-party supplier. This is an all-inclusive cost.\n- **Inventory Holding Cost:** 15 Yuan per unit for any inventory held at the end of a month.\n- **Backorder Cost:** 35 Yuan per unit for any unfulfilled demand (stockout) carried over to the next month.\n\n**Labor and Production Parameters:**\n- **Labor Requirement:** Each in-house unit requires 5 labor hours to produce.\n- **Regular Labor:** Each worker provides 160 regular working hours per month (8 hours/day * 20 days/month). The company pays a regular wage of 30 Yuan/hour for these 160 hours, regardless of full utilization.\n- **Overtime Labor:** Workers can perform overtime. Total overtime hours per month for the entire workforce cannot exceed 20 hours per worker. The overtime wage is 40 Yuan/hour.\n- **Workforce Management:** The company can hire or fire workers each month. The cost to hire a new worker is 5,000 Yuan, and the cost to fire a worker is 8,000 Yuan.\n\n**Demand and Fulfillment Logic:**\n- Unfulfilled demand from one month is back-ordered and must be met in subsequent months.\n- The company fulfills orders (both current demand and backorders) using available inventory from the previous month, current in-house production, and outsourced units.\n\n**Terminal Condition (at the end of June):**\n- The ending inventory must be at least 10,000 units.\n- All backorders must be cleared (i.e., ending backorders must be zero).\n\n**Forecasted Demand:**\n| Month | January | February | March | April | May | June |\n|:---:|:---:|:---:|:---:|:---:|:---:|:---:|\n| Demand Forecast | 20,000 | 40,000 | 42,000 | 35,000 | 19,000 | 18,500 |\n\nBased on this information, formulate the optimal six-month operational plan.', 'output': 'Let t = 1,2,3,4,5,6 (January to June).\n\nVariables (for each month t):\nx_t: In-house production (units)\ny_t: Outsourced production (units)\nI_t: Inventory at end of month (units)\nB_t: Backorders at end of month (units)\nW_t: Number of workers at end of month\nH_t: Number of workers hired in month t\nF_t: Number of workers fired in month t\nOT_t: Total overtime hours used in month t (across all workers)\n\nParameters:\nD_t: Demand in month t (D_1=20000, D_2=40000, D_3=42000, D_4=35000, D_5=19000, D_6=18500)\nP = 300 (Sales price per unit)\nC_rm = 90 (Raw material cost per in-house unit)\nC_out = 200 (Outsourcing cost per unit)\nC_inv = 15 (Inventory holding cost per unit/month)\nC_bo = 35 (Backorder cost per unit/month)\nC_hire = 5000 (Hiring cost per worker)\nC_fire = 8000 (Firing cost per worker)\nC_reg = 30 (Regular wage per hour)\nC_ot = 40 (Overtime wage per hour)\nh_req = 5 (Labor hours per unit)\nh_reg = 160 (Regular hours per worker/month)\nh_ot_max = 20 (Max overtime hours per worker/month)\nInitial conditions: W_0 = 1000, I_0 = 15000, B_0 = 0\nTerminal conditions: I_6 ≥ 10000, B_6 = 0\n\nObjective:\nMaximize\n∑_{t=1}^6 [300 D_t\n- (90 x_t + 200 y_t + 15 I_t + 35 B_t + 5000 H_t + 8000 F_t + 30·W_{t-1}·160 + 40 OT_t)]\n\nSubject to, for t = 1,2,3,4,5,6:\n1. Inventory/Backorder balance:\nI_{t-1} + x_t + y_t + B_{t-1} = D_t + I_t + B_t\nwith I_0 = 15000, B_0 = 0\n\n2. Workforce balance:\nW_t = W_{t-1} + H_t - F_t\nwith W_0 = 1000\n\n3. Production capacity (labor):\nx_t·5 ≤ W_{t-1}·160 + OT_t\n\n4. Overtime limit:\nOT_t ≤ W_{t-1}·20\n\n5. Non-negativity and integrality:\nx_t, y_t, I_t, B_t, H_t, F_t, OT_t ≥ 0\nW_t, H_t, F_t are integers\n\n6. Terminal conditions:\nI_6 ≥ 10000\nB_6 = 0\n\nAll variables are nonnegative, and workforce/hiring/firing are integers.'}","import gurobipy as gp
from gurobipy import GRB

# Parameters
months = range(6)
demand = [20000, 40000, 42000, 35000, 19000, 18500]
P = 300
C_rm = 90
C_out = 200
C_inv = 15
C_bo = 35
C_hire = 5000
C_fire = 8000
C_reg = 30
C_ot = 40
h_req = 5
h_reg = 160
h_ot_max = 20
W0 = 1000
I0 = 15000
B0 = 0

# Model
m = gp.Model(""Foldable_Table_Production"")

# Decision variables
x = m.addVars(months, vtype=GRB.CONTINUOUS, lb=0, name=""inhouse_prod"")
y = m.addVars(months, vtype=GRB.CONTINUOUS, lb=0, name=""outsourced_prod"")
I = m.addVars(months, vtype=GRB.CONTINUOUS, lb=0, name=""inventory"")
B = m.addVars(months, vtype=GRB.CONTINUOUS, lb=0, name=""backorder"")
W = m.addVars(months, vtype=GRB.INTEGER, lb=0, name=""workforce"")
H = m.addVars(months, vtype=GRB.INTEGER, lb=0, name=""hired"")
F = m.addVars(months, vtype=GRB.INTEGER, lb=0, name=""fired"")
OT = m.addVars(months, vtype=GRB.CONTINUOUS, lb=0, name=""overtime_hours"")

# Auxiliary variables for previous period
def prev(var, t, initial):
    return initial if t == 0 else var[t-1]

# Objective function
m.setObjective(
    gp.quicksum(
        P * demand[t]
        - (C_rm * x[t] + C_out * y[t] + C_inv * I[t] + C_bo * B[t] + C_hire * H[t] + C_fire * F[t]
           + C_reg * prev(W, t, W0) * h_reg + C_ot * OT[t])
        for t in months
    ),
    GRB.MAXIMIZE
)

# Constraints

for t in months:
    # Inventory/Backorder balance
    m.addConstr(
        prev(I, t, I0) + x[t] + y[t] + prev(B, t, B0) == demand[t] + I[t] + B[t],
        name=f""inv_balance_{t}""
    )
    # Workforce balance
    m.addConstr(
        W[t] == prev(W, t, W0) + H[t] - F[t],
        name=f""workforce_balance_{t}""
    )
    # Production capacity (labor)
    m.addConstr(
        x[t] * h_req <= prev(W, t, W0) * h_reg + OT[t],
        name=f""prod_capacity_{t}""
    )
    # Overtime limit
    m.addConstr(
        OT[t] <= prev(W, t, W0) * h_ot_max,
        name=f""ot_limit_{t}""
    )
    # Non-negativity and integrality handled by variable types

# Terminal conditions
m.addConstr(I[5] >= 10000, name=""ending_inventory"")
m.addConstr(B[5] == 0, name=""ending_backorder"")

# Solve the model
m.optimize()",9569700,10349920,0,
"A farmer needs to decide how many cows, sheep, and chickens to raise in order to achieve maximum profit. The farmer can sell cows, sheep, and chickens for $500, $200, and $8 each, respectively. The feed costs for each cow, sheep, and chicken are $100, $80, and $5, respectively. The profit is the difference between the selling price and the feed cost. Each cow, sheep, and chicken produces 10, 5, and 3 units of manure per day, respectively. Due to the limited time the farm staff has for cleaning the farm each day, they can handle up to 800 units of manure. Additionally, because of the limited farm size, the farmer can raise at most 50 chickens. Furthermore, the farmer must have at least 10 cows to meet customer demand. The farmer must also raise at least 20 sheep. Finally, the total number of animals cannot exceed 100.","{'input': 'A farmer needs to decide how many cows, sheep, and chickens to raise in order to achieve maximum profit. The farmer can sell cows, sheep, and chickens for $500, $200, and $8 each, respectively. The feed costs for each cow, sheep, and chicken are $100, $80, and $5, respectively. The profit is the difference between the selling price and the feed cost. Each cow, sheep, and chicken produces 10, 5, and 3 units of manure per day, respectively. Due to the limited time the farm staff has for cleaning the farm each day, they can handle up to 800 units of manure. Additionally, because of the limited farm size, the farmer can raise at most 50 chickens. Furthermore, the farmer must have at least 10 cows to meet customer demand. The farmer must also raise at least 20 sheep. Finally, the total number of animals cannot exceed 100.', 'output': 'Maximize\n    400 * x1 + 120 * x2 + 3 * x3\n\nSubject to\n    10 * x1 + 5 * x2 + 3 * x3 <= 800\n    x3 <= 50\n    x1 >= 10\n    x2 >= 20\n    x1 + x2 + x3 <= 100\n    x1 ∈ Z+, x2 ∈ Z+, x3 ∈ Z+'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Farm_Profit_Optimization"")

# Decision variables: x1 = cows, x2 = sheep, x3 = chickens
x1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""cows"")
x2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""sheep"")
x3 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""chickens"")

# Objective function: Maximize profit
m.setObjective(400 * x1 + 120 * x2 + 3 * x3, GRB.MAXIMIZE)

# Constraints
m.addConstr(10 * x1 + 5 * x2 + 3 * x3 <= 800, name=""manure_limit"")
m.addConstr(x3 <= 50, name=""chicken_limit"")
m.addConstr(x1 >= 10, name=""min_cows"")
m.addConstr(x2 >= 20, name=""min_sheep"")
m.addConstr(x1 + x2 + x3 <= 100, name=""total_animals_limit"")

# Solve the model
m.optimize()",30400,30400,1,
"Mary is planning her dinner tonight. Every 100 grams of okra contains 3.2 grams of fiber, every 100 grams of carrots contains 2.7 grams of fiber, every 100 grams of celery contains 1.6 grams of fiber, and every 100 grams of cabbage contains 2 grams of fiber. How many grams of each type of food should Mary buy to maximize her fiber intake?

She is considering choosing one among salmon, beef, and pork as a protein source.

She also considers choosing at least two kinds of vegetables among okra, carrots, celery, and cabbage.

The price of salmon is $4 per 100 grams, beef is $3.6 per 100 grams, pork is $1.8 per 100 grams. The price of okra is $2.6 per 100 grams, carrots are $1.2 per 100 grams, celery is $1.6 per 100 grams, and cabbage is $2.3 per 100 grams. Mary has a budget of $15 for this meal.

The total food intake should be 600 grams.","{'input': 'Mary is planning her dinner tonight. Every 100 grams of okra contains 3.2 grams of fiber, every 100 grams of carrots contains 2.7 grams of fiber, every 100 grams of celery contains 1.6 grams of fiber, and every 100 grams of cabbage contains 2 grams of fiber. How many grams of each type of food should Mary buy to maximize her fiber intake?\n\nShe is considering choosing one among salmon, beef, and pork as a protein source.\n\nShe also considers choosing at least two kinds of vegetables among okra, carrots, celery, and cabbage.\n\nThe price of salmon is $4 per 100 grams, beef is $3.6 per 100 grams, pork is $1.8 per 100 grams. The price of okra is $2.6 per 100 grams, carrots are $1.2 per 100 grams, celery is $1.6 per 100 grams, and cabbage is $2.3 per 100 grams. Mary has a budget of $15 for this meal.\n\nThe total food intake should be 600 grams.', 'output': 'Maximize 0.032x1 + 0.027x2 + 0.016x3 + 0.02x4\nSubject to:\nx1 + x2 + x3 + x4 + y1 + y2 + y3 = 600\n0.026x1 + 0.012x2 + 0.016x3 + 0.023x4 + 0.04y1 + 0.036y2 + 0.018y3 <= 15\ny1 <= 600s1\ny2 <= 600s2\ny3 <= 600s3\ns1 + s2 + s3 = 1\nz1 + z2 + z3 + z4 >= 2\nx1 <= 600z1\nx2 <= 600z2\nx3 <= 600z3\nx4 <= 600z4\nx1 >= 0, x2 >= 0, x3 >= 0, x4 >= 0, y1 >= 0, y2 >= 0, y3 >= 0\ns1, s2, s3 ∈ {0,1}\nz1, z2, z3, z4 ∈ {0,1}'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Mary_Dinner_Optimization"")

# Decision variables
x1 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""okra_g"")
x2 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""carrots_g"")
x3 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""celery_g"")
x4 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""cabbage_g"")

y1 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""salmon_g"")
y2 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""beef_g"")
y3 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""pork_g"")

s1 = m.addVar(vtype=GRB.BINARY, name=""choose_salmon"")
s2 = m.addVar(vtype=GRB.BINARY, name=""choose_beef"")
s3 = m.addVar(vtype=GRB.BINARY, name=""choose_pork"")

z1 = m.addVar(vtype=GRB.BINARY, name=""choose_okra"")
z2 = m.addVar(vtype=GRB.BINARY, name=""choose_carrots"")
z3 = m.addVar(vtype=GRB.BINARY, name=""choose_celery"")
z4 = m.addVar(vtype=GRB.BINARY, name=""choose_cabbage"")

# Objective: Maximize fiber intake
m.setObjective(
    0.032 * x1 + 0.027 * x2 + 0.016 * x3 + 0.02 * x4,
    GRB.MAXIMIZE
)

# Total food intake constraint
m.addConstr(x1 + x2 + x3 + x4 + y1 + y2 + y3 == 600, name=""total_food_600g"")

# Budget constraint
m.addConstr(
    0.026 * x1 + 0.012 * x2 + 0.016 * x3 + 0.023 * x4 +
    0.04 * y1 + 0.036 * y2 + 0.018 * y3 <= 15,
    name=""budget""
)

# Protein selection constraints
m.addConstr(y1 <= 600 * s1, name=""salmon_select"")
m.addConstr(y2 <= 600 * s2, name=""beef_select"")
m.addConstr(y3 <= 600 * s3, name=""pork_select"")
m.addConstr(s1 + s2 + s3 == 1, name=""one_protein"")

# At least two vegetables
m.addConstr(z1 + z2 + z3 + z4 >= 2, name=""at_least_two_veggies"")

# Vegetable selection constraints
m.addConstr(x1 <= 600 * z1, name=""okra_select"")
m.addConstr(x2 <= 600 * z2, name=""carrots_select"")
m.addConstr(x3 <= 600 * z3, name=""celery_select"")
m.addConstr(x4 <= 600 * z4, name=""cabbage_select"")

# Solve the model
m.optimize()",18.98571429,18.6943,0,
"The contract reservations for the next year for products I, II, and III of a certain factory in each quarter are shown in Table 1-10.

Table 1-10
| Product | 1    | 2    | 3    | 4    |
|---------|------|------|------|------|
| I       | 1500 | 1000 | 2000 | 1200 |
| II      | 1500 | 1500 | 1200 | 1500 |
| III     | 1000 | 2000 | 1500 | 2500 |

At the beginning of the first quarter, there is no inventory for these three products, and it is required to have 150 units in stock for each product by the end of the fourth quarter. It is known that the factory has 15,000 production hours per quarter, and each unit of products I, II, and III requires 2, 4, and 3 hours respectively. Due to a change in equipment, product I cannot be produced in the second quarter. It is stipulated that if the products cannot be delivered on time, a compensation of 20 yuan per unit per quarter delay is required for products I and II, while for product III, the compensation is 10 yuan. Additionally, for products produced but not delivered in the current quarter, the inventory cost is 5 yuan per unit per quarter. How should the factory schedule production to minimize the total cost of compensation and inventory?","{'input': 'The contract reservations for the next year for products I, II, and III of a certain factory in each quarter are shown in Table 1-10.\n\nTable 1-10\n| Product | 1    | 2    | 3    | 4    |\n|---------|------|------|------|------|\n| I       | 1500 | 1000 | 2000 | 1200 |\n| II      | 1500 | 1500 | 1200 | 1500 |\n| III     | 1000 | 2000 | 1500 | 2500 |\n\nAt the beginning of the first quarter, there is no inventory for these three products, and it is required to have 150 units in stock for each product by the end of the fourth quarter. It is known that the factory has 15,000 production hours per quarter, and each unit of products I, II, and III requires 2, 4, and 3 hours respectively. Due to a change in equipment, product I cannot be produced in the second quarter. It is stipulated that if the products cannot be delivered on time, a compensation of 20 yuan per unit per quarter delay is required for products I and II, while for product III, the compensation is 10 yuan. Additionally, for products produced but not delivered in the current quarter, the inventory cost is 5 yuan per unit per quarter. How should the factory schedule production to minimize the total cost of compensation and inventory?', 'output': 'Minimize \n\u2003\u2003∑_{i=1}^3 ∑_{j=1}^4 5·s_{ij} + ∑_{i=1}^3 ∑_{k=1}^4 ∑_{j=k+1}^4 p_i·(j–k)·l_{ijk}\n\nSubject to:\n\u2003\u20032x_{1j} + 4x_{2j} + 3x_{3j} ≤ 15000\u2003\u2003for j = 1,2,3,4\n\u2003\u2003x_{1,2} = 0\n\u2003\u2003s_{i,j} = s_{i,j–1} + x_{i,j} – y_{i,j}\u2003\u2003for i = 1,2,3; j = 1,2,3,4\u2003\u2003(s_{i,0} = 0)\n\u2003\u2003s_{i,4} ≥ 150\u2003\u2003for i = 1,2,3\n\u2003\u2003∑_{j=k}^4 l_{ijk} = d_{ik}\u2003\u2003for i = 1,2,3; k = 1,2,3,4\n\u2003\u2003x_{ij} + s_{i,j–1} = ∑_{k=1}^j l_{ijk} + s_{ij}\u2003\u2003for i = 1,2,3; j = 1,2,3,4\n\u2003\u2003x_{ij} ≥ 0,\u2003s_{ij} ≥ 0,\u2003l_{ijk} ≥ 0\u2003\u2003for all i, j, k\n\nwhere:\n\u2003\u2003p_1 = 20,\u2003p_2 = 20,\u2003p_3 = 10\n\u2003\u2003d_{ij} are the demands from the table above.'}","import gurobipy as gp
from gurobipy import GRB

# Data
products = [1, 2, 3]  # I, II, III
quarters = [1, 2, 3, 4]

# Demand table d_{ij}
demand = {
    (1, 1): 1500, (1, 2): 1000, (1, 3): 2000, (1, 4): 1200,
    (2, 1): 1500, (2, 2): 1500, (2, 3): 1200, (2, 4): 1500,
    (3, 1): 1000, (3, 2): 2000, (3, 3): 1500, (3, 4): 2500
}

# Production hours per unit
prod_hours = {1: 2, 2: 4, 3: 3}

# Penalty per unit per quarter delay
penalty = {1: 20, 2: 20, 3: 10}

# Inventory cost per unit per quarter
inv_cost = 5

# Production hours available per quarter
max_hours = 15000

# Ending inventory requirement
end_inv = 150

# Create model
m = gp.Model(""Factory_Production_Scheduling"")

# Decision variables
x = m.addVars(products, quarters, lb=0, vtype=GRB.CONTINUOUS, name=""x"")  # production
s = m.addVars(products, quarters, lb=0, vtype=GRB.CONTINUOUS, name=""s"")  # inventory
l = m.addVars(products, quarters, quarters, lb=0, vtype=GRB.CONTINUOUS, name=""l"")  # late delivery

# Objective function
obj = gp.quicksum(inv_cost * s[i, j] for i in products for j in quarters) + \
      gp.quicksum(
          penalty[i] * (j - k) * l[i, j, k]
          for i in products for k in quarters for j in quarters if j > k
      )
m.setObjective(obj, GRB.MINIMIZE)

# Constraints

# Production hours per quarter
for j in quarters:
    m.addConstr(
        gp.quicksum(prod_hours[i] * x[i, j] for i in products) <= max_hours,
        name=f""prod_hours_q{j}""
    )

# Product I cannot be produced in Q2
m.addConstr(x[1, 2] == 0, name=""no_prod_I_Q2"")

# Inventory balance
for i in products:
    for j in quarters:
        if j == 1:
            m.addConstr(
                s[i, 1] == x[i, 1] - gp.quicksum(l[i, 1, k] for k in range(1, 2)),
                name=f""inv_bal_{i}_1""
            )
        else:
            m.addConstr(
                s[i, j] == s[i, j-1] + x[i, j] - gp.quicksum(l[i, j, k] for k in range(1, j+1)),
                name=f""inv_bal_{i}_{j}""
            )

# Ending inventory requirement
for i in products:
    m.addConstr(s[i, 4] >= end_inv, name=f""end_inv_{i}"")

# Demand fulfillment with late deliveries
for i in products:
    for k in quarters:
        m.addConstr(
            gp.quicksum(l[i, j, k] for j in range(k, 5)) == demand[i, k],
            name=f""demand_fulfill_{i}_{k}""
        )

# Production and inventory flow
for i in products:
    for j in quarters:
        m.addConstr(
            x[i, j] + (s[i, j-1] if j > 1 else 0) == gp.quicksum(l[i, j, k] for k in range(1, j+1)) + s[i, j],
            name=f""prod_inv_flow_{i}_{j}""
        )

# Solve
m.optimize()",10750,10755,0,
"An Italian transportation company needs to move some empty containers from its 6 warehouses (located in Verona, Perugia, Rome, Pescara, Taranto, and Lamezia) to major national ports (Genoa, Venice, Ancona, Naples, Bari). The container inventory at the warehouses is as follows:

|  | Empty Containers |
|:---:|:---:|
| Verona | 10 |
| Perugia | 12 |
| Rome | 20 |
| Pescara | 24 |
| Taranto | 18 |
| Lamezia | 40 |

The demand at the ports is as follows:

|  | Container Demand |
|:---:|:---:|
| Genoa | 20 |
| Venice | 15 |
| Ancona | 25 |
| Naples | 33 |
| Bari | 21 |

The transport is carried out by a fleet of trucks. The cost to transport each container is proportional to the distance traveled by the trucks, with a rate of 30 euros per kilometer. Each truck can carry up to 2 containers. The distances are as follows:

|  | Genoa | Venice | Ancona | Naples | Bari |
|:---:|:---:|:---:|:---:|:---:|:---:|
| Verona | $290 \mathrm{~km}$ | $115 \mathrm{~km}$ | $355 \mathrm{~km}$ | $715 \mathrm{~km}$ | $810 \mathrm{~km}$ |
| Perugia | $380 \mathrm{~km}$ | $340 \mathrm{~km}$ | $165 \mathrm{~km}$ | $380 \mathrm{~km}$ | $610 \mathrm{~km}$ |
| Rome | $505 \mathrm{~km}$ | $530 \mathrm{~km}$ | $285 \mathrm{~km}$ | $220 \mathrm{~km}$ | $450 \mathrm{~km}$ |
| Pescara | $655 \mathrm{~km}$ | $450 \mathrm{~km}$ | $155 \mathrm{~km}$ | $240 \mathrm{~km}$ | $315 \mathrm{~km}$ |
| Taranto | $1010 \mathrm{~km}$ | $840 \mathrm{~km}$ | $550 \mathrm{~km}$ | $305 \mathrm{~km}$ | $95 \mathrm{~km}$ |
| Lamezia | $1072 \mathrm{~km}$ | $1097 \mathrm{~km}$ | $747 \mathrm{~km}$ | $372 \mathrm{~km}$ | $333 \mathrm{~km}$ |

Write a mathematical program to find the minimum cost transportation policy and solve it using COPTPY.","{'input': 'An Italian transportation company needs to move some empty containers from its 6 warehouses (located in Verona, Perugia, Rome, Pescara, Taranto, and Lamezia) to major national ports (Genoa, Venice, Ancona, Naples, Bari). The container inventory at the warehouses is as follows:\n\n|  | Empty Containers |\n|:---:|:---:|\n| Verona | 10 |\n| Perugia | 12 |\n| Rome | 20 |\n| Pescara | 24 |\n| Taranto | 18 |\n| Lamezia | 40 |\n\nThe demand at the ports is as follows:\n\n|  | Container Demand |\n|:---:|:---:|\n| Genoa | 20 |\n| Venice | 15 |\n| Ancona | 25 |\n| Naples | 33 |\n| Bari | 21 |\n\nThe transport is carried out by a fleet of trucks. The cost to transport each container is proportional to the distance traveled by the trucks, with a rate of 30 euros per kilometer. Each truck can carry up to 2 containers. The distances are as follows:\n\n|  | Genoa | Venice | Ancona | Naples | Bari |\n|:---:|:---:|:---:|:---:|:---:|:---:|\n| Verona | $290 \\mathrm{{~km}}$ | $115 \\mathrm{{~km}}$ | $355 \\mathrm{{~km}}$ | $715 \\mathrm{{~km}}$ | $810 \\mathrm{{~km}}$ |\n| Perugia | $380 \\mathrm{{~km}}$ | $340 \\mathrm{{~km}}$ | $165 \\mathrm{{~km}}$ | $380 \\mathrm{{~km}}$ | $610 \\mathrm{{~km}}$ |\n| Rome | $505 \\mathrm{{~km}}$ | $530 \\mathrm{{~km}}$ | $285 \\mathrm{{~km}}$ | $220 \\mathrm{{~km}}$ | $450 \\mathrm{{~km}}$ |\n| Pescara | $655 \\mathrm{{~km}}$ | $450 \\mathrm{{~km}}$ | $155 \\mathrm{{~km}}$ | $240 \\mathrm{{~km}}$ | $315 \\mathrm{{~km}}$ |\n| Taranto | $1010 \\mathrm{{~km}}$ | $840 \\mathrm{{~km}}$ | $550 \\mathrm{{~km}}$ | $305 \\mathrm{{~km}}$ | $95 \\mathrm{{~km}}$ |\n| Lamezia | $1072 \\mathrm{{~km}}$ | $1097 \\mathrm{{~km}}$ | $747 \\mathrm{{~km}}$ | $372 \\mathrm{{~km}}$ | $333 \\mathrm{{~km}}$ |\n\nWrite a mathematical program to find the minimum cost transportation policy and solve it using COPTPY.', 'output': 'Mathematical Model:\nLet W = {1: Verona, 2: Perugia, 3: Rome, 4: Pescara, 5: Taranto, 6: Lamezia}\nLet P = {1: Genoa, 2: Venice, 3: Ancona, 4: Naples, 5: Bari}\nLet x_{ij} = number of containers shipped from warehouse i to port j (integer, ≥0)\n\nParameters:\n- Supply: s = [10, 12, 20, 24, 18, 40]\n- Demand: d = [20, 15, 25, 33, 21]\n- Distances (in km):\n\n|         | Genoa | Venice | Ancona | Naples | Bari |\n|---------|-------|--------|--------|--------|------|\n| Verona  |  290  |  115   |  355   |  715   | 810  |\n| Perugia |  380  |  340   |  165   |  380   | 610  |\n| Rome    |  505  |  530   |  285   |  220   | 450  |\n| Pescara |  655  |  450   |  155   |  240   | 315  |\n| Taranto | 1010  |  840   |  550   |  305   |  95  |\n| Lamezia | 1072  | 1097   |  747   |  372   | 333  |\n\n- Cost per container: c_{ij} = 30 × distance_{ij}\n\nObjective:\nMinimize\u2003Z = ∑_{i=1}^6 ∑_{j=1}^5 c_{ij} x_{ij}\n\nSubject to:\n\u2003∑_{j=1}^5 x_{ij} ≤ s_i\u2003\u2003for i = 1,...,6\u2003\u2003(supply constraints)\n\u2003∑_{i=1}^6 x_{ij} ≥ d_j\u2003\u2003for j = 1,...,5\u2003\u2003(demand constraints)\n\u2003x_{ij} ∈ Z+,\u2003for all i, j\n\nCOPTPY Implementation (Python):\n\n```python\nimport coptpy\nimport math\n\nwarehouses = [\'Verona\', \'Perugia\', \'Rome\', \'Pescara\', \'Taranto\', \'Lamezia\']\nports = [\'Genoa\', \'Venice\', \'Ancona\', \'Naples\', \'Bari\']\nsupply = [10, 12, 20, 24, 18, 40]\ndemand = [20, 15, 25, 33, 21]\ndistances = [\n    [290, 115, 355, 715, 810],\n    [380, 340, 165, 380, 610],\n    [505, 530, 285, 220, 450],\n    [655, 450, 155, 240, 315],\n    [1010, 840, 550, 305, 95],\n    [1072, 1097, 747, 372, 333]\n]\ncost = [[30 * distances[i][j] for j in range(len(ports))] for i in range(len(warehouses))]\n\nenv = coptpy.Envr()\nmodel = env.createModel(""container_transport"")\n\nx = {}\nfor i in range(len(warehouses)):\n    for j in range(len(ports)):\n        x[i, j] = model.addVar(vtype=coptpy.COPT.INTEGER, name=f""x_{i}_{j}"")\n\nmodel.setObjective(\n    sum(cost[i][j] * x[i, j] for i in range(len(warehouses)) for j in range(len(ports))),\n    sense=coptpy.COPT.MINIMIZE\n)\n\nfor i in range(len(warehouses)):\n    model.addConstr(sum(x[i, j] for j in range(len(ports))) <= supply[i], name=f""supply_{i}"")\n\nfor j in range(len(ports)):\n    model.addConstr(sum(x[i, j] for i in range(len(warehouses))) >= demand[j], name=f""demand_{j}"")\n\nmodel.solve()\n\nif model.status == coptpy.COPT.OPTIMAL:\n    print(""Optimal total cost:"", model.objval)\n    for i in range(len(warehouses)):\n        for j in range(len(ports)):\n            if x[i, j].x > 0.5:\n                print(f""Send {int(round(x[i, j].x))} containers from {warehouses[i]} to {ports[j]}"")\nelse:\n    print(""No optimal solution found."")\n```\n\nThis model will give you the minimum cost transportation plan. If you want to compute the number of trucks per route, for each (i, j), number of trucks = ceil(x_{ij} / 2).'}","import gurobipy as gp
from gurobipy import GRB
import math

# Data
warehouses = ['Verona', 'Perugia', 'Rome', 'Pescara', 'Taranto', 'Lamezia']
ports = ['Genoa', 'Venice', 'Ancona', 'Naples', 'Bari']
supply = [10, 12, 20, 24, 18, 40]
demand = [20, 15, 25, 33, 21]
distances = [
    [290, 115, 355, 715, 810],
    [380, 340, 165, 380, 610],
    [505, 530, 285, 220, 450],
    [655, 450, 155, 240, 315],
    [1010, 840, 550, 305, 95],
    [1072, 1097, 747, 372, 333]
]
cost = [[30 * distances[i][j] for j in range(len(ports))] for i in range(len(warehouses))]

# Model
m = gp.Model(""Container_Transport"")

# Decision variables: x[i,j] = number of containers shipped from warehouse i to port j
x = m.addVars(len(warehouses), len(ports), vtype=GRB.INTEGER, lb=0, name=""x"")

# Objective: Minimize total transportation cost
m.setObjective(
    gp.quicksum(cost[i][j] * x[i, j] for i in range(len(warehouses)) for j in range(len(ports))),
    GRB.MINIMIZE
)

# Supply constraints: total shipped from each warehouse <= supply
for i in range(len(warehouses)):
    m.addConstr(gp.quicksum(x[i, j] for j in range(len(ports))) <= supply[i], name=f""supply_{i}"")

# Demand constraints: total received at each port >= demand
for j in range(len(ports)):
    m.addConstr(gp.quicksum(x[i, j] for i in range(len(warehouses))) >= demand[j], name=f""demand_{j}"")

# Solve
m.optimize()

# Output
if m.status == GRB.OPTIMAL:
    print(""Optimal total cost:"", m.objVal)
    for i in range(len(warehouses)):
        for j in range(len(ports)):
            if x[i, j].X > 0.5:
                print(f""Send {int(round(x[i, j].X))} containers from {warehouses[i]} to {ports[j]}"")
else:
    print(""No optimal solution found."")",904590,904590,1,
"Now, we need to determine 4 out of 5 workers to complete one of the four tasks respectively. Due to each worker's different technical specialties, the time required for them to complete each task varies. The hours required by each worker to complete each task are shown in Table 5-2.

Table 5-2
| Worker | $A$ | $B$ | $C$ | $D$ |
|--------|-----|-----|-----|-----|
| I      | 9   | 4   | 3   | 7   |
| II     | 4   | 6   | 5   | 6   |
| III    | 5   | 4   | 7   | 5   |
| IV     | 7   | 5   | 2   | 3   |
| V      | 10  | 6   | 7   | 4   |

Try to find a job assignment plan that minimizes the total working hours.","{'input': ""Now, we need to determine 4 out of 5 workers to complete one of the four tasks respectively. Due to each worker's different technical specialties, the time required for them to complete each task varies. The hours required by each worker to complete each task are shown in Table 5-2.\n\nTable 5-2\n| Worker | $A$ | $B$ | $C$ | $D$ |\n|--------|-----|-----|-----|-----|\n| I      | 9   | 4   | 3   | 7   |\n| II     | 4   | 6   | 5   | 6   |\n| III    | 5   | 4   | 7   | 5   |\n| IV     | 7   | 5   | 2   | 3   |\n| V      | 10  | 6   | 7   | 4   |\n\nTry to find a job assignment plan that minimizes the total working hours."", 'output': 'The minimum total working hours is 14.\n\nOne optimal assignment plan is:\n- Assign Worker II to Task A (4 hours)\n- Assign Worker III to Task B (4 hours)\n- Assign Worker IV to Task C (2 hours)\n- Assign Worker V to Task D (4 hours)\n\nWorker I is not assigned.'}","import gurobipy as gp
from gurobipy import GRB
import numpy as np

# Data: hours required for each worker to complete each task
cost = np.array([
    [9, 4, 3, 7],   # Worker I
    [4, 6, 5, 6],   # Worker II
    [5, 4, 7, 5],   # Worker III
    [7, 5, 2, 3],   # Worker IV
    [10, 6, 7, 4]   # Worker V
])

num_workers = 5
num_tasks = 4

# Create the model
m = gp.Model(""Assignment_Problem"")

# Decision variables: x[i,j] = 1 if worker i is assigned to task j
x = m.addVars(num_workers, num_tasks, vtype=GRB.BINARY, name=""x"")

# Objective: Minimize total working hours
m.setObjective(gp.quicksum(cost[i, j] * x[i, j] for i in range(num_workers) for j in range(num_tasks)), GRB.MINIMIZE)

# Each task is assigned to exactly one worker
for j in range(num_tasks):
    m.addConstr(gp.quicksum(x[i, j] for i in range(num_workers)) == 1, name=f""task_{j}_assigned"")

# Each worker is assigned to at most one task
for i in range(num_workers):
    m.addConstr(gp.quicksum(x[i, j] for j in range(num_tasks)) <= 1, name=f""worker_{i}_assigned"")

# Exactly 4 workers are assigned (i.e., one worker is left out)
m.addConstr(gp.quicksum(x[i, j] for i in range(num_workers) for j in range(num_tasks)) == num_tasks, name=""total_assignments"")

# Solve the model
m.optimize()",14,14,1,
"Haus Toys can manufacture and sell toy trucks, toy airplanes, toy boats, and toy trains. The profit for each truck sold is $5, each airplane $10, each boat $8, and each train $7. How many types of toys should Haus Toys manufacture to maximize profits?

There are 890 units of wood available. Each truck requires 12 units, each airplane 20 units, each boat 15 units, and each train 10 units.

There are 500 units of steel available. Each airplane requires 3 units, each boat 5 units, each train 4 units, and each truck 6 units.

If Haus Toys manufactures trucks, they will not manufacture trains.

However, if they manufacture boats, they will also manufacture airplanes.

The number of toy boats manufactured cannot exceed the number of toy trains manufactured.","{'input': 'Haus Toys can manufacture and sell toy trucks, toy airplanes, toy boats, and toy trains. The profit for each truck sold is $5, each airplane $10, each boat $8, and each train $7. How many types of toys should Haus Toys manufacture to maximize profits?\n\nThere are 890 units of wood available. Each truck requires 12 units, each airplane 20 units, each boat 15 units, and each train 10 units.\n\nThere are 500 units of steel available. Each airplane requires 3 units, each boat 5 units, each train 4 units, and each truck 6 units.\n\nIf Haus Toys manufactures trucks, they will not manufacture trains.\n\nHowever, if they manufacture boats, they will also manufacture airplanes.\n\nThe number of toy boats manufactured cannot exceed the number of toy trains manufactured.', 'output': 'Maximize\n    5x1 + 10x2 + 8x3 + 7x4\n\nSubject to\n    12x1 + 20x2 + 15x3 + 10x4 <= 890\n    6x1 + 3x2 + 5x3 + 4x4 <= 500\n    x1 <= M*y1\n    x4 <= M*y4\n    y1 + y4 <= 1\n    x2 <= M*y2\n    x3 <= M*y3\n    y3 <= y2\n    x3 <= x4\n    x1, x2, x3, x4 ∈ Z+, y1, y2, y3, y4 ∈ {0,1}\n\n(where M is a sufficiently large positive integer)'}","import gurobipy as gp
from gurobipy import GRB

# Big M value
M = 1000

# Create the model
m = gp.Model(""Haus_Toys_Optimization"")

# Decision variables: number of trucks (x1), airplanes (x2), boats (x3), trains (x4)
x1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_truck"")
x2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_airplane"")
x3 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_boat"")
x4 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_train"")

# Binary variables: whether to manufacture each toy type
y1 = m.addVar(vtype=GRB.BINARY, name=""y_truck"")
y2 = m.addVar(vtype=GRB.BINARY, name=""y_airplane"")
y3 = m.addVar(vtype=GRB.BINARY, name=""y_boat"")
y4 = m.addVar(vtype=GRB.BINARY, name=""y_train"")

# Objective function: Maximize profit
m.setObjective(5 * x1 + 10 * x2 + 8 * x3 + 7 * x4, GRB.MAXIMIZE)

# Constraints

# Wood constraint
m.addConstr(12 * x1 + 20 * x2 + 15 * x3 + 10 * x4 <= 890, name=""wood_constraint"")

# Steel constraint
m.addConstr(6 * x1 + 3 * x2 + 5 * x3 + 4 * x4 <= 500, name=""steel_constraint"")

# Linking x1 and y1 (trucks)
m.addConstr(x1 <= M * y1, name=""truck_link"")

# Linking x4 and y4 (trains)
m.addConstr(x4 <= M * y4, name=""train_link"")

# Cannot manufacture both trucks and trains
m.addConstr(y1 + y4 <= 1, name=""truck_train_exclusion"")

# Linking x2 and y2 (airplanes)
m.addConstr(x2 <= M * y2, name=""airplane_link"")

# Linking x3 and y3 (boats)
m.addConstr(x3 <= M * y3, name=""boat_link"")

# If boats are manufactured, airplanes must also be manufactured
m.addConstr(y3 <= y2, name=""boat_requires_airplane"")

# Number of boats cannot exceed number of trains
m.addConstr(x3 <= x4, name=""boats_leq_trains"")

# Solve the model
m.optimize()",623,623,1,
"A convenience supermarket is planning to open several chain stores in a newly built residential area in the northwest suburb of the city. For shopping convenience, the distance from any residential area to one of the chain stores should not exceed $800 \mathrm{~m}$. Table 5-1 shows the new residential areas and the residential areas within a radius of $800 \mathrm{~m}$ from each of them. Question: What is the minimum number of chain stores the supermarket needs to build among the mentioned residential areas, and in which residential areas should they be built?

| Area Code | Residential Areas within $800 \mathrm{~m}$ Radius |
|-----------|---------------------------------------------------|
| A         | A, C, E, G, H, I                                  |
| B         | B, H, I                                           |
| C         | A, C, G, H, I                                     |
| D         | D, J                                              |
| E         | A, E, G                                           |
| F         | F, J, K                                           |
| G         | A, C, E, G                                        |
| H         | A, B, C, H, I                                     |
| I         | A, B, C, H, I                                     |
| J         | D, F, J, K, L                                     |
| K         | F, J, K, L                                        |
| L         | J, K, L                                           |","{'input': 'A convenience supermarket is planning to open several chain stores in a newly built residential area in the northwest suburb of the city. For shopping convenience, the distance from any residential area to one of the chain stores should not exceed $800 \\mathrm{{~m}}$. Table 5-1 shows the new residential areas and the residential areas within a radius of $800 \\mathrm{{~m}}$ from each of them. Question: What is the minimum number of chain stores the supermarket needs to build among the mentioned residential areas, and in which residential areas should they be built?\n\n| Area Code | Residential Areas within $800 \\mathrm{{~m}}$ Radius |\n|-----------|---------------------------------------------------|\n| A         | A, C, E, G, H, I                                  |\n| B         | B, H, I                                           |\n| C         | A, C, G, H, I                                     |\n| D         | D, J                                              |\n| E         | A, E, G                                           |\n| F         | F, J, K                                           |\n| G         | A, C, E, G                                        |\n| H         | A, B, C, H, I                                     |\n| I         | A, B, C, H, I                                     |\n| J         | D, F, J, K, L                                     |\n| K         | F, J, K, L                                        |\n| L         | J, K, L                                           |', 'output': 'The minimum number of chain stores needed is 3. They should be built in residential areas H, J, and E (alternatively, H, J, and G; or H, J, and A; or H, J, and C—any of these combinations will cover all areas).'}","import gurobipy as gp
from gurobipy import GRB

# Area codes
areas = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L']

# Coverage dictionary: for each area, which areas are within 800m (including itself)
coverage = {
    'A': ['A', 'C', 'E', 'G', 'H', 'I'],
    'B': ['B', 'H', 'I'],
    'C': ['A', 'C', 'G', 'H', 'I'],
    'D': ['D', 'J'],
    'E': ['A', 'E', 'G'],
    'F': ['F', 'J', 'K'],
    'G': ['A', 'C', 'E', 'G'],
    'H': ['A', 'B', 'C', 'H', 'I'],
    'I': ['A', 'B', 'C', 'H', 'I'],
    'J': ['D', 'F', 'J', 'K', 'L'],
    'K': ['F', 'J', 'K', 'L'],
    'L': ['J', 'K', 'L']
}

# Create the model
m = gp.Model(""Supermarket_Chain_Store_Location"")

# Decision variables: y[i] = 1 if a store is built in area i, 0 otherwise
y = m.addVars(areas, vtype=GRB.BINARY, name=""y"")

# Objective: minimize the number of stores
m.setObjective(gp.quicksum(y[i] for i in areas), GRB.MINIMIZE)

# Constraints: every area must be covered by at least one store within 800m
for j in areas:
    m.addConstr(gp.quicksum(y[i] for i in areas if j in coverage[i]) >= 1, name=f""cover_{j}"")

# Solve the model
m.optimize()",3,3,1,
"A company produces two types of small motorcycles. Type A is entirely manufactured in-house, while Type B is assembled from imported parts. The time required per unit for manufacturing, assembly, and inspection is shown in Table 3.2. The weekly available capacity of each process is also listed. Each process has an hourly cost, and the selling price per unit of each product is given.

Table 3.2

| Type | Manufacturing (hours/unit) | Assembly (hours/unit) | Inspection (hours/unit) | Selling Price (Yuan/unit) |
| :---: | :---: | :---: | :---: | :---: |
| Type A | 20 | 5 | 3 | 650 |
| Type B | 0 | 7 | 6 | 725 |
| Max weekly capacity | 120 | 80 | 40 | - |
| Process cost (Yuan/hour) | 12 | 8 | 10 | - |

Let decision variables \(x_1\) and \(x_2\) denote the weekly production quantities of Type A and Type B, respectively. The company's operational requirements are as follows:

- \(p_{1}\): The total weekly profit should be at least 3000 yuan.
- \(p_{2}\): At least 5 units of Type A must be produced each week.
- \(p_{3}\): Idle time of each process should be minimized, with weights proportional to the corresponding hourly cost. Overtime is not allowed.

Formulate a linear programming model to maximize weekly profit subject to these constraints. What is the total profit of the company鈥檚 production plan that satisfies the goals and targets above?","{'input': ""A company produces two types of small motorcycles. Type A is entirely manufactured in-house, while Type B is assembled from imported parts. The time required per unit for manufacturing, assembly, and inspection is shown in Table 3.2. The weekly available capacity of each process is also listed. Each process has an hourly cost, and the selling price per unit of each product is given.\n\nTable 3.2\n\n| Type | Manufacturing (hours/unit) | Assembly (hours/unit) | Inspection (hours/unit) | Selling Price (Yuan/unit) |\n| :---: | :---: | :---: | :---: | :---: |\n| Type A | 20 | 5 | 3 | 650 |\n| Type B | 0 | 7 | 6 | 725 |\n| Max weekly capacity | 120 | 80 | 40 | - |\n| Process cost (Yuan/hour) | 12 | 8 | 10 | - |\n\nLet decision variables \\(x_1\\) and \\(x_2\\) denote the weekly production quantities of Type A and Type B, respectively. The company's operational requirements are as follows:\n\n- \\(p_{{1}}\\): The total weekly profit should be at least 3000 yuan.\n- \\(p_{{2}}\\): At least 5 units of Type A must be produced each week.\n- \\(p_{{3}}\\): Idle time of each process should be minimized, with weights proportional to the corresponding hourly cost. Overtime is not allowed.\n\nFormulate a linear programming model to maximize weekly profit subject to these constraints. What is the total profit of the company鈥檚 production plan that satisfies the goals and targets above?"", 'output': 'Maximize\u2003340x₁ + 609x₂\nsubject to\n\u200320x₁ ≤ 120\n\u20035x₁ + 7x₂ ≤ 80\n\u20033x₁ + 6x₂ ≤ 40\n\u2003x₁ ≥ 5\n\u2003340x₁ + 609x₂ ≥ 3000\n\u2003x₁ ≥ 0,\u2003x₂ ≥ 0\n\nOptimal production plan: x₁ = 6, x₂ = 3.67\nMaximum total weekly profit: 4275 yuan'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Motorcycle_Production_Optimization"")

# Decision variables: x1 = Type A units, x2 = Type B units
x1 = m.addVar(lb=0, name=""x1"")
x2 = m.addVar(lb=0, name=""x2"")

# Objective function: Maximize profit
# Profit per unit: Type A = 650 - (20*12 + 5*8 + 3*10) = 340
#                  Type B = 725 - (0*12 + 7*8 + 6*10) = 609
m.setObjective(340 * x1 + 609 * x2, GRB.MAXIMIZE)

# Constraints

# Manufacturing: 20x1 <= 120
m.addConstr(20 * x1 <= 120, name=""manufacturing_capacity"")

# Assembly: 5x1 + 7x2 <= 80
m.addConstr(5 * x1 + 7 * x2 <= 80, name=""assembly_capacity"")

# Inspection: 3x1 + 6x2 <= 40
m.addConstr(3 * x1 + 6 * x2 <= 40, name=""inspection_capacity"")

# At least 5 units of Type A
m.addConstr(x1 >= 5, name=""min_typeA"")

# Total profit at least 3000
m.addConstr(340 * x1 + 609 * x2 >= 3000, name=""min_profit"")

# Solve the model
m.optimize()",4273,3867,0,
"Red Star Plastics Factory produces six distinct types of plastic containers. Each container type is characterized by a specific volume, market demand, and unit variable production cost, as detailed in Table 5-11.

**Table 5-11: Container Data**
| Container Type (Code)             | 1    | 2    | 3    | 4    | 5    | 6     |
| :------------------------------ | :--- | :--- | :--- | :--- | :--- | :---- |
| Volume ($\text{cm}^3$)             | 1500 | 2500 | 4000 | 6000 | 9000 | 12000 |
| Market Demand (units)           | 500  | 550  | 700  | 900  | 400  | 300   |
| Unit Variable Production Cost (Yuan/unit) | 5    | 8    | 10   | 12   | 16   | 18    |

The production of any container type necessitates the use of its dedicated specialized equipment. If the decision is made to **activate** the production equipment for a particular container type (i.e., if the production quantity of that type is greater than zero), a fixed setup cost of 1200 Yuan is incurred for that specific equipment.

Should the production quantity of a certain container type be insufficient to meet its direct demand, the factory has the option to utilize other container types with **larger or equal volume** as substitutes to fulfill this unmet demand. For instance, type 2 containers (volume 2500 $\text{cm}^3$) can be used to satisfy the demand for type 1 containers (requiring a volume of 1500 $\text{cm}^3$), but type 1 containers cannot be used for type 2 demand. In this problem, the container type codes are pre-sorted in ascending order of their volumes.

**Question:**
How should the factory organize its production? The objective is to develop a production plan that minimizes the total cost鈥攃omprising the sum of variable production costs for all containers produced and the fixed costs for all activated equipment鈥攚hile ensuring that the demand for all container types is fully met.","{'input': 'Red Star Plastics Factory produces six distinct types of plastic containers. Each container type is characterized by a specific volume, market demand, and unit variable production cost, as detailed in Table 5-11.\n\n**Table 5-11: Container Data**\n| Container Type (Code)             | 1    | 2    | 3    | 4    | 5    | 6     |\n| :------------------------------ | :--- | :--- | :--- | :--- | :--- | :---- |\n| Volume ($\\text{{cm}}^3$)             | 1500 | 2500 | 4000 | 6000 | 9000 | 12000 |\n| Market Demand (units)           | 500  | 550  | 700  | 900  | 400  | 300   |\n| Unit Variable Production Cost (Yuan/unit) | 5    | 8    | 10   | 12   | 16   | 18    |\n\nThe production of any container type necessitates the use of its dedicated specialized equipment. If the decision is made to **activate** the production equipment for a particular container type (i.e., if the production quantity of that type is greater than zero), a fixed setup cost of 1200 Yuan is incurred for that specific equipment.\n\nShould the production quantity of a certain container type be insufficient to meet its direct demand, the factory has the option to utilize other container types with **larger or equal volume** as substitutes to fulfill this unmet demand. For instance, type 2 containers (volume 2500 $\\text{{cm}}^3$) can be used to satisfy the demand for type 1 containers (requiring a volume of 1500 $\\text{{cm}}^3$), but type 1 containers cannot be used for type 2 demand. In this problem, the container type codes are pre-sorted in ascending order of their volumes.\n\n**Question:**\nHow should the factory organize its production? The objective is to develop a production plan that minimizes the total cost鈥攃omprising the sum of variable production costs for all containers produced and the fixed costs for all activated equipment鈥攚hile ensuring that the demand for all container types is fully met.', 'output': 'Minimize\n    5 x_1 + 8 x_2 + 10 x_3 + 12 x_4 + 16 x_5 + 18 x_6 + 1200 y_1 + 1200 y_2 + 1200 y_3 + 1200 y_4 + 1200 y_5 + 1200 y_6\n\nSubject to\n    s_{1,1} + s_{1,2} + s_{1,3} + s_{1,4} + s_{1,5} + s_{1,6} ≥ 500\n    s_{2,2} + s_{2,3} + s_{2,4} + s_{2,5} + s_{2,6} ≥ 550\n    s_{3,3} + s_{3,4} + s_{3,5} + s_{3,6} ≥ 700\n    s_{4,4} + s_{4,5} + s_{4,6} ≥ 900\n    s_{5,5} + s_{5,6} ≥ 400\n    s_{6,6} ≥ 300\n\n    s_{1,1} ≤ x_1\n    s_{2,2} + s_{1,2} ≤ x_2\n    s_{3,3} + s_{2,3} + s_{1,3} ≤ x_3\n    s_{4,4} + s_{3,4} + s_{2,4} + s_{1,4} ≤ x_4\n    s_{5,5} + s_{4,5} + s_{3,5} + s_{2,5} + s_{1,5} ≤ x_5\n    s_{6,6} + s_{5,6} + s_{4,6} + s_{3,6} + s_{2,6} + s_{1,6} ≤ x_6\n\n    x_j ≤ M y_j,\u2003j = 1,…,6\n\n    x_j ∈ Z+,\u2003y_j ∈ {0,1},\u2003s_{i,j} ∈ Z+,\u2003for all i = 1,…,6; j = i,…,6\n\nwhere\n    x_j: number of containers of type j produced\n    y_j: 1 if equipment for type j is activated, 0 otherwise\n    s_{i,j}: number of type j containers used to satisfy demand for type i (j ≥ i)\n    M: a sufficiently large constant (e.g., sum of all demands)'}","import gurobipy as gp
from gurobipy import GRB

# Data
n_types = 6
volumes = [1500, 2500, 4000, 6000, 9000, 12000]
demands = [500, 550, 700, 900, 400, 300]
unit_costs = [5, 8, 10, 12, 16, 18]
fixed_cost = 1200
M = sum(demands)

# Create the model
m = gp.Model(""Red_Star_Plastics_Production"")

# Decision variables
x = m.addVars(n_types, vtype=GRB.INTEGER, lb=0, name=""x"")  # Number produced of each type
y = m.addVars(n_types, vtype=GRB.BINARY, name=""y"")         # Equipment activation
s = {}  # s[i,j]: type j used to satisfy demand for type i (j >= i)
for i in range(n_types):
    for j in range(i, n_types):
        s[i, j] = m.addVar(vtype=GRB.INTEGER, lb=0, name=f""s_{i+1}_{j+1}"")

# Objective function
m.setObjective(
    gp.quicksum(unit_costs[j] * x[j] for j in range(n_types)) +
    gp.quicksum(fixed_cost * y[j] for j in range(n_types)),
    GRB.MINIMIZE
)

# Demand satisfaction constraints
for i in range(n_types):
    m.addConstr(
        gp.quicksum(s[i, j] for j in range(i, n_types)) >= demands[i],
        name=f""demand_{i+1}""
    )

# Production usage constraints
for j in range(n_types):
    m.addConstr(
        gp.quicksum(s[i, j] for i in range(j+1)) <= x[j],
        name=f""prod_usage_{j+1}""
    )

# Linking x and y
for j in range(n_types):
    m.addConstr(x[j] <= M * y[j], name=f""link_{j+1}"")

# Solve the model
m.optimize()",43200,43200,1,
"Tom and Jerry just bought a farm in Sunshine Valley, and they are considering using it to plant corn, wheat, soybeans, and sorghum. The profit per acre for planting corn is $1500, the profit per acre for planting wheat is $1200, the profit per acre for planting soybeans is $1800, and the profit per acre for planting sorghum is $1600. To maximize their profit, how many acres of land should they allocate to each crop? Tom and Jerry鈥檚 farm has a total area of 100 acres.

The land area used for planting corn must be at least twice the land area used for planting wheat.

The land area used for planting soybeans must be at least half the land area used for planting sorghum.

The land area used for planting wheat must be three times the land area used for planting sorghum.","{'input': 'Tom and Jerry just bought a farm in Sunshine Valley, and they are considering using it to plant corn, wheat, soybeans, and sorghum. The profit per acre for planting corn is $1500, the profit per acre for planting wheat is $1200, the profit per acre for planting soybeans is $1800, and the profit per acre for planting sorghum is $1600. To maximize their profit, how many acres of land should they allocate to each crop? Tom and Jerry鈥檚 farm has a total area of 100 acres.\n\nThe land area used for planting corn must be at least twice the land area used for planting wheat.\n\nThe land area used for planting soybeans must be at least half the land area used for planting sorghum.\n\nThe land area used for planting wheat must be three times the land area used for planting sorghum.', 'output': 'Maximize\n    1500 * x1 + 1200 * x2 + 1800 * x3 + 1600 * x4\n\nSubject to\n    x1 + x2 + x3 + x4 = 100\n    x1 >= 2 * x2\n    x3 >= 0.5 * x4\n    x2 = 3 * x4\n    x1 >= 0, x2 >= 0, x3 >= 0, x4 >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Farm_Profit_Optimization"")

# Decision variables: x1 = corn, x2 = wheat, x3 = soybeans, x4 = sorghum (acres)
x1 = m.addVar(lb=0, name=""corn"")
x2 = m.addVar(lb=0, name=""wheat"")
x3 = m.addVar(lb=0, name=""soybeans"")
x4 = m.addVar(lb=0, name=""sorghum"")

# Objective function: Maximize profit
m.setObjective(1500 * x1 + 1200 * x2 + 1800 * x3 + 1600 * x4, GRB.MAXIMIZE)

# Constraints
m.addConstr(x1 + x2 + x3 + x4 == 100, name=""total_acreage"")
m.addConstr(x1 >= 2 * x2, name=""corn_wheat_ratio"")
m.addConstr(x3 >= 0.5 * x4, name=""soybean_sorghum_ratio"")
m.addConstr(x2 == 3 * x4, name=""wheat_sorghum_ratio"")

# Solve the model
m.optimize()",180000,180000,1,
"Mary is planning tonight's dinner. She wants to choose a combination of protein and vegetables to maximize her protein intake for the meal. Her protein options are chicken, salmon, and tofu, which can be bought in any quantity.

- Chicken: 23g protein, $3.00 cost, per 100g.
- Salmon: 20g protein, $5.00 cost, per 100g.
- Tofu: 8g protein, $1.50 cost, per 100g.

She also wants to choose from a list of five vegetables, sold in 100g packs. She must select at least three different types of vegetables.

- Broccoli (100g pack): 2.8g protein, $1.20 cost.
- Carrots (100g pack): 0.9g protein, $0.80 cost.
- Spinach (100g pack): 2.9g protein, $1.50 cost.
- Bell Pepper (100g pack): 1.0g protein, $1.00 cost.
- Mushrooms (100g pack): 3.1g protein, $2.00 cost.

Mary has two main constraints:
1. Her total budget is $20.
2. The total weight of all food must not exceed 800 grams.

How should Mary choose her ingredients to get the maximum possible amount of protein?","{'input': ""Mary is planning tonight's dinner. She wants to choose a combination of protein and vegetables to maximize her protein intake for the meal. Her protein options are chicken, salmon, and tofu, which can be bought in any quantity.\n\n- Chicken: 23g protein, $3.00 cost, per 100g.\n- Salmon: 20g protein, $5.00 cost, per 100g.\n- Tofu: 8g protein, $1.50 cost, per 100g.\n\nShe also wants to choose from a list of five vegetables, sold in 100g packs. She must select at least three different types of vegetables.\n\n- Broccoli (100g pack): 2.8g protein, $1.20 cost.\n- Carrots (100g pack): 0.9g protein, $0.80 cost.\n- Spinach (100g pack): 2.9g protein, $1.50 cost.\n- Bell Pepper (100g pack): 1.0g protein, $1.00 cost.\n- Mushrooms (100g pack): 3.1g protein, $2.00 cost.\n\nMary has two main constraints:\n1. Her total budget is $20.\n2. The total weight of all food must not exceed 800 grams.\n\nHow should Mary choose her ingredients to get the maximum possible amount of protein?"", 'output': 'Maximize\u200323x1 + 20x2 + 8x3 + 2.8y1 + 0.9y2 + 2.9y3 + 1.0y4 + 3.1y5\n\nSubject to\n\u20033.00x1 + 5.00x2 + 1.50x3 + 1.20y1 + 0.80y2 + 1.50y3 + 1.00y4 + 2.00y5 ≤ 20\n\u2003100x1 + 100x2 + 100x3 + 100(y1 + y2 + y3 + y4 + y5) ≤ 800\n\u2003y1 + y2 + y3 + y4 + y5 ≥ 3\n\u2003x1 ≥ 0, x2 ≥ 0, x3 ≥ 0\n\u2003y1, y2, y3, y4, y5 ∈ {0, 1}'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Mary_Dinner_Optimization"")

# Decision variables for protein (continuous, in 100g units)
x1 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""chicken_100g"")
x2 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""salmon_100g"")
x3 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""tofu_100g"")

# Decision variables for vegetables (binary, 0 or 1 pack of 100g)
y1 = m.addVar(vtype=GRB.BINARY, name=""broccoli_100g"")
y2 = m.addVar(vtype=GRB.BINARY, name=""carrots_100g"")
y3 = m.addVar(vtype=GRB.BINARY, name=""spinach_100g"")
y4 = m.addVar(vtype=GRB.BINARY, name=""bellpepper_100g"")
y5 = m.addVar(vtype=GRB.BINARY, name=""mushrooms_100g"")

# Objective function: maximize total protein
m.setObjective(
    23 * x1 + 20 * x2 + 8 * x3 +
    2.8 * y1 + 0.9 * y2 + 2.9 * y3 + 1.0 * y4 + 3.1 * y5,
    GRB.MAXIMIZE
)

# Budget constraint
m.addConstr(
    3.00 * x1 + 5.00 * x2 + 1.50 * x3 +
    1.20 * y1 + 0.80 * y2 + 1.50 * y3 + 1.00 * y4 + 2.00 * y5 <= 20,
    name=""budget""
)

# Total weight constraint (all in 100g units)
m.addConstr(
    100 * x1 + 100 * x2 + 100 * x3 +
    100 * (y1 + y2 + y3 + y4 + y5) <= 800,
    name=""weight""
)

# At least 3 different vegetables
m.addConstr(
    y1 + y2 + y3 + y4 + y5 >= 3,
    name=""min_vegetables""
)

# Solve the model
m.optimize()",123.8,123.8,1,
"A certain factory needs to use a special tool over $n$ planning stages. At stage $j$, $r_j$ specialized tools are needed. At the end of this stage, all tools used within this stage must be sent for repair before they can be reused. There are two repair methods: one is slow repair, which is cheaper (costs $b$ per tool) but takes longer ($p$ stages to return); the other is fast repair, which costs $c$ per tool $(c > b)$ and is faster, requiring only $q$ stages to return $(q < p)$. If the repaired tools cannot meet the needs, new ones must be purchased, with a cost of $a$ per new tool $(a > c)$. This special tool will no longer be used after $n$ stages. Determine an optimal plan for purchasing and repairing the tools to minimize the cost spent on tools during the planning period.\n\nn = 10  # number of stages\nr = [3, 5, 2, 4, 6, 5, 4, 3, 2, 1]  # tool requirements per stage, indexing starts at 1\na = 10  # cost of buying a new tool\nb = 1   # cost of slow repair\nc = 3   # cost of fast repair\np = 3   # slow repair duration\nq = 1   # fast repair duration","{'input': 'A certain factory needs to use a special tool over $n$ planning stages. At stage $j$, $r_j$ specialized tools are needed. At the end of this stage, all tools used within this stage must be sent for repair before they can be reused. There are two repair methods: one is slow repair, which is cheaper (costs $b$ per tool) but takes longer ($p$ stages to return); the other is fast repair, which costs $c$ per tool $(c > b)$ and is faster, requiring only $q$ stages to return $(q < p)$. If the repaired tools cannot meet the needs, new ones must be purchased, with a cost of $a$ per new tool $(a > c)$. This special tool will no longer be used after $n$ stages. Determine an optimal plan for purchasing and repairing the tools to minimize the cost spent on tools during the planning period.\\n\\nn = 10  # number of stages\\nr = [3, 5, 2, 4, 6, 5, 4, 3, 2, 1]  # tool requirements per stage, indexing starts at 1\\na = 10  # cost of buying a new tool\\nb = 1   # cost of slow repair\\nc = 3   # cost of fast repair\\np = 3   # slow repair duration\\nq = 1   # fast repair duration', 'output': 'Minimize\u2003∑_{j=1}^{10} [10·x_j + 1·y_j + 3·z_j]\nsubject to\n\u2003s_1 = x_1\n\u2003s_j = x_j + (y_{j-3} if j-3 ≥ 1 else 0) + (z_{j-1} if j-1 ≥ 1 else 0)\u2003for j = 2, ..., 10\n\u2003s_j ≥ r_j\u2003for j = 1, ..., 10\n\u2003y_j + z_j = r_j\u2003for j = 1, ..., 10\n\u2003x_j, y_j, z_j ∈ Z+\u2003for j = 1, ..., 10'}","import gurobipy as gp
from gurobipy import GRB

# Data
n = 10
r = [3, 5, 2, 4, 6, 5, 4, 3, 2, 1]  # r_j for j=1..n
a = 10  # cost of buying new tool
b = 1   # cost of slow repair
c = 3   # cost of fast repair
p = 3   # slow repair duration
q = 1   # fast repair duration

# Create model
m = gp.Model(""Tool_Repair_Optimization"")

# Decision variables
x = m.addVars(n, vtype=GRB.INTEGER, lb=0, name=""x"")  # new tools bought at stage j
y = m.addVars(n, vtype=GRB.INTEGER, lb=0, name=""y"")  # tools sent for slow repair at stage j
z = m.addVars(n, vtype=GRB.INTEGER, lb=0, name=""z"")  # tools sent for fast repair at stage j
s = m.addVars(n, vtype=GRB.INTEGER, lb=0, name=""s"")  # tools available at stage j

# Objective function
m.setObjective(
    gp.quicksum(a * x[j] + b * y[j] + c * z[j] for j in range(n)),
    GRB.MINIMIZE
)

# Constraints

# s_1 = x_1
m.addConstr(s[0] == x[0], name=""init_stock"")

# s_j = x_j + (y_{j-p} if j-p >= 0 else 0) + (z_{j-q} if j-q >= 0 else 0) for j=2..n
for j in range(1, n):
    slow_return = y[j - p] if j - p >= 0 else 0
    fast_return = z[j - q] if j - q >= 0 else 0
    m.addConstr(
        s[j] == x[j] + slow_return + fast_return,
        name=f""stock_balance_{j+1}""
    )

# s_j >= r_j for j=1..n
for j in range(n):
    m.addConstr(s[j] >= r[j], name=f""demand_{j+1}"")

# y_j + z_j = r_j for j=1..n
for j in range(n):
    m.addConstr(y[j] + z[j] == r[j], name=f""repair_split_{j+1}"")

# Solve the model
m.optimize()",141,168,0,
"A store plans to formulate the purchasing and sales plan for a certain product for the first quarter of next year. It is known that the warehouse capacity of the store can store up to 500 units of the product, and there are 200 units in stock at the end of this year. The store purchases goods once at the beginning of each month. The purchasing and selling prices of the product in each month are shown in Table 1.3.

Table 1.3

| Month | 1 | 2 | 3 |
| :---: | :---: | :---: | :---: |
| Purchasing Price (Yuan) | 8 | 6 | 9 |
| Selling Price (Yuan) | 9 | 8 | 10 |

Now, determine how many units should be purchased and sold each month to maximize the total profit, and express this problem as a linear programming model.","{'input': 'A store plans to formulate the purchasing and sales plan for a certain product for the first quarter of next year. It is known that the warehouse capacity of the store can store up to 500 units of the product, and there are 200 units in stock at the end of this year. The store purchases goods once at the beginning of each month. The purchasing and selling prices of the product in each month are shown in Table 1.3.\n\nTable 1.3\n\n| Month | 1 | 2 | 3 |\n| :---: | :---: | :---: | :---: |\n| Purchasing Price (Yuan) | 8 | 6 | 9 |\n| Selling Price (Yuan) | 9 | 8 | 10 |\n\nNow, determine how many units should be purchased and sold each month to maximize the total profit, and express this problem as a linear programming model.', 'output': 'Maximize 9y_1 + 8y_2 + 10y_3 - 8x_1 - 6x_2 - 9x_3\n\nsubject to:\n    200 + x_1 - y_1 = s_1\n    s_1 + x_2 - y_2 = s_2\n    s_2 + x_3 - y_3 = s_3\n    0 <= s_1 <= 500\n    0 <= s_2 <= 500\n    0 <= s_3 <= 500\n    x_1, x_2, x_3 >= 0\n    y_1, y_2, y_3 >= 0\n    s_1, s_2, s_3 >= 0\n\n(If all inventory must be cleared at the end of March, add: s_3 = 0)\n\nx_1, x_2, x_3, y_1, y_2, y_3, s_1, s_2, s_3 ∈ Z+'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Store_Purchasing_Sales_Optimization"")

# Decision variables: x_i = units purchased in month i, y_i = units sold in month i, s_i = stock at end of month i
x = m.addVars(3, vtype=GRB.INTEGER, lb=0, name=""x"")  # x[0]=x_1, x[1]=x_2, x[2]=x_3
y = m.addVars(3, vtype=GRB.INTEGER, lb=0, name=""y"")  # y[0]=y_1, y[1]=y_2, y[2]=y_3
s = m.addVars(3, vtype=GRB.INTEGER, lb=0, ub=500, name=""s"")  # s[0]=s_1, s[1]=s_2, s[2]=s_3

# Objective function: Maximize profit
purchase_price = [8, 6, 9]
sell_price = [9, 8, 10]
m.setObjective(
    sell_price[0]*y[0] + sell_price[1]*y[1] + sell_price[2]*y[2]
    - purchase_price[0]*x[0] - purchase_price[1]*x[1] - purchase_price[2]*x[2],
    GRB.MAXIMIZE
)

# Inventory balance constraints
m.addConstr(200 + x[0] - y[0] == s[0], name=""inventory_balance_1"")
m.addConstr(s[0] + x[1] - y[1] == s[1], name=""inventory_balance_2"")
m.addConstr(s[1] + x[2] - y[2] == s[2], name=""inventory_balance_3"")

# Warehouse capacity constraints are handled by ub=500 in s variables

# Uncomment the following line if all inventory must be cleared at the end of March
# m.addConstr(s[2] == 0, name=""final_inventory_zero"")

# Solve the model
m.optimize()",,4100,0,
" Certain strategic bomber groups are tasked with destroying enemy military targets. It is known that the target has four key parts, and destroying at least two of them will suffice. 

Resources and constraints:

Bomb stockpile: A maximum of 28 heavy bombs and 12 light bombs can be used.
Fuel limit: Total fuel consumption must not exceed 10,000 liters.
Fuel consumption rules: When carrying heavy bombs, each liter of fuel allows a distance of 2 km, whereas with light bombs, each liter allows 3 km. Additionally, each aircraft can only carry one bomb per trip, and each bombing run requires fuel not only for the round trip (each liter of fuel allows 4 km when the aircraft is empty) but also 100 liters for both takeoff and landing per trip.聽

Table 1-17
| Key Part | Distance from Airport (km) | Probability of Destruction per Heavy Bomb | Probability of Destruction per Light Bomb |
|----------|----------------------------|-----------------------------------------|------------------------------------------|
|          |                            |                                         |                                          |
| 1        | 450                        | 0.03                                    | 0.08                                     |
| 2        | 480                        | 0.10                                    | 0.11                                     |
| 3        | 540                        | 0.05                                    | 0.12                                     |
| 4        | 600                        | 0.05                                    | 0.09                                     |

How should the bombing plan be determined to maximize the probability of success? What is the maximum probability of success? ","{'input': ' Certain strategic bomber groups are tasked with destroying enemy military targets. It is known that the target has four key parts, and destroying at least two of them will suffice. \n\nResources and constraints:\n\nBomb stockpile: A maximum of 28 heavy bombs and 12 light bombs can be used.\nFuel limit: Total fuel consumption must not exceed 10,000 liters.\nFuel consumption rules: When carrying heavy bombs, each liter of fuel allows a distance of 2 km, whereas with light bombs, each liter allows 3 km. Additionally, each aircraft can only carry one bomb per trip, and each bombing run requires fuel not only for the round trip (each liter of fuel allows 4 km when the aircraft is empty) but also 100 liters for both takeoff and landing per trip.聽\n\nTable 1-17\n| Key Part | Distance from Airport (km) | Probability of Destruction per Heavy Bomb | Probability of Destruction per Light Bomb |\n|----------|----------------------------|-----------------------------------------|------------------------------------------|\n|          |                            |                                         |                                          |\n| 1        | 450                        | 0.03                                    | 0.08                                     |\n| 2        | 480                        | 0.10                                    | 0.11                                     |\n| 3        | 540                        | 0.05                                    | 0.12                                     |\n| 4        | 600                        | 0.05                                    | 0.09                                     |\n\nHow should the bombing plan be determined to maximize the probability of success? What is the maximum probability of success? ', 'output': 'Let x_j = number of heavy bombs assigned to part j (j=1,2,3,4)\nLet y_j = number of light bombs assigned to part j (j=1,2,3,4)\n\nMaximize\n\u2003P_success = 1 - ∏_{j=1}^4 q_j - ∑_{j=1}^4 (1 - q_j) ∏_{k≠j} q_k\n\nwhere\n\u2003q_j = (1 - p_{hj})^{x_j} * (1 - p_{lj})^{y_j}\n\u2003p_{hj}, p_{lj} as given in the table for each part\n\nSubject to\n\u2003x_1 + x_2 + x_3 + x_4 ≤ 28\n\u2003y_1 + y_2 + y_3 + y_4 ≤ 12\n\u2003∑_{j=1}^4 [ x_j * (3d_j/4 + 100) + y_j * (7d_j/12 + 100) ] ≤ 10,000\n\u2003x_j ∈ ℤ_{≥0},\u2003y_j ∈ ℤ_{≥0}\n\nA near-optimal solution is:\n\u2003x_1 = 1,\u2003y_1 = 0\n\u2003x_2 = 13,\u2003y_2 = 6\n\u2003x_3 = 0,\u2003y_3 = 6\n\u2003x_4 = 0,\u2003y_4 = 0\n\nMaximum probability of success ≈ 0.48\n\nThat is, assign 1 heavy bomb to part 1, 13 heavy and 6 light bombs to part 2, 6 light bombs to part 3, and none to part 4. The maximum probability of destroying at least two key parts is approximately 0.48.'}","import gurobipy as gp
from gurobipy import GRB
import numpy as np

# Data
d = [450, 480, 540, 600]  # distances for parts 1-4
p_h = [0.03, 0.10, 0.05, 0.05]  # heavy bomb destruction probabilities
p_l = [0.08, 0.11, 0.12, 0.09]  # light bomb destruction probabilities

# Precompute fuel per trip for each bomb type and part
fuel_heavy = [3 * d[j] / 4 + 100 for j in range(4)]
fuel_light = [7 * d[j] / 12 + 100 for j in range(4)]

# Create the model
m = gp.Model(""Bomber_Optimization"")

# Decision variables: x_j = heavy bombs to part j, y_j = light bombs to part j
x = m.addVars(4, vtype=GRB.INTEGER, lb=0, name=""x"")  # heavy bombs
y = m.addVars(4, vtype=GRB.INTEGER, lb=0, name=""y"")  # light bombs

# Constraints
m.addConstr(gp.quicksum(x[j] for j in range(4)) <= 28, name=""heavy_bomb_limit"")
m.addConstr(gp.quicksum(y[j] for j in range(4)) <= 12, name=""light_bomb_limit"")
m.addConstr(
    gp.quicksum(x[j] * fuel_heavy[j] + y[j] * fuel_light[j] for j in range(4)) <= 10000,
    name=""fuel_limit""
)

# Objective: maximize probability of destroying at least 2 parts
# q_j = (1-p_hj)^{x_j} * (1-p_lj)^{y_j}
# P_success = 1 - prod_j q_j - sum_j (1-q_j) * prod_{k!=j} q_k

def prob_success(x_vals, y_vals):
    q = []
    for j in range(4):
        qj = (1 - p_h[j]) ** x_vals[j] * (1 - p_l[j]) ** y_vals[j]
        q.append(qj)
    prod_q = np.prod(q)
    sum_1q_prod = 0
    for j in range(4):
        prod_other = 1
        for k in range(4):
            if k != j:
                prod_other *= q[k]
        sum_1q_prod += (1 - q[j]) * prod_other
    return 1 - prod_q - sum_1q_prod

# Gurobi does not support nonlinear objectives directly, so we use a callback for solution enumeration
best_prob = [0]
best_sol = [None]

def callback(model, where):
    if where == GRB.Callback.MIPSOL:
        x_vals = [int(model.cbGetSolution(x[j])) for j in range(4)]
        y_vals = [int(model.cbGetSolution(y[j])) for j in range(4)]
        prob = prob_success(x_vals, y_vals)
        if prob > best_prob[0]:
            best_prob[0] = prob
            best_sol[0] = (x_vals, y_vals)

# Set a time limit for practical purposes (optional)
m.Params.TimeLimit = 60

# Set a dummy objective (since we use callback for nonlinear objective)
m.setObjective(0, GRB.MAXIMIZE)

# Optimize with callback
m.optimize(callback)

# Output best solution found
if best_sol[0] is not None:
    x_vals, y_vals = best_sol[0]
    print(""Optimal bombing plan:"")
    for j in range(4):
        print(f""  Part {j+1}: heavy bombs = {x_vals[j]}, light bombs = {y_vals[j]}"")
    print(f""Maximum probability of success: {best_prob[0]:.4f}"")
else:
    print(""No feasible solution found."")",0,0.5765,0,
"A textile factory produces two types of fabrics: one for clothing and the other for curtains. The factory operates two shifts, with a weekly production time set at 110 hours. Both types of fabrics are produced at a rate of 1000 meters per hour. Assuming that at least 70,000 meters of curtain fabric can be sold per week, with a profit of 2.5 yuan per meter, and at least 45,000 meters of clothing fabric can be sold per week, with a profit of 1.5 yuan per meter, the factory has the following objectives in formulating its production plan:

$p_{1}$ : The weekly production time must fully utilize 110 hours;

$p_{2}$ : Overtime should not exceed 10 hours per week;

$p_{3}$ : At least 70,000 meters of curtain fabric and 45,000 meters of clothing fabric must be sold per week;

$p_{4}$ : Minimize overtime as much as possible.

Formulate a model for this problem.","{'input': 'A textile factory produces two types of fabrics: one for clothing and the other for curtains. The factory operates two shifts, with a weekly production time set at 110 hours. Both types of fabrics are produced at a rate of 1000 meters per hour. Assuming that at least 70,000 meters of curtain fabric can be sold per week, with a profit of 2.5 yuan per meter, and at least 45,000 meters of clothing fabric can be sold per week, with a profit of 1.5 yuan per meter, the factory has the following objectives in formulating its production plan:\n\n$p_{{1}}$ : The weekly production time must fully utilize 110 hours;\n\n$p_{{2}}$ : Overtime should not exceed 10 hours per week;\n\n$p_{{3}}$ : At least 70,000 meters of curtain fabric and 45,000 meters of clothing fabric must be sold per week;\n\n$p_{{4}}$ : Minimize overtime as much as possible.\n\nFormulate a model for this problem.', 'output': 'Minimize\n    t\n\nSubject to\n    (x1 + x2) / 1000 = 110 + t\n    0 <= t <= 10\n    x1 >= 45000\n    x2 >= 70000\n    x1 >= 0, x2 >= 0, t >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Textile_Production_Optimization"")

# Decision variables
x1 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x1"")  # meters of clothing fabric produced
x2 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x2"")  # meters of curtain fabric produced
t = m.addVar(vtype=GRB.CONTINUOUS, lb=0, ub=10, name=""t"")  # overtime hours

# Objective: Minimize overtime
m.setObjective(t, GRB.MINIMIZE)

# Constraints
m.addConstr((x1 + x2) / 1000 == 110 + t, name=""time_utilization"")
m.addConstr(x1 >= 45000, name=""clothing_fabric_minimum"")
m.addConstr(x2 >= 70000, name=""curtain_fabric_minimum"")

# Solve the model
m.optimize()",5,5,0,
"A furniture store can choose to order chairs from three different manufacturers: A, B, and C. The cost of ordering each chair from manufacturer A is $50, from manufacturer B is $45, and from manufacturer C is $40. The store needs to minimize the total cost of the order.

Additionally, each order from manufacturer A will include 15 chairs, while each order from manufacturers B and C will include 10 chairs. The number of orders must be an integer. The store needs to order at least 100 chairs.

Each order from manufacturer A will include 15 chairs, while each order from manufacturers B and C will include 10 chairs. The store needs to order at most 500 chairs.

If the store decides to order chairs from manufacturer A, it must also order at least 10 chairs from manufacturer B.

Furthermore, if the store decides to order chairs from manufacturer B, it must also order chairs from manufacturer C.","{'input': 'A furniture store can choose to order chairs from three different manufacturers: A, B, and C. The cost of ordering each chair from manufacturer A is $50, from manufacturer B is $45, and from manufacturer C is $40. The store needs to minimize the total cost of the order.\n\nAdditionally, each order from manufacturer A will include 15 chairs, while each order from manufacturers B and C will include 10 chairs. The number of orders must be an integer. The store needs to order at least 100 chairs.\n\nEach order from manufacturer A will include 15 chairs, while each order from manufacturers B and C will include 10 chairs. The store needs to order at most 500 chairs.\n\nIf the store decides to order chairs from manufacturer A, it must also order at least 10 chairs from manufacturer B.\n\nFurthermore, if the store decides to order chairs from manufacturer B, it must also order chairs from manufacturer C.', 'output': 'Minimize 750x_A + 450x_B + 400x_C\nsubject to\n    15x_A + 10x_B + 10x_C ≥ 100\n    15x_A + 10x_B + 10x_C ≤ 500\n    x_A ≤ 34z_A\n    x_B ≤ 50z_B\n    x_C ≤ 50z_C\n    x_B ≥ z_A\n    z_C ≥ z_B\n    x_A, x_B, x_C ∈ Z≥0\n    z_A, z_B, z_C ∈ {0,1}'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Furniture_Store_Optimization"")

# Decision variables
x_A = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_A"")  # Number of orders from A
x_B = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_B"")  # Number of orders from B
x_C = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_C"")  # Number of orders from C

z_A = m.addVar(vtype=GRB.BINARY, name=""z_A"")  # 1 if order from A, 0 otherwise
z_B = m.addVar(vtype=GRB.BINARY, name=""z_B"")  # 1 if order from B, 0 otherwise
z_C = m.addVar(vtype=GRB.BINARY, name=""z_C"")  # 1 if order from C, 0 otherwise

# Objective function: Minimize total cost
m.setObjective(750 * x_A + 450 * x_B + 400 * x_C, GRB.MINIMIZE)

# Constraints

# Total number of chairs at least 100
m.addConstr(15 * x_A + 10 * x_B + 10 * x_C >= 100, name=""min_chairs"")

# Total number of chairs at most 500
m.addConstr(15 * x_A + 10 * x_B + 10 * x_C <= 500, name=""max_chairs"")

# Linking x_A and z_A
m.addConstr(x_A <= 34 * z_A, name=""link_xA_zA"")  # 15*34=510 > 500, so 34 is enough

# Linking x_B and z_B
m.addConstr(x_B <= 50 * z_B, name=""link_xB_zB"")  # 10*50=500

# Linking x_C and z_C
m.addConstr(x_C <= 50 * z_C, name=""link_xC_zC"")  # 10*50=500

# If order from A, must order at least 10 chairs from B (i.e., at least 1 order from B)
m.addConstr(x_B >= z_A, name=""A_implies_B"")

# If order from B, must also order from C
m.addConstr(z_C >= z_B, name=""B_implies_C"")

# Solve the model
m.optimize()",4000,4000,1,
"Bright Future Toys wants to build and sell robots, model cars, building blocks, and dolls. The profit for each robot sold is $15, for each model car sold is $8, for each set of building blocks sold is $12, and for each doll sold is $5. How many types of toys should Bright Future Toys manufacture to maximize profit?
There are 1200 units of plastic available. Each robot requires 30 units of plastic, each model car requires 10 units of plastic, each set of building blocks requires 20 units of plastic, and each doll requires 15 units of plastic.

There are 800 units of electronic components available. Each robot requires 8 units of electronic components, each model car requires 5 units of electronic components, each set of building blocks requires 3 units of electronic components, and each doll requires 2 units of electronic components.

If Bright Future Toys manufactures robots, they will not manufacture dolls.

However, if they manufacture model cars, they will also manufacture building blocks.

The number of dolls manufactured cannot exceed the number of model cars manufactured.","{'input': 'Bright Future Toys wants to build and sell robots, model cars, building blocks, and dolls. The profit for each robot sold is $15, for each model car sold is $8, for each set of building blocks sold is $12, and for each doll sold is $5. How many types of toys should Bright Future Toys manufacture to maximize profit?\nThere are 1200 units of plastic available. Each robot requires 30 units of plastic, each model car requires 10 units of plastic, each set of building blocks requires 20 units of plastic, and each doll requires 15 units of plastic.\n\nThere are 800 units of electronic components available. Each robot requires 8 units of electronic components, each model car requires 5 units of electronic components, each set of building blocks requires 3 units of electronic components, and each doll requires 2 units of electronic components.\n\nIf Bright Future Toys manufactures robots, they will not manufacture dolls.\n\nHowever, if they manufacture model cars, they will also manufacture building blocks.\n\nThe number of dolls manufactured cannot exceed the number of model cars manufactured.', 'output': 'Maximize  \n    15x1 + 8x2 + 12x3 + 5x4\n\nSubject to  \n    30x1 + 10x2 + 20x3 + 15x4 <= 1200      (plastic constraint)  \n    8x1 + 5x2 + 3x3 + 2x4 <= 800           (electronic components constraint)  \n    y1 + y4 <= 1                           (robots and dolls mutually exclusive)  \n    x1 <= M*y1                             (link x1 to y1)  \n    x4 <= M*y4                             (link x4 to y4)  \n    y2 <= y3                               (model cars imply building blocks)  \n    x2 <= M*y2                             (link x2 to y2)  \n    x3 <= M*y3                             (link x3 to y3)  \n    x4 <= x2                               (dolls ≤ model cars)  \n    x1, x2, x3, x4 ∈ Z+                    (non-negative integers)  \n    y1, y2, y3, y4 ∈ {0,1}                 (binary variables)  \n\nwhere M is a sufficiently large positive integer.'}","import gurobipy as gp
from gurobipy import GRB

# Parameters
M = 1000  # sufficiently large number

# Create the model
m = gp.Model(""Bright_Future_Toys_Optimization"")

# Decision variables: number of toys to produce (integers)
x1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""robots"")
x2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""model_cars"")
x3 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""building_blocks"")
x4 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""dolls"")

# Binary variables: whether to manufacture each type
y1 = m.addVar(vtype=GRB.BINARY, name=""make_robots"")
y2 = m.addVar(vtype=GRB.BINARY, name=""make_model_cars"")
y3 = m.addVar(vtype=GRB.BINARY, name=""make_building_blocks"")
y4 = m.addVar(vtype=GRB.BINARY, name=""make_dolls"")

# Objective function: maximize profit
m.setObjective(15*x1 + 8*x2 + 12*x3 + 5*x4, GRB.MAXIMIZE)

# Constraints

# Plastic constraint
m.addConstr(30*x1 + 10*x2 + 20*x3 + 15*x4 <= 1200, name=""plastic_constraint"")

# Electronic components constraint
m.addConstr(8*x1 + 5*x2 + 3*x3 + 2*x4 <= 800, name=""electronic_constraint"")

# Robots and dolls mutually exclusive
m.addConstr(y1 + y4 <= 1, name=""robots_dolls_exclusive"")

# Link x1 to y1
m.addConstr(x1 <= M * y1, name=""link_x1_y1"")

# Link x4 to y4
m.addConstr(x4 <= M * y4, name=""link_x4_y4"")

# Model cars imply building blocks
m.addConstr(y2 <= y3, name=""model_cars_imply_blocks"")

# Link x2 to y2
m.addConstr(x2 <= M * y2, name=""link_x2_y2"")

# Link x3 to y3
m.addConstr(x3 <= M * y3, name=""link_x3_y3"")

# Dolls cannot exceed model cars
m.addConstr(x4 <= x2, name=""dolls_leq_model_cars"")

# Solve the model
m.optimize()",960,956,0,
"A restaurant needs to order dining tables from three different suppliers, A, B, and C. The cost of ordering each dining table from Supplier A is $120, from Supplier B is $110, and from Supplier C is $100. The restaurant needs to minimize the total cost of the order.

Additionally, each order from Supplier A will include 20 tables, while each order from Suppliers B and C will include 15 tables. The number of orders must be an integer. The restaurant needs to order at least 150 tables.

Each order from Supplier A will include 20 tables, and each order from Suppliers B and C will include 15 tables. The restaurant needs to order no more than 600 tables.

If the restaurant decides to order tables from Supplier A, it must also order at least 30 tables from Supplier B.

Additionally, if the restaurant decides to order tables from Supplier B, it must also order tables from Supplier C.","{'input': 'A restaurant needs to order dining tables from three different suppliers, A, B, and C. The cost of ordering each dining table from Supplier A is $120, from Supplier B is $110, and from Supplier C is $100. The restaurant needs to minimize the total cost of the order.\n\nAdditionally, each order from Supplier A will include 20 tables, while each order from Suppliers B and C will include 15 tables. The number of orders must be an integer. The restaurant needs to order at least 150 tables.\n\nEach order from Supplier A will include 20 tables, and each order from Suppliers B and C will include 15 tables. The restaurant needs to order no more than 600 tables.\n\nIf the restaurant decides to order tables from Supplier A, it must also order at least 30 tables from Supplier B.\n\nAdditionally, if the restaurant decides to order tables from Supplier B, it must also order tables from Supplier C.', 'output': 'Minimize 2400x_A + 1650x_B + 1500x_C\nsubject to\n20x_A + 15x_B + 15x_C ≥ 150\n20x_A + 15x_B + 15x_C ≤ 600\nx_A ≤ M y_A\nx_B ≤ M y_B\nx_C ≤ M y_C\ny_A ≤ y_B\n15x_B ≥ 30y_A\ny_B ≤ y_C\nx_A, x_B, x_C ∈ Z≥0\ny_A, y_B, y_C ∈ {0,1}\n\nWhere M is a sufficiently large integer (e.g., 40).\n\nThe minimum total cost is achieved by ordering 10 batches (of 15 tables each) from Supplier C only, for a total cost of $15,000.'}","import gurobipy as gp
from gurobipy import GRB

# Parameters
cost_A = 120
cost_B = 110
cost_C = 100
tables_A = 20
tables_B = 15
tables_C = 15
min_tables = 150
max_tables = 600
M = 40  # sufficiently large integer for linking constraints

# Create the model
m = gp.Model(""Restaurant_Table_Order"")

# Decision variables: number of orders from each supplier (integer >= 0)
x_A = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_A"")
x_B = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_B"")
x_C = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_C"")

# Binary variables: whether to order from each supplier
y_A = m.addVar(vtype=GRB.BINARY, name=""y_A"")
y_B = m.addVar(vtype=GRB.BINARY, name=""y_B"")
y_C = m.addVar(vtype=GRB.BINARY, name=""y_C"")

# Objective: Minimize total cost
m.setObjective(
    cost_A * tables_A * x_A +
    cost_B * tables_B * x_B +
    cost_C * tables_C * x_C,
    GRB.MINIMIZE
)

# Constraints

# Total tables ordered between min and max
m.addConstr(tables_A * x_A + tables_B * x_B + tables_C * x_C >= min_tables, name=""min_tables"")
m.addConstr(tables_A * x_A + tables_B * x_B + tables_C * x_C <= max_tables, name=""max_tables"")

# Linking x and y variables
m.addConstr(x_A <= M * y_A, name=""link_A"")
m.addConstr(x_B <= M * y_B, name=""link_B"")
m.addConstr(x_C <= M * y_C, name=""link_C"")

# If order from A, must order at least 30 tables from B (i.e., 2 batches of 15)
m.addConstr(y_A <= y_B, name=""A_implies_B"")
m.addConstr(tables_B * x_B >= 30 * y_A, name=""B_min_if_A"")

# If order from B, must order from C
m.addConstr(y_B <= y_C, name=""B_implies_C"")

# Solve the model
m.optimize()",15000,15000,1,
"A company plans to produce 3 types of products $A_{1}, A_{2}, A_{3}$. It can produce for 22 days in a month. The following table gives the maximum demand (unit $=100 \mathrm{~kg}$), price ($\$ / 100 \mathrm{Kg}$), production cost (per 100Kg product), and production quota (the maximum number of 100kg units that can be produced in one day if all production lines are devoted to this product).

| Product | $A_{1}$ | $A_{2}$ | $A_{3}$ |
| :---: | :---: | :---: | :---: |
| Maximum Demand | 5300 | 4500 | 5400 |
| Selling Price | $124$ | $109$ | $115$ |
| Production Cost | $73.30$ | $52.90$ | $65.40$ |
| Production Quota | 500 | 450 | 550 |

The fixed activation cost of the production line is as follows:

| Product | $A_{1}$ | $A_{2}$ | $A_{3}$ |
| :---: | :---: | :---: | :---: |
| Activation Cost | $170000$ | $150000$ | $100000$ |

Minimum production batch:

$$
\begin{array}{c|ccc}
Product & A_{1} & A_{2} & A_{3} \\
\hline
Minimum Batch & 20 & 20 & 16
\end{array}
$$

Please formulate an operations research model to determine a production plan that maximizes total revenue while accommodating fixed activation costs and minimum production batch constraints.","{'input': 'A company plans to produce 3 types of products $A_{{1}}, A_{{2}}, A_{{3}}$. It can produce for 22 days in a month. The following table gives the maximum demand (unit $=100 \\mathrm{{~kg}}$), price ($\\$ / 100 \\mathrm{{Kg}}$), production cost (per 100Kg product), and production quota (the maximum number of 100kg units that can be produced in one day if all production lines are devoted to this product).\n\n| Product | $A_{{1}}$ | $A_{{2}}$ | $A_{{3}}$ |\n| :---: | :---: | :---: | :---: |\n| Maximum Demand | 5300 | 4500 | 5400 |\n| Selling Price | $124$ | $109$ | $115$ |\n| Production Cost | $73.30$ | $52.90$ | $65.40$ |\n| Production Quota | 500 | 450 | 550 |\n\nThe fixed activation cost of the production line is as follows:\n\n| Product | $A_{{1}}$ | $A_{{2}}$ | $A_{{3}}$ |\n| :---: | :---: | :---: | :---: |\n| Activation Cost | $170000$ | $150000$ | $100000$ |\n\nMinimum production batch:\n\n$$\n\\begin{{array}}{{c|ccc}}\nProduct & A_{{1}} & A_{{2}} & A_{{3}} \\\\\n\\hline\nMinimum Batch & 20 & 20 & 16\n\\end{{array}}\n$$\n\nPlease formulate an operations research model to determine a production plan that maximizes total revenue while accommodating fixed activation costs and minimum production batch constraints.', 'output': 'Maximize\u2003(124 − 73.3)x₁ − 170000y₁ + (109 − 52.9)x₂ − 150000y₂ + (115 − 65.4)x₃ − 100000y₃\n\nsubject to\n\u2003x₁ ≤ 5300\n\u2003x₂ ≤ 4500\n\u2003x₃ ≤ 5400\n\u2003x₁ ≤ 500 × 22\n\u2003x₂ ≤ 450 × 22\n\u2003x₃ ≤ 550 × 22\n\u2003x₁ ≥ 20y₁\n\u2003x₂ ≥ 20y₂\n\u2003x₃ ≥ 16y₃\n\u2003x₁ ≤ 5300y₁\n\u2003x₂ ≤ 4500y₂\n\u2003x₃ ≤ 5400y₃\n\u2003x₁, x₂, x₃ ∈ Z₊\n\u2003y₁, y₂, y₃ ∈ {0,1}'}","import gurobipy as gp
from gurobipy import GRB

# Data
max_demand = [5300, 4500, 5400]
selling_price = [124, 109, 115]
production_cost = [73.3, 52.9, 65.4]
activation_cost = [170000, 150000, 100000]
production_quota = [500, 450, 550]
min_batch = [20, 20, 16]
num_days = 22

# Create the model
m = gp.Model(""Production_Planning"")

# Decision variables
x = m.addVars(3, vtype=GRB.INTEGER, lb=0, name=""x"")    # units of 100kg produced for each product
y = m.addVars(3, vtype=GRB.BINARY, name=""y"")           # activation (0/1) for each product

# Objective function: maximize total profit
profit = gp.quicksum(
    (selling_price[i] - production_cost[i]) * x[i] - activation_cost[i] * y[i]
    for i in range(3)
)
m.setObjective(profit, GRB.MAXIMIZE)

# Constraints

# Maximum demand
for i in range(3):
    m.addConstr(x[i] <= max_demand[i], name=f""max_demand_{i+1}"")

# Production quota per month
for i in range(3):
    m.addConstr(x[i] <= production_quota[i] * num_days, name=f""prod_quota_{i+1}"")

# Minimum batch if activated
for i in range(3):
    m.addConstr(x[i] >= min_batch[i] * y[i], name=f""min_batch_{i+1}"")

# Cannot produce more than demand if not activated
for i in range(3):
    m.addConstr(x[i] <= max_demand[i] * y[i], name=f""activation_link_{i+1}"")

# Solve the model
m.optimize()",369000,156483,0,
"Hongdou Clothing Factory uses three special equipment to produce shirts, short-sleeved shirts, and casual clothes respectively. It is known that the labor, material usage, selling price, and variable cost of each of the above products are as shown in Table 5-10.

Table 5-10

| Product Name | Labor per unit | Material per unit | Selling Price | Variable Cost |
|--------------|----------------|------------------|---------------|---------------|
| Shirt        | 3              | 4                | 120           | 60            |
| Short-sleeve | 2              | 3                | 80            | 40            |
| Casual Cloth | 6              | 6                | 180           | 80            |

It is known that the available labor per week is 1500 units, the available material is 1600 units, and the weekly fixed costs for the three special equipment for producing shirts, short-sleeved shirts, and casual clothes are 2000, 1500, and 1000 respectively. Design a weekly production plan for the factory to maximize its profit.","{'input': 'Hongdou Clothing Factory uses three special equipment to produce shirts, short-sleeved shirts, and casual clothes respectively. It is known that the labor, material usage, selling price, and variable cost of each of the above products are as shown in Table 5-10.\n\nTable 5-10\n\n| Product Name | Labor per unit | Material per unit | Selling Price | Variable Cost |\n|--------------|----------------|------------------|---------------|---------------|\n| Shirt        | 3              | 4                | 120           | 60            |\n| Short-sleeve | 2              | 3                | 80            | 40            |\n| Casual Cloth | 6              | 6                | 180           | 80            |\n\nIt is known that the available labor per week is 1500 units, the available material is 1600 units, and the weekly fixed costs for the three special equipment for producing shirts, short-sleeved shirts, and casual clothes are 2000, 1500, and 1000 respectively. Design a weekly production plan for the factory to maximize its profit.', 'output': 'Maximize\n    60x1 + 40x2 + 100x3 - 4500\n\nSubject to\n    3x1 + 2x2 + 6x3 <= 1500\n    4x1 + 3x2 + 6x3 <= 1600\n    x1 ∈ Z+, x2 ∈ Z+, x3 ∈ Z+'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Hongdou_Clothing_Production"")

# Decision variables: x1 = shirts, x2 = short-sleeves, x3 = casual clothes
x1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x1"")  # Shirts
x2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x2"")  # Short-sleeves
x3 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x3"")  # Casual clothes

# Objective function: Maximize profit
# Profit per unit: (Selling Price - Variable Cost)
# Fixed costs: 2000 + 1500 + 1000 = 4500
m.setObjective(60 * x1 + 40 * x2 + 100 * x3 - 4500, GRB.MAXIMIZE)

# Constraints
m.addConstr(3 * x1 + 2 * x2 + 6 * x3 <= 1500, name=""labor_constraint"")
m.addConstr(4 * x1 + 3 * x2 + 6 * x3 <= 1600, name=""material_constraint"")

# Solve the model
m.optimize()",21500,21500,1,
"A manufacturing company needs to transport 1800 units of product from the warehouse to three different sales points. The company has four transportation options: truck, van, motorcycle, and electric vehicle. However, due to high energy consumption, the company can use either vans or electric vehicles, but not both. Each trip generates pollution: 100 units for a truck, 50 units for a van, 10 units for a motorcycle, and 0 units for an electric vehicle. The total pollution generated from all trips cannot exceed 2000 units. At least 10 trips must be made using trucks. The transport capacities per trip are 100 units (truck), 80 units (van), 40 units (motorcycle), and 60 units (electric vehicle). The goal is to plan the transportation so that at least 1800 units are delivered while minimizing the total pollution generated. What is the minimum total pollution?","{'input': 'A manufacturing company needs to transport 1800 units of product from the warehouse to three different sales points. The company has four transportation options: truck, van, motorcycle, and electric vehicle. However, due to high energy consumption, the company can use either vans or electric vehicles, but not both. Each trip generates pollution: 100 units for a truck, 50 units for a van, 10 units for a motorcycle, and 0 units for an electric vehicle. The total pollution generated from all trips cannot exceed 2000 units. At least 10 trips must be made using trucks. The transport capacities per trip are 100 units (truck), 80 units (van), 40 units (motorcycle), and 60 units (electric vehicle). The goal is to plan the transportation so that at least 1800 units are delivered while minimizing the total pollution generated. What is the minimum total pollution?', 'output': 'The minimum total pollution is 1000 units.\n\nTransportation plan:\n- 10 truck trips\n- 40 electric vehicle trips\n- 0 van trips\n- 0 motorcycle trips\n\nMinimum total pollution: 1000 units'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Transportation_Min_Pollution"")

# Decision variables: number of trips for each vehicle type (integer, >=0)
x_truck = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_truck"")
x_van = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_van"")
x_motorcycle = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_motorcycle"")
x_ev = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_ev"")

# Binary variables for van and electric vehicle usage
y_van = m.addVar(vtype=GRB.BINARY, name=""y_van"")
y_ev = m.addVar(vtype=GRB.BINARY, name=""y_ev"")

# Objective: Minimize total pollution
m.setObjective(
    100 * x_truck + 50 * x_van + 10 * x_motorcycle + 0 * x_ev,
    GRB.MINIMIZE
)

# Constraint: At least 1800 units delivered
m.addConstr(
    100 * x_truck + 80 * x_van + 40 * x_motorcycle + 60 * x_ev >= 1800,
    name=""demand_constraint""
)

# Constraint: Total pollution does not exceed 2000 units
m.addConstr(
    100 * x_truck + 50 * x_van + 10 * x_motorcycle + 0 * x_ev <= 2000,
    name=""pollution_constraint""
)

# Constraint: At least 10 truck trips
m.addConstr(
    x_truck >= 10,
    name=""min_truck_trips""
)

# Constraint: Use either vans or electric vehicles, but not both
m.addConstr(
    y_van + y_ev <= 1,
    name=""van_or_ev""
)

# Link van trips to y_van
m.addConstr(
    x_van <= 1000 * y_van,
    name=""van_usage""
)

# Link electric vehicle trips to y_ev
m.addConstr(
    x_ev <= 1000 * y_ev,
    name=""ev_usage""
)

# Solve the model
m.optimize()",1000,1000,1,
"An investor plans to invest 100,000 yuan, with two investment options to choose from. The first investment guarantees a return of 0.7 yuan for every 1 yuan invested after one year. The second investment guarantees a return of 2 yuan for every 1 yuan invested after two years, but the investment time must be in multiples of two years. In order to maximize the investor's earnings by the end of the third year, how should the investments be made? Formulate this as a linear programming problem.","{'input': ""An investor plans to invest 100,000 yuan, with two investment options to choose from. The first investment guarantees a return of 0.7 yuan for every 1 yuan invested after one year. The second investment guarantees a return of 2 yuan for every 1 yuan invested after two years, but the investment time must be in multiples of two years. In order to maximize the investor's earnings by the end of the third year, how should the investments be made? Formulate this as a linear programming problem."", 'output': 'Maximize Z = 1.7x_2 + 1.7x_3 + 3y_1\nSubject to:\nx_1 + y_1 <= 100,000\nx_2 + y_2 <= 1.7x_1\nx_3 <= 1.7x_2\nx_1, x_2, x_3, y_1, y_2 >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Investment_Optimization"")

# Decision variables
x1 = m.addVar(lb=0, name=""x_1"")  # Amount invested in option 1 in year 1
x2 = m.addVar(lb=0, name=""x_2"")  # Amount invested in option 1 in year 2
x3 = m.addVar(lb=0, name=""x_3"")  # Amount invested in option 1 in year 3
y1 = m.addVar(lb=0, name=""y_1"")  # Amount invested in option 2 in year 1 (for 2 years)
y2 = m.addVar(lb=0, name=""y_2"")  # Amount invested in option 2 in year 2 (for 2 years)

# Objective function: Maximize Z = 1.7x_2 + 1.7x_3 + 3y_1
m.setObjective(1.7 * x2 + 1.7 * x3 + 3 * y1, GRB.MAXIMIZE)

# Constraints
m.addConstr(x1 + y1 <= 100000, name=""year1_investment"")
m.addConstr(x2 + y2 <= 1.7 * x1, name=""year2_investment"")
m.addConstr(x3 <= 1.7 * x2, name=""year3_investment"")
m.addConstr(x1 >= 0, name=""x1_nonneg"")
m.addConstr(x2 >= 0, name=""x2_nonneg"")
m.addConstr(x3 >= 0, name=""x3_nonneg"")
m.addConstr(y1 >= 0, name=""y1_nonneg"")
m.addConstr(y2 >= 0, name=""y2_nonneg"")

# Solve the model
m.optimize()",780300,510000,0,
"The number of salespeople required at a 24-hour convenience store in different time periods is as follows: 2:00-6:00 - 10 people, 6:00-10:00 - 15 people, 10:00-14:00 - 25 people, 14:00-18:00 - 20 people, 18:00-22:00 - 18 people, 22:00-2:00 - 12 people. Salespeople start their shifts at 2:00, 6:00, 10:00, 14:00, 18:00, and 22:00, working continuously for 8 hours. Determine the minimum number of salespeople needed to meet the requirements.","{'input': 'The number of salespeople required at a 24-hour convenience store in different time periods is as follows: 2:00-6:00 - 10 people, 6:00-10:00 - 15 people, 10:00-14:00 - 25 people, 14:00-18:00 - 20 people, 18:00-22:00 - 18 people, 22:00-2:00 - 12 people. Salespeople start their shifts at 2:00, 6:00, 10:00, 14:00, 18:00, and 22:00, working continuously for 8 hours. Determine the minimum number of salespeople needed to meet the requirements.', 'output': 'Minimize x1 + x2 + x3 + x4 + x5 + x6\n\nSubject to\n    x1 + x6 >= 10\n    x1 + x2 >= 15\n    x2 + x3 >= 25\n    x3 + x4 >= 20\n    x4 + x5 >= 18\n    x5 + x6 >= 12\n\n    x1, x2, x3, x4, x5, x6 ∈ Z+\n\nOptimal solution:\nx1 = 0\nx2 = 21\nx3 = 4\nx4 = 16\nx5 = 2\nx6 = 10\n\nMinimum number of salespeople needed: 57'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Salespeople_Scheduling"")

# Decision variables: number of salespeople starting at each shift
x1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x1"")  # 2:00
x2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x2"")  # 6:00
x3 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x3"")  # 10:00
x4 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x4"")  # 14:00
x5 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x5"")  # 18:00
x6 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x6"")  # 22:00

# Objective function: Minimize total number of salespeople
m.setObjective(x1 + x2 + x3 + x4 + x5 + x6, GRB.MINIMIZE)

# Constraints for each time period
m.addConstr(x1 + x6 >= 10, name=""2_6"")
m.addConstr(x1 + x2 >= 15, name=""6_10"")
m.addConstr(x2 + x3 >= 25, name=""10_14"")
m.addConstr(x3 + x4 >= 20, name=""14_18"")
m.addConstr(x4 + x5 >= 18, name=""18_22"")
m.addConstr(x5 + x6 >= 12, name=""22_2"")

# Solve the model
m.optimize()",53,53,1,
"A factory produces three types of products: I, II, and III. Each product needs to go through two processing procedures, A and B. The factory has two pieces of equipment that can complete process A, denoted as A1 and A2; it has three pieces of equipment that complete process B, denoted as B1, B2, and B3. Product I can be processed on any equipment for A and B; Product II can be processed on any A equipment but only on B1 for process B; Product III can only be processed on A2 and B2. Given the unit processing time on various machines, raw material costs, product sale prices, effective machine hours, and the costs of operating the machines at full capacity as shown in Table 1-4, the task is to arrange the optimal production plan to maximize the factory's profit.

Table 1-4
| Equipment  | Product I | Product II | Product III | Effective Machine Hours | Operating Costs at Full Capacity (Yuan) |
|------------|-----------|------------|-------------|--------------------------|------------------------------------------|
| A1         | 5         | 10         |             | 6000                     | 300                                      |
| A2         | 7         | 9          | 12          | 10000                    | 321                                      |
| B1         | 6         | 8          |             | 4000                     | 250                                      |
| B2         | 4         |            | 11          | 7000                     | 783                                      |
| B3         | 7         |            |             | 4000                     | 200                                      |
| Raw Material Cost (Yuan/Unit) | 0.25 | 0.35       | 0.50       |                          |                                          |
| Unit Price (Yuan/Unit)        | 1.25 | 2.00       | 2.80       |                          |                                          |","{'input': ""A factory produces three types of products: I, II, and III. Each product needs to go through two processing procedures, A and B. The factory has two pieces of equipment that can complete process A, denoted as A1 and A2; it has three pieces of equipment that complete process B, denoted as B1, B2, and B3. Product I can be processed on any equipment for A and B; Product II can be processed on any A equipment but only on B1 for process B; Product III can only be processed on A2 and B2. Given the unit processing time on various machines, raw material costs, product sale prices, effective machine hours, and the costs of operating the machines at full capacity as shown in Table 1-4, the task is to arrange the optimal production plan to maximize the factory's profit.\n\nTable 1-4\n| Equipment  | Product I | Product II | Product III | Effective Machine Hours | Operating Costs at Full Capacity (Yuan) |\n|------------|-----------|------------|-------------|--------------------------|------------------------------------------|\n| A1         | 5         | 10         |             | 6000                     | 300                                      |\n| A2         | 7         | 9          | 12          | 10000                    | 321                                      |\n| B1         | 6         | 8          |             | 4000                     | 250                                      |\n| B2         | 4         |            | 11          | 7000                     | 783                                      |\n| B3         | 7         |            |             | 4000                     | 200                                      |\n| Raw Material Cost (Yuan/Unit) | 0.25 | 0.35       | 0.50       |                          |                                          |\n| Unit Price (Yuan/Unit)        | 1.25 | 2.00       | 2.80       |                          |                                          |"", 'output': 'Maximize \n    1.00 X_I + 1.65 X_{II} + 2.30 X_{III} \n    - [ (300/6000)(5x_{I,A1} + 10x_{II,A1}) \n        + (321/10000)(7x_{I,A2} + 9x_{II,A2} + 12x_{III,A2}) \n        + (250/4000)(6y_{I,B1} + 8y_{II,B1}) \n        + (783/7000)(4y_{I,B2} + 11y_{III,B2}) \n        + (200/4000)(7y_{I,B3}) ]\n\nsubject to\n    x_{I,A1} + x_{I,A2} = y_{I,B1} + y_{I,B2} + y_{I,B3} = X_I\n    x_{II,A1} + x_{II,A2} = y_{II,B1} = X_{II}\n    x_{III,A2} = y_{III,B2} = X_{III}\n    5x_{I,A1} + 10x_{II,A1} <= 6000\n    7x_{I,A2} + 9x_{II,A2} + 12x_{III,A2} <= 10000\n    6y_{I,B1} + 8y_{II,B1} <= 4000\n    4y_{I,B2} + 11y_{III,B2} <= 7000\n    7y_{I,B3} <= 4000\n    x_{I,A1}, x_{I,A2}, x_{II,A1}, x_{II,A2}, x_{III,A2}, y_{I,B1}, y_{I,B2}, y_{I,B3}, y_{II,B1}, y_{III,B2} >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Factory_Production_Optimization"")

# Decision variables
x_I_A1   = m.addVar(lb=0, name=""x_I_A1"")
x_I_A2   = m.addVar(lb=0, name=""x_I_A2"")
x_II_A1  = m.addVar(lb=0, name=""x_II_A1"")
x_II_A2  = m.addVar(lb=0, name=""x_II_A2"")
x_III_A2 = m.addVar(lb=0, name=""x_III_A2"")

y_I_B1   = m.addVar(lb=0, name=""y_I_B1"")
y_I_B2   = m.addVar(lb=0, name=""y_I_B2"")
y_I_B3   = m.addVar(lb=0, name=""y_I_B3"")
y_II_B1  = m.addVar(lb=0, name=""y_II_B1"")
y_III_B2 = m.addVar(lb=0, name=""y_III_B2"")

X_I      = m.addVar(lb=0, name=""X_I"")
X_II     = m.addVar(lb=0, name=""X_II"")
X_III    = m.addVar(lb=0, name=""X_III"")

# Objective function
profit = (
    1.00 * X_I + 1.65 * X_II + 2.30 * X_III
    - (
        (300/6000) * (5*x_I_A1 + 10*x_II_A1)
        + (321/10000) * (7*x_I_A2 + 9*x_II_A2 + 12*x_III_A2)
        + (250/4000) * (6*y_I_B1 + 8*y_II_B1)
        + (783/7000) * (4*y_I_B2 + 11*y_III_B2)
        + (200/4000) * (7*y_I_B3)
    )
)
m.setObjective(profit, GRB.MAXIMIZE)

# Constraints

# Product I: process A and B balance
m.addConstr(x_I_A1 + x_I_A2 == y_I_B1 + y_I_B2 + y_I_B3, name=""I_balance"")
m.addConstr(x_I_A1 + x_I_A2 == X_I, name=""I_A_total"")
m.addConstr(y_I_B1 + y_I_B2 + y_I_B3 == X_I, name=""I_B_total"")

# Product II: process A and B balance
m.addConstr(x_II_A1 + x_II_A2 == y_II_B1, name=""II_balance"")
m.addConstr(x_II_A1 + x_II_A2 == X_II, name=""II_A_total"")
m.addConstr(y_II_B1 == X_II, name=""II_B_total"")

# Product III: process A and B balance
m.addConstr(x_III_A2 == y_III_B2, name=""III_balance"")
m.addConstr(x_III_A2 == X_III, name=""III_A_total"")
m.addConstr(y_III_B2 == X_III, name=""III_B_total"")

# Machine time constraints
m.addConstr(5*x_I_A1 + 10*x_II_A1 <= 6000, name=""A1_time"")
m.addConstr(7*x_I_A2 + 9*x_II_A2 + 12*x_III_A2 <= 10000, name=""A2_time"")
m.addConstr(6*y_I_B1 + 8*y_II_B1 <= 4000, name=""B1_time"")
m.addConstr(4*y_I_B2 + 11*y_III_B2 <= 7000, name=""B2_time"")
m.addConstr(7*y_I_B3 <= 4000, name=""B3_time"")

# Solve the model
m.optimize()",1146.566502,1146.4142,0,
"Someone has a fund of 300,000 yuan and has the following investment projects in the next three years:
(1) Investment can be made at the beginning of each year within three years, with an annual profit of 20% of the investment amount, and the principal and interest can be used for investment in the following year;
(2) Investment is only allowed at the beginning of the first year, and it can be recovered at the end of the second year, with the total principal and interest amounting to 150% of the investment amount, but the investment limit is no more than 150,000 yuan;
(3) Investment is allowed at the beginning of the second year within three years, and it can be recovered at the end of the third year, with the total principal and interest amounting to 160% of the investment amount, and the investment limit is 200,000 yuan;
(4) Investment is allowed at the beginning of the third year within three years, and it can be recovered in one year with a profit of 40%, and the investment limit is 100,000 yuan.
Chapter One: Linear Programming and Simplex Method
Try to determine an investment plan for this person that maximizes the principal and interest at the end of the third year.","{'input': 'Someone has a fund of 300,000 yuan and has the following investment projects in the next three years:\n(1) Investment can be made at the beginning of each year within three years, with an annual profit of 20% of the investment amount, and the principal and interest can be used for investment in the following year;\n(2) Investment is only allowed at the beginning of the first year, and it can be recovered at the end of the second year, with the total principal and interest amounting to 150% of the investment amount, but the investment limit is no more than 150,000 yuan;\n(3) Investment is allowed at the beginning of the second year within three years, and it can be recovered at the end of the third year, with the total principal and interest amounting to 160% of the investment amount, and the investment limit is 200,000 yuan;\n(4) Investment is allowed at the beginning of the third year within three years, and it can be recovered in one year with a profit of 40%, and the investment limit is 100,000 yuan.\nChapter One: Linear Programming and Simplex Method\nTry to determine an investment plan for this person that maximizes the principal and interest at the end of the third year.', 'output': 'Maximize Z = 1.728x_1 + 1.44x_2 + 1.2x_3 + 1.6z + 1.4w\nSubject to:\nx_1 + y <= 300,000\ny <= 150,000\nx_2 + z <= 1.2x_1\nz <= 200,000\nx_3 + w <= 1.2x_2 + 1.5y\nw <= 100,000\nx_1, x_2, x_3, y, z, w >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Investment_Optimization"")

# Decision variables
x1 = m.addVar(lb=0, name=""x1"")  # Investment in project 1 at year 1
x2 = m.addVar(lb=0, name=""x2"")  # Investment in project 1 at year 2
x3 = m.addVar(lb=0, name=""x3"")  # Investment in project 1 at year 3
y  = m.addVar(lb=0, name=""y"")   # Investment in project 2 at year 1
z  = m.addVar(lb=0, name=""z"")   # Investment in project 3 at year 2
w  = m.addVar(lb=0, name=""w"")   # Investment in project 4 at year 3

# Objective function
m.setObjective(
    1.728 * x1 + 1.44 * x2 + 1.2 * x3 + 1.6 * z + 1.4 * w,
    GRB.MAXIMIZE
)

# Constraints
m.addConstr(x1 + y <= 300000, name=""year1_budget"")
m.addConstr(y <= 150000, name=""project2_limit"")
m.addConstr(x2 + z <= 1.2 * x1, name=""year2_budget"")
m.addConstr(z <= 200000, name=""project3_limit"")
m.addConstr(x3 + w <= 1.2 * x2 + 1.5 * y, name=""year3_budget"")
m.addConstr(w <= 100000, name=""project4_limit"")

# Solve the model
m.optimize()",1575200,580000,0,
"Jieli Company needs to recruit three types of professionals to work in the two regional branches located in Donghai City and Nanjiang City. The demand for different professionals in these regional branches is shown in Table 4-3. After assessing the situation of the applicants, the company has categorized them into 6 types. Table 4-4 lists the specialties each type of person can handle, the specialty they prefer, and the city they prefer to work in. The company's personnel arrangement considers the following three priorities:
$p_1$: All three types of professionals needed are fully met;
$p_2$: 8000 recruited personnel meet their preferred specialty;
$p_3$: 8000 recruited personnel meet their preferred city.
Try to establish a mathematical model for goal planning accordingly, and answer the question: At least how many people can't meet P3 under this priority?

Table 4-3
| Branch Location | Specialty | Demand |
|-----------------|-----------|--------|
| Donghai City    | 1         | 1000   |
| Donghai City    | 2         | 2000   |
| Donghai City    | 3         | 1500   |
| Nanjiang City   | 1         | 2000   |
| Nanjiang City   | 2         | 1000   |
| Nanjiang City   | 3         | 1000   |

Table 4-4

| Type | Number of People | Suitable Specialty | Preferred Specialty | Preferred City |
|------|------------------|--------------------|---------------------|----------------|
| 1    | 1500             | 1,2                | 1                   | Donghai        |
| 2    | 1500             | 2,3                | 2                   | Donghai        |
| 3    | 1500             | 1,3                | 1                   | Nanjiang       |
| 4    | 1500             | 1,3                | 3                   | Nanjiang       |
| 5    | 1500             | 2,3                | 3                   | Donghai        |
| 6    | 1500             | 3                  | 3                   | Nanjiang       |","{'input': ""Jieli Company needs to recruit three types of professionals to work in the two regional branches located in Donghai City and Nanjiang City. The demand for different professionals in these regional branches is shown in Table 4-3. After assessing the situation of the applicants, the company has categorized them into 6 types. Table 4-4 lists the specialties each type of person can handle, the specialty they prefer, and the city they prefer to work in. The company's personnel arrangement considers the following three priorities:\n$p_1$: All three types of professionals needed are fully met;\n$p_2$: 8000 recruited personnel meet their preferred specialty;\n$p_3$: 8000 recruited personnel meet their preferred city.\nTry to establish a mathematical model for goal planning accordingly, and answer the question: At least how many people can't meet P3 under this priority?\n\nTable 4-3\n| Branch Location | Specialty | Demand |\n|-----------------|-----------|--------|\n| Donghai City    | 1         | 1000   |\n| Donghai City    | 2         | 2000   |\n| Donghai City    | 3         | 1500   |\n| Nanjiang City   | 1         | 2000   |\n| Nanjiang City   | 2         | 1000   |\n| Nanjiang City   | 3         | 1000   |\n\nTable 4-4\n\n| Type | Number of People | Suitable Specialty | Preferred Specialty | Preferred City |\n|------|------------------|--------------------|---------------------|----------------|\n| 1    | 1500             | 1,2                | 1                   | Donghai        |\n| 2    | 1500             | 2,3                | 2                   | Donghai        |\n| 3    | 1500             | 1,3                | 1                   | Nanjiang       |\n| 4    | 1500             | 1,3                | 3                   | Nanjiang       |\n| 5    | 1500             | 2,3                | 3                   | Donghai        |\n| 6    | 1500             | 3                  | 3                   | Nanjiang       |"", 'output': '0'}","import gurobipy as gp
from gurobipy import GRB

# Data
branches = ['Donghai', 'Nanjiang']
specialties = [1, 2, 3]
types = [1, 2, 3, 4, 5, 6]

# Demand for each (branch, specialty)
demand = {
    ('Donghai', 1): 1000,
    ('Donghai', 2): 2000,
    ('Donghai', 3): 1500,
    ('Nanjiang', 1): 2000,
    ('Nanjiang', 2): 1000,
    ('Nanjiang', 3): 1000
}

# Type info: number, suitable specialties, preferred specialty, preferred city
type_info = {
    1: {'num': 1500, 'suitable': [1,2], 'pref_spec': 1, 'pref_city': 'Donghai'},
    2: {'num': 1500, 'suitable': [2,3], 'pref_spec': 2, 'pref_city': 'Donghai'},
    3: {'num': 1500, 'suitable': [1,3], 'pref_spec': 1, 'pref_city': 'Nanjiang'},
    4: {'num': 1500, 'suitable': [1,3], 'pref_spec': 3, 'pref_city': 'Nanjiang'},
    5: {'num': 1500, 'suitable': [2,3], 'pref_spec': 3, 'pref_city': 'Donghai'},
    6: {'num': 1500, 'suitable': [3],   'pref_spec': 3, 'pref_city': 'Nanjiang'}
}

# Create model
m = gp.Model(""Jieli_Company_Goal_Programming"")

# Decision variables: x[t,b,s] = number of type t assigned to branch b, specialty s
x = m.addVars(types, branches, specialties, vtype=GRB.INTEGER, lb=0, name=""x"")

# Only allow assignment if type t is suitable for specialty s
for t in types:
    for b in branches:
        for s in specialties:
            if s not in type_info[t]['suitable']:
                x[t,b,s].ub = 0

# Constraint 1: Each branch-specialty demand is met exactly
for b in branches:
    for s in specialties:
        m.addConstr(gp.quicksum(x[t,b,s] for t in types) == demand[(b,s)], name=f""demand_{b}_{s}"")

# Constraint 2: Each type's total assignment does not exceed available people
for t in types:
    m.addConstr(gp.quicksum(x[t,b,s] for b in branches for s in specialties) <= type_info[t]['num'], name=f""type_{t}_supply"")

# Priority 2: At least 8000 people assigned to their preferred specialty
pref_spec = gp.quicksum(
    x[t,b,s]
    for t in types
    for b in branches
    for s in specialties
    if s == type_info[t]['pref_spec']
)
d2 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""d2"")  # underachievement for P2
m.addConstr(pref_spec + d2 >= 8000, name=""P2_goal"")

# Priority 3: At least 8000 people assigned to their preferred city
pref_city = gp.quicksum(
    x[t,b,s]
    for t in types
    for b in branches
    for s in specialties
    if b == type_info[t]['pref_city']
)
d3 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""d3"")  # underachievement for P3
m.addConstr(pref_city + d3 >= 8000, name=""P3_goal"")

# Lexicographic (goal programming) objective: minimize d2 first, then d3
m.setObjectiveN(d2, index=0, priority=2, name=""P2_priority"")
m.setObjectiveN(d3, index=1, priority=1, name=""P3_priority"")

# Solve
m.optimize()

# Output: At least how many people can't meet P3 under this priority?
if m.status == GRB.OPTIMAL:
    print(int(round(d3.X)))
else:
    print(""No optimal solution found."")",1000.1,2000,0,
"Suppose a certain animal needs at least $700 \mathrm{~g}$ of protein, $30 \mathrm{~g}$ of minerals, and $100 \mathrm{mg}$ of vitamins daily. There are 5 types of feed available, and the nutritional content and price per gram of each type of feed are shown in Table 1-5:
Try to formulate a linear programming model that meets the animal's growth needs while minimizing the cost of selecting the feed.
Table 1-6
| Feed | Protein (g) | Minerals (g) | Vitamins (mg) | Price (楼/kg) | Feed | Protein (g) | Minerals (g) | Vitamins (mg) | Price (楼/kg) |
|------|-------------|--------------|---------------|--------------|------|-------------|--------------|---------------|--------------|
| 1    | 3           | 1            | 0.5           | 0.2          | 4    | 6           | 2            | 2             | 0.3          |
| 2    | 2           | 0.5          | 1             | 0.7          | 5    | 18          | 0.5          | 0.8           | 0.8          |
| 3    | 1           | 0.2          | 0.2           | 0.4          |      |             |              |               |              |","{'input': ""Suppose a certain animal needs at least $700 \\mathrm{{~g}}$ of protein, $30 \\mathrm{{~g}}$ of minerals, and $100 \\mathrm{{mg}}$ of vitamins daily. There are 5 types of feed available, and the nutritional content and price per gram of each type of feed are shown in Table 1-5:\nTry to formulate a linear programming model that meets the animal's growth needs while minimizing the cost of selecting the feed.\nTable 1-6\n| Feed | Protein (g) | Minerals (g) | Vitamins (mg) | Price (楼/kg) | Feed | Protein (g) | Minerals (g) | Vitamins (mg) | Price (楼/kg) |\n|------|-------------|--------------|---------------|--------------|------|-------------|--------------|---------------|--------------|\n| 1    | 3           | 1            | 0.5           | 0.2          | 4    | 6           | 2            | 2             | 0.3          |\n| 2    | 2           | 0.5          | 1             | 0.7          | 5    | 18          | 0.5          | 0.8           | 0.8          |\n| 3    | 1           | 0.2          | 0.2           | 0.4          |      |             |              |               |              |"", 'output': 'Minimize 0.0002x1 + 0.0007x2 + 0.0004x3 + 0.0003x4 + 0.0008x5\nSubject to:\n3x1 + 2x2 + 1x3 + 6x4 + 18x5 >= 700\n1x1 + 0.5x2 + 0.2x3 + 2x4 + 0.5x5 >= 30\n0.5x1 + 1x2 + 0.2x3 + 2x4 + 0.8x5 >= 100\nx1 >= 0, x2 >= 0, x3 >= 0, x4 >= 0, x5 >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Feed_Optimization"")

# Decision variables: amount (in grams) of each feed type to use
x1 = m.addVar(lb=0, name=""x1"")
x2 = m.addVar(lb=0, name=""x2"")
x3 = m.addVar(lb=0, name=""x3"")
x4 = m.addVar(lb=0, name=""x4"")
x5 = m.addVar(lb=0, name=""x5"")

# Objective function: Minimize total cost (price per gram)
m.setObjective(
    0.0002 * x1 + 0.0007 * x2 + 0.0004 * x3 + 0.0003 * x4 + 0.0008 * x5,
    GRB.MINIMIZE
)

# Constraints
m.addConstr(3 * x1 + 2 * x2 + 1 * x3 + 6 * x4 + 18 * x5 >= 700, name=""protein_requirement"")
m.addConstr(1 * x1 + 0.5 * x2 + 0.2 * x3 + 2 * x4 + 0.5 * x5 >= 30, name=""mineral_requirement"")
m.addConstr(0.5 * x1 + 1 * x2 + 0.2 * x3 + 2 * x4 + 0.8 * x5 >= 100, name=""vitamin_requirement"")

# Solve the model
m.optimize()",0.032435897,32.43589744,0,
"A factory produces three types of products: I, II, and III. Each product must undergo two processing stages, A and B. The factory has two types of equipment to complete stage A (A1, A2) and three types of equipment to complete stage B (B1, B2, B3).

The production rules are as follows:
- Product I can be processed on any type of A equipment (A1 or A2) and any type of B equipment (B1, B2, or B3).
- Product II can be processed on any type of A equipment (A1 or A2), but for stage B, it can only be processed on B1 equipment.
- Product III can only be processed on A2 equipment for stage A and B2 equipment for stage B.

The detailed data for processing time per piece, costs, sales price, and machine availability is provided in the table below. The objective is to determine the optimal production plan to maximize the factory's total profit.

Data Table
| Equipment | Product I | Product II | Product III | Effective Machine Hours | Processing Cost per Machine Hour (Yuan/hour) |
| :--- | :--- | :--- | :--- | :--- | :--- |
| A1 | 5 | 10 | - | 6000 | 0.05 |
| A2 | 7 | 9 | 12 | 10000 | 0.03 |
| B1 | 6 | 8 | - | 4000 | 0.06 |
| B2 | 4 | - | 11 | 7000 | 0.11 |
| B3 | 7 | - | - | 4000 | 0.05 |
| Raw Material Cost (Yuan/piece) | 0.25 | 0.35 | 0.5 | - | - | 
| Unit Price (Yuan/piece) | 1.25 | 2 | 2.8 | - | - |","{'input': ""A factory produces three types of products: I, II, and III. Each product must undergo two processing stages, A and B. The factory has two types of equipment to complete stage A (A1, A2) and three types of equipment to complete stage B (B1, B2, B3).\n\nThe production rules are as follows:\n- Product I can be processed on any type of A equipment (A1 or A2) and any type of B equipment (B1, B2, or B3).\n- Product II can be processed on any type of A equipment (A1 or A2), but for stage B, it can only be processed on B1 equipment.\n- Product III can only be processed on A2 equipment for stage A and B2 equipment for stage B.\n\nThe detailed data for processing time per piece, costs, sales price, and machine availability is provided in the table below. The objective is to determine the optimal production plan to maximize the factory's total profit.\n\nData Table\n| Equipment | Product I | Product II | Product III | Effective Machine Hours | Processing Cost per Machine Hour (Yuan/hour) |\n| :--- | :--- | :--- | :--- | :--- | :--- |\n| A1 | 5 | 10 | - | 6000 | 0.05 |\n| A2 | 7 | 9 | 12 | 10000 | 0.03 |\n| B1 | 6 | 8 | - | 4000 | 0.06 |\n| B2 | 4 | - | 11 | 7000 | 0.11 |\n| B3 | 7 | - | - | 4000 | 0.05 |\n| Raw Material Cost (Yuan/piece) | 0.25 | 0.35 | 0.5 | - | - | \n| Unit Price (Yuan/piece) | 1.25 | 2 | 2.8 | - | - |"", 'output': 'Maximize 0.39z_{I,A1,B1} + 0.31z_{I,A1,B2} + 0.40z_{I,A1,B3} + 0.43z_{I,A2,B1} + 0.35z_{I,A2,B2} + 0.44z_{I,A2,B3} + 0.67z_{II,A1,B1} + 0.90z_{II,A2,B1} + 0.73z_{III,A2,B2}\nsubject to\n    5z_{I,A1,B1} + 5z_{I,A1,B2} + 5z_{I,A1,B3} + 10z_{II,A1,B1} <= 6000\n    7z_{I,A2,B1} + 7z_{I,A2,B2} + 7z_{I,A2,B3} + 9z_{II,A2,B1} + 12z_{III,A2,B2} <= 10000\n    6z_{I,A1,B1} + 6z_{I,A2,B1} + 8z_{II,A1,B1} + 8z_{II,A2,B1} <= 4000\n    4z_{I,A1,B2} + 4z_{I,A2,B2} + 11z_{III,A2,B2} <= 7000\n    7z_{I,A1,B3} + 7z_{I,A2,B3} <= 4000\n    z_{I,A1,B1}, z_{I,A1,B2}, z_{I,A1,B3}, z_{I,A2,B1}, z_{I,A2,B2}, z_{I,A2,B3}, z_{II,A1,B1}, z_{II,A2,B1}, z_{III,A2,B2} >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Factory_Production_Optimization"")

# Decision variables
z_I_A1_B1 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""z_I_A1_B1"")
z_I_A1_B2 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""z_I_A1_B2"")
z_I_A1_B3 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""z_I_A1_B3"")
z_I_A2_B1 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""z_I_A2_B1"")
z_I_A2_B2 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""z_I_A2_B2"")
z_I_A2_B3 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""z_I_A2_B3"")
z_II_A1_B1 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""z_II_A1_B1"")
z_II_A2_B1 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""z_II_A2_B1"")
z_III_A2_B2 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""z_III_A2_B2"")

# Objective function
m.setObjective(
    0.39 * z_I_A1_B1 +
    0.31 * z_I_A1_B2 +
    0.40 * z_I_A1_B3 +
    0.43 * z_I_A2_B1 +
    0.35 * z_I_A2_B2 +
    0.44 * z_I_A2_B3 +
    0.67 * z_II_A1_B1 +
    0.90 * z_II_A2_B1 +
    0.73 * z_III_A2_B2,
    GRB.MAXIMIZE
)

# Constraints

# A1 machine hours
m.addConstr(
    5 * z_I_A1_B1 + 5 * z_I_A1_B2 + 5 * z_I_A1_B3 + 10 * z_II_A1_B1 <= 6000,
    name=""A1_machine_hours""
)

# A2 machine hours
m.addConstr(
    7 * z_I_A2_B1 + 7 * z_I_A2_B2 + 7 * z_I_A2_B3 + 9 * z_II_A2_B1 + 12 * z_III_A2_B2 <= 10000,
    name=""A2_machine_hours""
)

# B1 machine hours
m.addConstr(
    6 * z_I_A1_B1 + 6 * z_I_A2_B1 + 8 * z_II_A1_B1 + 8 * z_II_A2_B1 <= 4000,
    name=""B1_machine_hours""
)

# B2 machine hours
m.addConstr(
    4 * z_I_A1_B2 + 4 * z_I_A2_B2 + 11 * z_III_A2_B2 <= 7000,
    name=""B2_machine_hours""
)

# B3 machine hours
m.addConstr(
    7 * z_I_A1_B3 + 7 * z_I_A2_B3 <= 4000,
    name=""B3_machine_hours""
)

# Solve the model
m.optimize()",1190.566502,1190.41,0,
"A product consists of three components produced by four workshops, each with a limited number of production hours. Table 1.4 below provides the production rates of the three components. The objective is to determine the number of hours each workshop should allocate to each component to maximize the number of completed products. Formulate this problem as a linear programming problem.

Table 1.4

| Workshop | Production Capacity (hours) | Production Rate (units/hour) |   |   |
| :------: | :-------------------------: | :--------------------------: | - | - |
|          |                             | Component 1 | Component 2  | Component 3 |
|    A     |           100               |      10      |      15     |      5      |
|    B     |           150               |      15      |      10     |      5      |
|    C     |           80                |      20      |      5      |      10     |
|    D     |           200               |      10      |      15     |      20     |","{'input': 'A product consists of three components produced by four workshops, each with a limited number of production hours. Table 1.4 below provides the production rates of the three components. The objective is to determine the number of hours each workshop should allocate to each component to maximize the number of completed products. Formulate this problem as a linear programming problem.\n\nTable 1.4\n\n| Workshop | Production Capacity (hours) | Production Rate (units/hour) |   |   |\n| :------: | :-------------------------: | :--------------------------: | - | - |\n|          |                             | Component 1 | Component 2  | Component 3 |\n|    A     |           100               |      10      |      15     |      5      |\n|    B     |           150               |      15      |      10     |      5      |\n|    C     |           80                |      20      |      5      |      10     |\n|    D     |           200               |      10      |      15     |      20     |', 'output': 'Maximize N\n\nSubject to:\n    N <= 10x_A1 + 15x_B1 + 20x_C1 + 10x_D1\n    N <= 15x_A2 + 10x_B2 + 5x_C2 + 15x_D2\n    N <= 5x_A3 + 5x_B3 + 10x_C3 + 20x_D3\n    x_A1 + x_A2 + x_A3 <= 100\n    x_B1 + x_B2 + x_B3 <= 150\n    x_C1 + x_C2 + x_C3 <= 80\n    x_D1 + x_D2 + x_D3 <= 200\n    x_A1, x_A2, x_A3, x_B1, x_B2, x_B3, x_C1, x_C2, x_C3, x_D1, x_D2, x_D3 >= 0\n    N >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Workshop_Production_Optimization"")

# Decision variables: hours allocated by each workshop to each component
x_A1 = m.addVar(lb=0, name=""x_A1"")
x_A2 = m.addVar(lb=0, name=""x_A2"")
x_A3 = m.addVar(lb=0, name=""x_A3"")
x_B1 = m.addVar(lb=0, name=""x_B1"")
x_B2 = m.addVar(lb=0, name=""x_B2"")
x_B3 = m.addVar(lb=0, name=""x_B3"")
x_C1 = m.addVar(lb=0, name=""x_C1"")
x_C2 = m.addVar(lb=0, name=""x_C2"")
x_C3 = m.addVar(lb=0, name=""x_C3"")
x_D1 = m.addVar(lb=0, name=""x_D1"")
x_D2 = m.addVar(lb=0, name=""x_D2"")
x_D3 = m.addVar(lb=0, name=""x_D3"")

# Decision variable: number of completed products
N = m.addVar(lb=0, name=""N"")

# Objective function: maximize N
m.setObjective(N, GRB.MAXIMIZE)

# Constraints
m.addConstr(N <= 10*x_A1 + 15*x_B1 + 20*x_C1 + 10*x_D1, name=""component1_constraint"")
m.addConstr(N <= 15*x_A2 + 10*x_B2 + 5*x_C2 + 15*x_D2, name=""component2_constraint"")
m.addConstr(N <= 5*x_A3 + 5*x_B3 + 10*x_C3 + 20*x_D3, name=""component3_constraint"")

m.addConstr(x_A1 + x_A2 + x_A3 <= 100, name=""workshop_A_hours"")
m.addConstr(x_B1 + x_B2 + x_B3 <= 150, name=""workshop_B_hours"")
m.addConstr(x_C1 + x_C2 + x_C3 <= 80, name=""workshop_C_hours"")
m.addConstr(x_D1 + x_D2 + x_D3 <= 200, name=""workshop_D_hours"")

# Solve the model
m.optimize()",2924.137931,2924,0,
"A wealthy noble passed away, leaving the following inheritance:

- A painting by Caillebotte: $25000
- A bust of Diocletian: $5000
- A Yuan dynasty Chinese vase: $20000
- A 911 Porsche: $40000
- Three diamonds: each $12000
- A Louis XV sofa: $3000
- Two very precious Jack Russell racing dogs: each $3000 (will stipulates they must not be separated)
- A sculpture from 200 AD: $10000
- A sailing boat: $15000
- A Harley Davidson motorcycle: $10000
- A piece of furniture once belonging to Cavour: $13000,

which must be shared between two sons. How to formulate a mathematical program and solve it using COPTPY to minimize the difference in value between the two parts?","{'input': 'A wealthy noble passed away, leaving the following inheritance:\n\n- A painting by Caillebotte: $25000\n- A bust of Diocletian: $5000\n- A Yuan dynasty Chinese vase: $20000\n- A 911 Porsche: $40000\n- Three diamonds: each $12000\n- A Louis XV sofa: $3000\n- Two very precious Jack Russell racing dogs: each $3000 (will stipulates they must not be separated)\n- A sculpture from 200 AD: $10000\n- A sailing boat: $15000\n- A Harley Davidson motorcycle: $10000\n- A piece of furniture once belonging to Cavour: $13000,\n\nwhich must be shared between two sons. How to formulate a mathematical program and solve it using COPTPY to minimize the difference in value between the two parts?', 'output': 'Let x_i ∈ {0,1} for i = 0,...,13, where x_i = 1 if item i is assigned to Son 1, 0 if to Son 2.\nLet v_i be the value of item i as follows:\nv = [25000, 5000, 20000, 40000, 12000, 12000, 12000, 3000, 3000, 3000, 10000, 15000, 10000, 13000]\n\nLet d ≥ 0 be the auxiliary variable for the absolute value of the difference.\n\nMinimize d\n\nSubject to:\n    S_1 = ∑_{i=0}^{13} v_i x_i\n    S_2 = ∑_{i=0}^{13} v_i (1 - x_i)\n    d ≥ S_1 - S_2\n    d ≥ S_2 - S_1\n    x_8 = x_9\n    x_i ∈ {0,1}  for all i = 0,...,13\n    d ≥ 0\n\nThis is the mathematical program to minimize the difference in value between the two parts, with the constraint that the two dogs must not be separated. To solve it using COPTPY, use the provided code structure.'}","import gurobipy as gp
from gurobipy import GRB

# Item values
v = [25000, 5000, 20000, 40000, 12000, 12000, 12000, 3000, 3000, 3000, 10000, 15000, 10000, 13000]

# Create the model
m = gp.Model(""Inheritance_Split"")

# Decision variables: x[i] = 1 if item i assigned to Son 1, 0 if to Son 2
x = m.addVars(len(v), vtype=GRB.BINARY, name=""x"")

# Auxiliary variable for absolute difference
d = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""d"")

# Sums for each son
S1 = gp.quicksum(v[i] * x[i] for i in range(len(v)))
S2 = gp.quicksum(v[i] * (1 - x[i]) for i in range(len(v)))

# Objective: minimize the difference
m.setObjective(d, GRB.MINIMIZE)

# Constraints for absolute value
m.addConstr(d >= S1 - S2, name=""abs_diff_1"")
m.addConstr(d >= S2 - S1, name=""abs_diff_2"")

# Dogs must not be separated: x[8] == x[9]
m.addConstr(x[8] == x[9], name=""dogs_together"")

# Solve the model
m.optimize()",1000,1000,1,
"The current problem faced by the company is how to use the fewest number of containers to pack the currently needed goods for transportation, while considering the weight of the goods, specific packaging requirements, and inventory limitations. Professional modeling and analysis are needed for a batch of goods鈥 transportation strategy to ensure maximum utilization of the limited container space.

The company currently has a batch to be transported, with each container able to hold a maximum of 60 tons of goods and each container used must load at least 18 tons of goods. The goods to be loaded include five types: A, B, C, D, and E, with quantities of 120, 90, 300, 90, and 120 respectively. The weights are 0.5 tons for A, 1 ton for B, 0.4 tons for C, 0.6 tons for D, and 0.65 tons for E. Additionally, to meet specific usage requirements, every time A goods are loaded, at least 1 unit of C must also be loaded, but loading C alone does not require simultaneously loading A; and considering the demand limitation for D goods, each container must load at least 12 units of D.

Establish an operations research model so that the company can use the fewest number of containers to pack this batch of goods.","{'input': 'The current problem faced by the company is how to use the fewest number of containers to pack the currently needed goods for transportation, while considering the weight of the goods, specific packaging requirements, and inventory limitations. Professional modeling and analysis are needed for a batch of goods鈥 transportation strategy to ensure maximum utilization of the limited container space.\n\nThe company currently has a batch to be transported, with each container able to hold a maximum of 60 tons of goods and each container used must load at least 18 tons of goods. The goods to be loaded include five types: A, B, C, D, and E, with quantities of 120, 90, 300, 90, and 120 respectively. The weights are 0.5 tons for A, 1 ton for B, 0.4 tons for C, 0.6 tons for D, and 0.65 tons for E. Additionally, to meet specific usage requirements, every time A goods are loaded, at least 1 unit of C must also be loaded, but loading C alone does not require simultaneously loading A; and considering the demand limitation for D goods, each container must load at least 12 units of D.\n\nEstablish an operations research model so that the company can use the fewest number of containers to pack this batch of goods.', 'output': 'Minimize\n  Σ_{{k=1}}^{{N}} y_k\n\nSubject to\n  0.5 x_{{A,k}} + 1 x_{{B,k}} + 0.4 x_{{C,k}} + 0.6 x_{{D,k}} + 0.65 x_{{E,k}} <= 60 y_k,   k = 1,…,N\n  0.5 x_{{A,k}} + 1 x_{{B,k}} + 0.4 x_{{C,k}} + 0.6 x_{{D,k}} + 0.65 x_{{E,k}} >= 18 y_k,   k = 1,…,N\n\n  Σ_{{k=1}}^{{N}} x_{{A,k}} = 120\n  Σ_{{k=1}}^{{N}} x_{{B,k}} =  90\n  Σ_{{k=1}}^{{N}} x_{{C,k}} = 300\n  Σ_{{k=1}}^{{N}} x_{{D,k}} =  90\n  Σ_{{k=1}}^{{N}} x_{{E,k}} = 120\n\n  x_{{D,k}} >= 12 y_k,   k = 1,…,N\n\n  x_{{C,k}} >= z_{{A,k}},                 k = 1,…,N\n  x_{{A,k}} <= 120 z_{{A,k}},             k = 1,…,N\n  z_{{A,k}} <= y_k,                       k = 1,…,N\n\nVariable domains\n  x_{{i,k}} ∈ ℤ_{{>=0}}\n  z_{{A,k}} ∈ {{0,1}}\n  y_k    ∈ {{0,1}}'}","import gurobipy as gp
from gurobipy import GRB

# Data
goods = ['A', 'B', 'C', 'D', 'E']
weights = {'A': 0.5, 'B': 1, 'C': 0.4, 'D': 0.6, 'E': 0.65}
demands = {'A': 120, 'B': 90, 'C': 300, 'D': 90, 'E': 120}
min_D_per_container = 12
container_min_weight = 18
container_max_weight = 60

# Upper bound on number of containers (worst case: all D in containers of 12 units)
max_containers = (demands['D'] + min_D_per_container - 1) // min_D_per_container

# Create model
m = gp.Model(""Container_Packing"")

# Decision variables
x = m.addVars(goods, range(max_containers), vtype=GRB.INTEGER, lb=0, name=""x"")
y = m.addVars(range(max_containers), vtype=GRB.BINARY, name=""y"")
zA = m.addVars(range(max_containers), vtype=GRB.BINARY, name=""zA"")

# Objective: minimize number of containers used
m.setObjective(gp.quicksum(y[k] for k in range(max_containers)), GRB.MINIMIZE)

# Container weight constraints
for k in range(max_containers):
    m.addConstr(
        gp.quicksum(weights[g] * x[g, k] for g in goods) <= container_max_weight * y[k],
        name=f""max_weight_{k}""
    )
    m.addConstr(
        gp.quicksum(weights[g] * x[g, k] for g in goods) >= container_min_weight * y[k],
        name=f""min_weight_{k}""
    )

# Demand fulfillment constraints
for g in goods:
    m.addConstr(
        gp.quicksum(x[g, k] for k in range(max_containers)) == demands[g],
        name=f""demand_{g}""
    )

# D goods minimum per container if used
for k in range(max_containers):
    m.addConstr(
        x['D', k] >= min_D_per_container * y[k],
        name=f""min_D_{k}""
    )

# A and C packaging requirement
for k in range(max_containers):
    m.addConstr(
        x['C', k] >= zA[k],
        name=f""C_if_A_{k}""
    )
    m.addConstr(
        x['A', k] <= demands['A'] * zA[k],
        name=f""A_only_if_zA_{k}""
    )
    m.addConstr(
        zA[k] <= y[k],
        name=f""zA_only_if_y_{k}""
    )

# Solve the model
m.optimize()",7,7,1,
"A fabric dyeing plant has 3 dyeing vats. Each batch of fabric must be dyed in sequence in each vat: first, the second, and third vats. The plant must color five batches of fabric of different sizes. The time required in hours to dye batch $i$ in vat $j$ is given in the following matrix:

$$
\left(\begin{array}{ccc}
3 & 1 & 1 \\
2 & 1.5 & 1 \\
3 & 1.2 & 1.3 \\
2 & 2 & 2 \\
2.1 & 2 & 3
\end{array}\right)
$$

Schedule the dyeing operations in the vats to minimize the completion time of the last batch.","{'input': 'A fabric dyeing plant has 3 dyeing vats. Each batch of fabric must be dyed in sequence in each vat: first, the second, and third vats. The plant must color five batches of fabric of different sizes. The time required in hours to dye batch $i$ in vat $j$ is given in the following matrix:\n\n$$\n\\left(\\begin{{array}}{{ccc}}\n3 & 1 & 1 \\\\\n2 & 1.5 & 1 \\\\\n3 & 1.2 & 1.3 \\\\\n2 & 2 & 2 \\\\\n2.1 & 2 & 3\n\\end{{array}}\\right)\n$$\n\nSchedule the dyeing operations in the vats to minimize the completion time of the last batch.', 'output': 'Optimal sequence: Batch 5, Batch 1, Batch 2, Batch 3, Batch 4\n\nLet C_{i,j} be the completion time of batch i on vat j in the above sequence.\n\nThe minimum makespan (completion time of the last batch on the last vat) is 16.1 hours.\n\nMathematical model (sequencing variables omitted for brevity):\n\nMinimize C_{last,3}\nsubject to\n    C_{i,1} = C_{i-1,1} + p_{i,1}         for i=2..5, C_{1,1} = p_{1,1}\n    C_{i,2} = max(C_{i,1}, C_{i-1,2}) + p_{i,2}   for i=2..5, C_{1,2} = C_{1,1} + p_{1,2}\n    C_{i,3} = max(C_{i,2}, C_{i-1,3}) + p_{i,3}   for i=2..5, C_{1,3} = C_{1,2} + p_{1,3}\n    (where p_{i,j} are the processing times from the matrix, and the batch order is 5,1,2,3,4)\n\nC_{5,3} = 16.1\n\nOptimal schedule:\n1. Batch 5\n2. Batch 1\n3. Batch 2\n4. Batch 3\n5. Batch 4\n\nMinimum makespan: 16.1 hours'}","import gurobipy as gp
from gurobipy import GRB
import numpy as np

# Processing times matrix (rows: batches, columns: vats)
p = np.array([
    [3,   1,   1],
    [2,   1.5, 1],
    [3,   1.2, 1.3],
    [2,   2,   2],
    [2.1, 2,   3]
])

# Optimal sequence: Batch 5, Batch 1, Batch 2, Batch 3, Batch 4 (0-based indices)
sequence = [4, 0, 1, 2, 3]
n_batches = 5
n_vats = 3

# Create the model
m = gp.Model(""Dyeing_Scheduling"")

# Completion time variables: C[i,j] = completion time of batch i on vat j
C = m.addVars(n_batches, n_vats, lb=0, name=""C"")

# Objective: minimize makespan (completion time of last batch on last vat)
m.setObjective(C[n_batches-1, n_vats-1], GRB.MINIMIZE)

# Constraints

# First vat: sequential processing
m.addConstr(C[0,0] == p[sequence[0],0], name=""C_0_0"")
for i in range(1, n_batches):
    m.addConstr(C[i,0] == C[i-1,0] + p[sequence[i],0], name=f""C_{i}_0"")

# Second vat
m.addConstr(C[0,1] == C[0,0] + p[sequence[0],1], name=""C_0_1"")
for i in range(1, n_batches):
    m.addConstr(C[i,1] >= C[i,0], name=f""C_{i}_1_ge_C_{i}_0"")
    m.addConstr(C[i,1] >= C[i-1,1], name=f""C_{i}_1_ge_C_{i-1}_1"")
    m.addConstr(C[i,1] == gp.max_([C[i,0], C[i-1,1]]) + p[sequence[i],1], name=f""C_{i}_1"")

# Third vat
m.addConstr(C[0,2] == C[0,1] + p[sequence[0],2], name=""C_0_2"")
for i in range(1, n_batches):
    m.addConstr(C[i,2] >= C[i,1], name=f""C_{i}_2_ge_C_{i}_1"")
    m.addConstr(C[i,2] >= C[i-1,2], name=f""C_{i}_2_ge_C_{i-1}_2"")
    m.addConstr(C[i,2] == gp.max_([C[i,1], C[i-1,2]]) + p[sequence[i],2], name=f""C_{i}_2"")

# Solve the model
m.optimize()",,14.1,0,
"The Vehicle Routing Problem (VRP) was first proposed by Dantzig and Ramser in 1959. It is a classic combinatorial optimization problem. The basic VRP can be described as follows: in a certain area, there is a number of customers and a distribution center or depot. Customers are generally located at different positions, and each has a specific demand for goods. The distribution center needs to dispatch a fleet of vehicles and design appropriate delivery routes to fulfill the demands of all customers. The objective of VRP is to optimize a certain benefit metric while satisfying all customer demands. The benefit metric is usually presented as an objective function, which varies according to the company's requirements. Common objective functions include minimizing the total distance traveled by vehicles, minimizing the total delivery time, or minimizing the number of vehicles used. In addition to satisfying customer demands, VRP often needs to consider various other constraints, leading to several variants. For example, if the vehicle's load cannot exceed its maximum capacity, the problem becomes the Capacitated Vehicle Routing Problem (CVRP). If each customer's delivery must be made within a specific time frame, the problem becomes the Vehicle Routing Problem with Time Windows (VRPTW).

The Vehicle Routing Problem with Time Windows (VRPTW) is a classic variant of the VRP. There are many real-world applications of VRPTW, as customer locations often have service time windows. For instance, some logistics centers need to stock parcels during off-peak hours, and large supermarkets need to replenish goods outside of business hours. Real-time delivery services like food delivery also require strict delivery time windows. Time windows can be categorized as hard or soft. A Hard Time Window (HTW) means that a vehicle must arrive at the delivery point within or before the time window; late arrivals are not permitted. If a vehicle arrives early, it must wait until the time window opens to begin service. This is common in scenarios like supermarket restocking and logistics center inbound operations. A Soft Time Window (STW) means that a vehicle is not strictly required to arrive within the time window, but it is encouraged to do so. A penalty is incurred for early or late arrivals. This is applicable in scenarios such as meal delivery, school bus services, and industrial deliveries.

The Vehicle Routing Problem with Hard Time Windows (VRPHTW) can be described as follows: within a region, there is a set of customer locations and a central depot. Vehicles must start from the depot and return to the depot, following continuous paths. Each customer must be served by exactly one vehicle, and vehicles have a limited capacity. Each customer has a specific service time window, and service is only accepted within this window. A vehicle can arrive at a customer location early and wait for the time window to open, or it can arrive within the time window to provide service. Service can only begin within the time window, and the service duration is known. The distribution center must arrange an optimal delivery plan to both complete the delivery tasks and minimize travel costs. Because VRPHTW does not allow for delays, it, like the VRP, primarily emphasizes the minimization of travel costs along the routes.

 Now we consider a major enterprise logistics provider, 'Global Logistics', is responsible for providing precise material delivery services for multiple high-end office buildings and shops in a city's central business district (CBD). Due to traffic control in the CBD and the specific receiving requirements of the customers, the delivery task is highly challenging.

**Specific Requirements:**

1.  **Delivery Task**: There are 20 customers requiring delivery service on the day, and the demands of all customers must be met.
2.  **Vehicle Constraints**: The company can use at most 5 trucks, and the capacity of each truck is 200 units.
3.  **Capacity Constraint**: The total demand of all customers on a single route must not exceed the truck's maximum capacity (200 units).
4.  **Time Window Constraint**: Each customer has a strict 'hard time window.' Service must begin within this specified time window. Early arrivals must wait, and late arrivals are not permitted.
5.  **Service Time**: Due to the complex handover procedures at customer sites, a fixed service time of 90 minutes is required for unloading, handover, and paperwork at each customer location.
6.  **Optimization Objective**: While satisfying all constraints, the company's objective is to **minimize the total distance traveled by all vehicles** to reduce operational costs.

**Data Details:**

* **Central Depot (Depot 0)**:
    * Coordinates: (40, 50)
    * Operating Time Window: [0, 1236] (minutes)
* **Customer Locations (Customers 1-20)**: The coordinates, demand, service time window, and service duration for each customer are shown in the table below.

| Customer ID | Coordinates (X, Y) | Demand (units) | Time Window (minutes) | Service Duration (minutes) |
| :--- | :--- | :--- |:--- | :--- |
| 1 | (45, 68) | 10 | [912, 967] | 90 |
| 2 | (45, 70) | 30 | [825, 870] | 90 |
| 3 | (42, 66) | 10 | [65, 146] | 90 |
| 4 | (42, 68) | 10 | [727, 782] | 90 |
| 5 | (42, 65) | 10 | [15, 67] | 90 |
| 6 | (40, 69) | 20 | [621, 702] | 90 |
| 7 | (40, 66) | 20 | [170, 225] | 90 |
| 8 | (38, 68) | 20 | [255, 324] | 90 |
| 9 | (38, 70) | 10 | [534, 605] | 90 |
| 10 | (35, 66) | 10 | [357, 410] | 90 |
| 11 | (35, 69) | 10 | [448, 505] | 90 |
| 12 | (25, 85) | 20 | [652, 721] | 90 |
| 13 | (22, 75) | 30 | [30, 92] | 90 |
| 14 | (22, 85) | 10 | [567, 620] | 90 |
| 15 | (20, 80) | 40 | [384, 429] | 90 |
| 16 | (20, 85) | 40 | [475, 528] | 90 |
| 17 | (18, 75) | 20 | [99, 148] | 90 |
| 18 | (15, 75) | 20 | [179, 254] | 90 |
| 19 | (15, 80) | 10 | [278, 345] | 90 |
| 20 | (30, 50) | 10 | [10, 73] | 90 |

Now, please provide an operations research model for this VRPHTW.","{'input': ""The Vehicle Routing Problem (VRP) was first proposed by Dantzig and Ramser in 1959. It is a classic combinatorial optimization problem. The basic VRP can be described as follows: in a certain area, there is a number of customers and a distribution center or depot. Customers are generally located at different positions, and each has a specific demand for goods. The distribution center needs to dispatch a fleet of vehicles and design appropriate delivery routes to fulfill the demands of all customers. The objective of VRP is to optimize a certain benefit metric while satisfying all customer demands. The benefit metric is usually presented as an objective function, which varies according to the company's requirements. Common objective functions include minimizing the total distance traveled by vehicles, minimizing the total delivery time, or minimizing the number of vehicles used. In addition to satisfying customer demands, VRP often needs to consider various other constraints, leading to several variants. For example, if the vehicle's load cannot exceed its maximum capacity, the problem becomes the Capacitated Vehicle Routing Problem (CVRP). If each customer's delivery must be made within a specific time frame, the problem becomes the Vehicle Routing Problem with Time Windows (VRPTW).\n\nThe Vehicle Routing Problem with Time Windows (VRPTW) is a classic variant of the VRP. There are many real-world applications of VRPTW, as customer locations often have service time windows. For instance, some logistics centers need to stock parcels during off-peak hours, and large supermarkets need to replenish goods outside of business hours. Real-time delivery services like food delivery also require strict delivery time windows. Time windows can be categorized as hard or soft. A Hard Time Window (HTW) means that a vehicle must arrive at the delivery point within or before the time window; late arrivals are not permitted. If a vehicle arrives early, it must wait until the time window opens to begin service. This is common in scenarios like supermarket restocking and logistics center inbound operations. A Soft Time Window (STW) means that a vehicle is not strictly required to arrive within the time window, but it is encouraged to do so. A penalty is incurred for early or late arrivals. This is applicable in scenarios such as meal delivery, school bus services, and industrial deliveries.\n\nThe Vehicle Routing Problem with Hard Time Windows (VRPHTW) can be described as follows: within a region, there is a set of customer locations and a central depot. Vehicles must start from the depot and return to the depot, following continuous paths. Each customer must be served by exactly one vehicle, and vehicles have a limited capacity. Each customer has a specific service time window, and service is only accepted within this window. A vehicle can arrive at a customer location early and wait for the time window to open, or it can arrive within the time window to provide service. Service can only begin within the time window, and the service duration is known. The distribution center must arrange an optimal delivery plan to both complete the delivery tasks and minimize travel costs. Because VRPHTW does not allow for delays, it, like the VRP, primarily emphasizes the minimization of travel costs along the routes.\n\n Now we consider a major enterprise logistics provider, 'Global Logistics', is responsible for providing precise material delivery services for multiple high-end office buildings and shops in a city's central business district (CBD). Due to traffic control in the CBD and the specific receiving requirements of the customers, the delivery task is highly challenging.\n\n**Specific Requirements:**\n\n1.  **Delivery Task**: There are 20 customers requiring delivery service on the day, and the demands of all customers must be met.\n2.  **Vehicle Constraints**: The company can use at most 5 trucks, and the capacity of each truck is 200 units.\n3.  **Capacity Constraint**: The total demand of all customers on a single route must not exceed the truck's maximum capacity (200 units).\n4.  **Time Window Constraint**: Each customer has a strict 'hard time window.' Service must begin within this specified time window. Early arrivals must wait, and late arrivals are not permitted.\n5.  **Service Time**: Due to the complex handover procedures at customer sites, a fixed service time of 90 minutes is required for unloading, handover, and paperwork at each customer location.\n6.  **Optimization Objective**: While satisfying all constraints, the company's objective is to **minimize the total distance traveled by all vehicles** to reduce operational costs.\n\n**Data Details:**\n\n* **Central Depot (Depot 0)**:\n    * Coordinates: (40, 50)\n    * Operating Time Window: [0, 1236] (minutes)\n* **Customer Locations (Customers 1-20)**: The coordinates, demand, service time window, and service duration for each customer are shown in the table below.\n\n| Customer ID | Coordinates (X, Y) | Demand (units) | Time Window (minutes) | Service Duration (minutes) |\n| :--- | :--- | :--- |:--- | :--- |\n| 1 | (45, 68) | 10 | [912, 967] | 90 |\n| 2 | (45, 70) | 30 | [825, 870] | 90 |\n| 3 | (42, 66) | 10 | [65, 146] | 90 |\n| 4 | (42, 68) | 10 | [727, 782] | 90 |\n| 5 | (42, 65) | 10 | [15, 67] | 90 |\n| 6 | (40, 69) | 20 | [621, 702] | 90 |\n| 7 | (40, 66) | 20 | [170, 225] | 90 |\n| 8 | (38, 68) | 20 | [255, 324] | 90 |\n| 9 | (38, 70) | 10 | [534, 605] | 90 |\n| 10 | (35, 66) | 10 | [357, 410] | 90 |\n| 11 | (35, 69) | 10 | [448, 505] | 90 |\n| 12 | (25, 85) | 20 | [652, 721] | 90 |\n| 13 | (22, 75) | 30 | [30, 92] | 90 |\n| 14 | (22, 85) | 10 | [567, 620] | 90 |\n| 15 | (20, 80) | 40 | [384, 429] | 90 |\n| 16 | (20, 85) | 40 | [475, 528] | 90 |\n| 17 | (18, 75) | 20 | [99, 148] | 90 |\n| 18 | (15, 75) | 20 | [179, 254] | 90 |\n| 19 | (15, 80) | 10 | [278, 345] | 90 |\n| 20 | (30, 50) | 10 | [10, 73] | 90 |\n\nNow, please provide an operations research model for this VRPHTW."", 'output': 'Sets and Indices\n- Let N = {0, 1, ..., 20}: set of nodes, where 0 is the depot, and 1–20 are customers.\n- Let K = {1, 2, 3, 4, 5}: set of available trucks (maximum 5).\n- Let i, j ∈ N: node indices.\n- Let k ∈ K: vehicle indices.\n\nParameters\n- Q = 200: capacity of each truck.\n- d_j: demand of customer j (from table), d_0 = 0.\n- [a_j, b_j]: time window for node j (from table), depot: [0, 1236].\n- s_j: service duration at node j (90 for all customers, 0 for depot).\n- c_{ij}: Euclidean distance between node i and node j.\n- M: a large constant.\n\nDecision Variables\n- x_{ijk} ∈ {0,1}: 1 if vehicle k travels from node i to node j, 0 otherwise.\n- t_{jk} ≥ 0: service start time of vehicle k at node j.\n- q_{jk} ≥ 0: load of vehicle k upon arrival at node j.\n\nObjective Function\nMinimize\u2003∑_{k∈K} ∑_{i∈N} ∑_{j∈N, j≠i} c_{ij} x_{ijk}\n\nSubject to\n\n1. Each customer is visited exactly once:\n\u2003\u2003∑_{k∈K} ∑_{i∈N, i≠j} x_{ijk} = 1\u2003\u2003∀ j ∈ N, j ≠ 0\n\n2. Vehicle flow conservation:\n\u2003\u2003∑_{j∈N, j≠i} x_{ijk} = ∑_{j∈N, j≠i} x_{jik}\u2003\u2003∀ k ∈ K, ∀ i ∈ N\n\n3. Each vehicle starts and ends at the depot:\n\u2003\u2003∑_{j∈N, j≠0} x_{0jk} ≤ 1\u2003\u2003∀ k ∈ K\n\u2003\u2003∑_{i∈N, i≠0} x_{i0k} ≤ 1\u2003\u2003∀ k ∈ K\n\n4. Vehicle capacity:\n\u2003\u2003q_{jk} ≥ d_j ∑_{i∈N, i≠j} x_{ijk}\u2003\u2003∀ j ∈ N, k ∈ K\n\u2003\u2003q_{jk} ≤ Q\u2003\u2003∀ j ∈ N, k ∈ K\n\n5. Load continuity:\n\u2003\u2003q_{jk} ≥ q_{ik} + d_j - Q(1 - x_{ijk})\u2003\u2003∀ i, j ∈ N, i ≠ j, k ∈ K\n\n6. Time windows:\n\u2003\u2003a_j ≤ t_{jk} ≤ b_j\u2003\u2003∀ j ∈ N, k ∈ K\n\n7. Service and travel time propagation:\n\u2003\u2003t_{jk} ≥ t_{ik} + s_i + c_{ij} - M(1 - x_{ijk})\u2003\u2003∀ i, j ∈ N, i ≠ j, k ∈ K\n\n8. Subtour elimination (MTZ or other valid constraints as needed).\n\n9. Variable domains:\n\u2003\u2003x_{ijk} ∈ {0,1}\u2003\u2003∀ i, j ∈ N, i ≠ j, k ∈ K\n\u2003\u2003t_{jk} ≥ 0\u2003\u2003∀ j ∈ N, k ∈ K\n\u2003\u2003q_{jk} ≥ 0\u2003\u2003∀ j ∈ N, k ∈ K\n\n10. At most 5 vehicles used:\n\u2003\u2003∑_{k∈K} ∑_{j∈N, j≠0} x_{0jk} ≤ 5\n\nDo NOT include any explanations, notes, or extra text. The expressions should not be simplified or abbreviated. Just give the formula, no need to generate final answer. Add default constraints that the variables are nonnegative integers, or nonnegative real numbers if specified in the query.'}","import gurobipy as gp
from gurobipy import GRB
import numpy as np

# Data
N = 21  # 0: depot, 1-20: customers
K = 5   # number of vehicles
Q = 200 # vehicle capacity
service_time = 90

# Node coordinates: (x, y)
coords = [
    (40, 50),   # Depot 0
    (45, 68),   # 1
    (45, 70),   # 2
    (42, 66),   # 3
    (42, 68),   # 4
    (42, 65),   # 5
    (40, 69),   # 6
    (40, 66),   # 7
    (38, 68),   # 8
    (38, 70),   # 9
    (35, 66),   # 10
    (35, 69),   # 11
    (25, 85),   # 12
    (22, 75),   # 13
    (22, 85),   # 14
    (20, 80),   # 15
    (20, 85),   # 16
    (18, 75),   # 17
    (15, 75),   # 18
    (15, 80),   # 19
    (30, 50),   # 20
]

# Demands
demand = [
    0,   # depot
    10, 30, 10, 10, 10, 20, 20, 20, 10, 10, 10, 20, 30, 10, 40, 40, 20, 20, 10, 10
]

# Time windows: (a_j, b_j)
time_windows = [
    (0, 1236),      # depot
    (912, 967),     # 1
    (825, 870),     # 2
    (65, 146),      # 3
    (727, 782),     # 4
    (15, 67),       # 5
    (621, 702),     # 6
    (170, 225),     # 7
    (255, 324),     # 8
    (534, 605),     # 9
    (357, 410),     # 10
    (448, 505),     # 11
    (652, 721),     # 12
    (30, 92),       # 13
    (567, 620),     # 14
    (384, 429),     # 15
    (475, 528),     # 16
    (99, 148),      # 17
    (179, 254),     # 18
    (278, 345),     # 19
    (10, 73),       # 20
]

# Service durations
service_durations = [0] + [service_time]*20

# Distance matrix
c = np.zeros((N, N))
for i in range(N):
    for j in range(N):
        xi, yi = coords[i]
        xj, yj = coords[j]
        c[i, j] = np.hypot(xi - xj, yi - yj)

# Big M for time and load constraints
M = 1e5

# Model
m = gp.Model(""VRPHTW_GlobalLogistics"")

# Sets
nodes = range(N)
customers = range(1, N)
vehicles = range(K)

# Decision variables
x = m.addVars(nodes, nodes, vehicles, vtype=GRB.BINARY, name=""x"")
t = m.addVars(nodes, vehicles, vtype=GRB.CONTINUOUS, lb=0, name=""t"")
q = m.addVars(nodes, vehicles, vtype=GRB.CONTINUOUS, lb=0, name=""q"")

# Objective: Minimize total distance
m.setObjective(
    gp.quicksum(c[i, j] * x[i, j, k] for k in vehicles for i in nodes for j in nodes if i != j),
    GRB.MINIMIZE
)

# 1. Each customer is visited exactly once
for j in customers:
    m.addConstr(
        gp.quicksum(x[i, j, k] for k in vehicles for i in nodes if i != j) == 1,
        name=f""visit_once_{j}""
    )

# 2. Vehicle flow conservation
for k in vehicles:
    for i in nodes:
        m.addConstr(
            gp.quicksum(x[i, j, k] for j in nodes if j != i) ==
            gp.quicksum(x[j, i, k] for j in nodes if j != i),
            name=f""flow_conservation_{i}_{k}""
        )

# 3. Each vehicle starts and ends at the depot
for k in vehicles:
    m.addConstr(
        gp.quicksum(x[0, j, k] for j in customers) <= 1,
        name=f""start_depot_{k}""
    )
    m.addConstr(
        gp.quicksum(x[i, 0, k] for i in customers) <= 1,
        name=f""end_depot_{k}""
    )

# 4. Vehicle capacity
for k in vehicles:
    for j in nodes:
        m.addConstr(
            q[j, k] >= demand[j] * gp.quicksum(x[i, j, k] for i in nodes if i != j),
            name=f""min_load_{j}_{k}""
        )
        m.addConstr(
            q[j, k] <= Q,
            name=f""max_load_{j}_{k}""
        )

# 5. Load continuity
for k in vehicles:
    for i in nodes:
        for j in nodes:
            if i != j:
                m.addConstr(
                    q[j, k] >= q[i, k] + demand[j] - Q * (1 - x[i, j, k]),
                    name=f""load_continuity_{i}_{j}_{k}""
                )

# 6. Time windows
for k in vehicles:
    for j in nodes:
        a_j, b_j = time_windows[j]
        m.addConstr(
            t[j, k] >= a_j,
            name=f""time_window_lb_{j}_{k}""
        )
        m.addConstr(
            t[j, k] <= b_j,
            name=f""time_window_ub_{j}_{k}""
        )

# 7. Service and travel time propagation
for k in vehicles:
    for i in nodes:
        for j in nodes:
            if i != j:
                m.addConstr(
                    t[j, k] >= t[i, k] + service_durations[i] + c[i, j] - M * (1 - x[i, j, k]),
                    name=f""time_propagation_{i}_{j}_{k}""
                )

# 8. Subtour elimination (MTZ)
for k in vehicles:
    for i in customers:
        for j in customers:
            if i != j:
                m.addConstr(
                    t[j, k] >= t[i, k] + service_durations[i] + c[i, j] - M * (1 - x[i, j, k]),
                    name=f""mtz_time_{i}_{j}_{k}""
                )

# 9. Variable domains are set by addVars

# 10. At most 5 vehicles used
m.addConstr(
    gp.quicksum(x[0, j, k] for k in vehicles for j in customers) <= 5,
    name=""max_vehicles""
)

# Solve the model
m.optimize()",,175.37,0,
"A factory produces two types of microcomputers, A and B. Each type of microcomputer requires the same two production processes. The processing time, profit from sales, and the maximum weekly processing capacity for each type are shown in Table 3.1.

Table 3.1

| Process | Model |  | Maximum Weekly Processing Capacity |
| :---: | :---: | :---: | :---: |
|  | $\\mathrm{A}$ | $\\mathrm{B}$ |  |
| I (hours / unit) | 4 | 6 | 150 |
| II (hours / unit) | 3 | 2 | 70 |
| Profit ($ per unit) | 300 | 450 |  |

The expected values for the factory's operational goals are as follows:

$p_{1}$: The total weekly profit must not be less than $10,000.

$p_{2}$: Due to contractual requirements, at least 10 units of Model A and at least 15 units of Model B must be produced per week.

$p_{3}$: The weekly production time for Process I should be exactly 150 hours, and the production time for Process II should be fully utilized, with potential overtime if necessary.

In oder to maximize total profit, try to establish the mathematical programming model for this problem.","{'input': ""A factory produces two types of microcomputers, A and B. Each type of microcomputer requires the same two production processes. The processing time, profit from sales, and the maximum weekly processing capacity for each type are shown in Table 3.1.\n\nTable 3.1\n\n| Process | Model |  | Maximum Weekly Processing Capacity |\n| :---: | :---: | :---: | :---: |\n|  | $\\\\mathrm{{A}}$ | $\\\\mathrm{{B}}$ |  |\n| I (hours / unit) | 4 | 6 | 150 |\n| II (hours / unit) | 3 | 2 | 70 |\n| Profit ($ per unit) | 300 | 450 |  |\n\nThe expected values for the factory's operational goals are as follows:\n\n$p_{{1}}$: The total weekly profit must not be less than $10,000.\n\n$p_{{2}}$: Due to contractual requirements, at least 10 units of Model A and at least 15 units of Model B must be produced per week.\n\n$p_{{3}}$: The weekly production time for Process I should be exactly 150 hours, and the production time for Process II should be fully utilized, with potential overtime if necessary.\n\nIn oder to maximize total profit, try to establish the mathematical programming model for this problem."", 'output': 'Maximize 300x_A + 450x_B\nsubject to\n    4x_A + 6x_B = 150\n    3x_A + 2x_B >= 70\n    300x_A + 450x_B >= 10,000\n    x_A >= 10\n    x_B >= 15\n    x_A >= 0, x_B >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Microcomputer_Production"")

# Decision variables: number of units produced for Model A (x_A) and Model B (x_B)
x_A = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x_A"")
x_B = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x_B"")

# Objective function: Maximize total profit
m.setObjective(300 * x_A + 450 * x_B, GRB.MAXIMIZE)

# Constraints
m.addConstr(4 * x_A + 6 * x_B == 150, name=""Process_I_time"")
m.addConstr(3 * x_A + 2 * x_B >= 70, name=""Process_II_time"")
m.addConstr(300 * x_A + 450 * x_B >= 10000, name=""Profit_minimum"")
m.addConstr(x_A >= 10, name=""Min_A"")
m.addConstr(x_B >= 15, name=""Min_B"")

# Solve the model
m.optimize()",11250,11250,1,
"There are three different products to be processed on three machine tools. Each product must first be processed on machine 1, then sequentially on machines 2 and 3. The order of processing the three products on each machine should remain the same. Assuming $t_{ij}$ represents the time to process the $i$-th product on the $j$-th machine, how should the schedule be arranged to minimize the total processing cycle for the three products? The timetable is as follows:
| Product | Machine 1 | Machine 2 | Machine 3 |
|---------|-----------|-----------|-----------|
| Product 1 | 2           | 3           | 1           |
| Product 2 | 4           | 2           | 3           |
| Product 3 | 3           | 5           | 2           |","{'input': 'There are three different products to be processed on three machine tools. Each product must first be processed on machine 1, then sequentially on machines 2 and 3. The order of processing the three products on each machine should remain the same. Assuming $t_{{ij}}$ represents the time to process the $i$-th product on the $j$-th machine, how should the schedule be arranged to minimize the total processing cycle for the three products? The timetable is as follows:\n| Product | Machine 1 | Machine 2 | Machine 3 |\n|---------|-----------|-----------|-----------|\n| Product 1 | 2           | 3           | 1           |\n| Product 2 | 4           | 2           | 3           |\n| Product 3 | 3           | 5           | 2           |', 'output': 'The optimal schedule is: Product 3, then Product 2, then Product 1.\nThe minimum total processing cycle (makespan) is 14.'}","import gurobipy as gp
from gurobipy import GRB
import itertools

# Processing times: t[i][j] = time for product i on machine j
t = [
    [2, 3, 1],  # Product 1
    [4, 2, 3],  # Product 2
    [3, 5, 2]   # Product 3
]

n = 3  # number of products

# Create the model
m = gp.Model(""Flowshop_Scheduling"")

# Permutation variables: x[i][p] = 1 if product i is in position p
x = m.addVars(n, n, vtype=GRB.BINARY, name=""x"")

# Completion times: C[i][j] = completion time of product i on machine j
C = m.addVars(n, 3, vtype=GRB.CONTINUOUS, name=""C"")

# Makespan
makespan = m.addVar(vtype=GRB.CONTINUOUS, name=""makespan"")

# Each product assigned to exactly one position
for i in range(n):
    m.addConstr(gp.quicksum(x[i, p] for p in range(n)) == 1, name=f""assign_{i}"")

# Each position assigned to exactly one product
for p in range(n):
    m.addConstr(gp.quicksum(x[i, p] for i in range(n)) == 1, name=f""pos_{p}"")

# Helper: get product index at position p
def prod_at_pos(p):
    return gp.quicksum(i * x[i, p] for i in range(n))

# For each position, define which product is there
for p in range(n):
    for i in range(n):
        # C[p][0] = completion time of product at position p on machine 1
        m.addConstr(
            C[p, 0] >= t[i][0] * x[i, p],
            name=f""start_M1_{p}_{i}""
        )

# Machine 1: completion time is sum of processing times up to that position
for p in range(n):
    m.addConstr(
        C[p, 0] == gp.quicksum(t[i][0] * x[i, k] for i in range(n) for k in range(p+1)),
        name=f""comp_M1_{p}""
    )

# Machine 2 and 3: flowshop constraints
for p in range(n):
    for m_id in [1, 2]:
        # For each product i at position p
        for i in range(n):
            # C[p][m] >= C[p][m-1] + t[i][m] * x[i, p]
            m.addConstr(
                C[p, m_id] >= C[p, m_id-1] + t[i][m_id] * x[i, p],
                name=f""flow_{p}_{m_id}_{i}_self""
            )
            if p > 0:
                # C[p][m] >= C[p-1][m] + t[i][m] * x[i, p]
                m.addConstr(
                    C[p, m_id] >= C[p-1, m_id] + t[i][m_id] * x[i, p],
                    name=f""flow_{p}_{m_id}_{i}_prev""
                )
            else:
                # For p=0, no previous product
                pass

# Makespan: completion time of last product on last machine
m.addConstr(makespan == C[n-1, 2], name=""makespan_def"")

# Objective: minimize makespan
m.setObjective(makespan, GRB.MINIMIZE)

# Solve the model
m.optimize()",14,14,1,
"A company plans to transport goods between the city and the suburb and needs to choose the most environmentally friendly transportation method. The company can choose from the following three methods: motorcycle, small truck, and large truck. Each motorcycle trip produces 40 units of pollution, each small truck trip produces 70 units of pollution, and each large truck trip produces 100 units of pollution. The company's goal is to minimize total pollution.

The company can only choose two out of these three transportation methods.

Due to certain road restrictions, the number of motorcycle trips cannot exceed 8.

Each motorcycle trip can transport 10 units of products, each small truck trip can transport 20 units of products, and each large truck trip can transport 50 units of products. The company needs to transport at least 300 units of products.

The total number of trips must be less than or equal to 20.","{'input': ""A company plans to transport goods between the city and the suburb and needs to choose the most environmentally friendly transportation method. The company can choose from the following three methods: motorcycle, small truck, and large truck. Each motorcycle trip produces 40 units of pollution, each small truck trip produces 70 units of pollution, and each large truck trip produces 100 units of pollution. The company's goal is to minimize total pollution.\n\nThe company can only choose two out of these three transportation methods.\n\nDue to certain road restrictions, the number of motorcycle trips cannot exceed 8.\n\nEach motorcycle trip can transport 10 units of products, each small truck trip can transport 20 units of products, and each large truck trip can transport 50 units of products. The company needs to transport at least 300 units of products.\n\nThe total number of trips must be less than or equal to 20."", 'output': 'Minimize 40x1 + 70x2 + 100x3\nSubject to\ny1 + y2 + y3 = 2\nx1 <= 8y1\nx2 <= 20y2\nx3 <= 20y3\nx1 <= 8\nx1 + x2 + x3 <= 20\n10x1 + 20x2 + 50x3 >= 300\nx1, x2, x3 ∈ Z≥0\ny1, y2, y3 ∈ {0,1}'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Transport_Min_Pollution"")

# Decision variables
x1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x1"")  # Motorcycle trips
x2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x2"")  # Small truck trips
x3 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x3"")  # Large truck trips

y1 = m.addVar(vtype=GRB.BINARY, name=""y1"")  # Motorcycle chosen
y2 = m.addVar(vtype=GRB.BINARY, name=""y2"")  # Small truck chosen
y3 = m.addVar(vtype=GRB.BINARY, name=""y3"")  # Large truck chosen

# Objective function: Minimize total pollution
m.setObjective(40 * x1 + 70 * x2 + 100 * x3, GRB.MINIMIZE)

# Constraints

# Only two transportation methods can be chosen
m.addConstr(y1 + y2 + y3 == 2, name=""choose_two_methods"")

# Linking constraints: trips only if method is chosen
m.addConstr(x1 <= 8 * y1, name=""motorcycle_link"")
m.addConstr(x2 <= 20 * y2, name=""small_truck_link"")
m.addConstr(x3 <= 20 * y3, name=""large_truck_link"")

# Motorcycle trip limit
m.addConstr(x1 <= 8, name=""motorcycle_trip_limit"")

# Total number of trips limit
m.addConstr(x1 + x2 + x3 <= 20, name=""total_trip_limit"")

# Minimum product transport requirement
m.addConstr(10 * x1 + 20 * x2 + 50 * x3 >= 300, name=""min_transport"")

# Solve the model
m.optimize()",600,600,1,
"The independent country of Carelland mainly exports four commodities: steel, engines, electronic components, and plastic. Carelland's Minister of Finance (i.e., Minister of Economy) wants to maximize exports and minimize imports. The unit prices of steel, engines, electronics, and plastic on the world market are, in local currency (Klunz), 500, 1500, 300, 1200 respectively. Producing 1 unit of steel requires 0.02 units of engines, 0.01 units of plastic, 250 Klunz of other imported goods, and 6 person-months of labor. Producing 1 unit of engines requires 0.8 units of steel, 0.15 units of electronic components, 0.11 units of plastic, 300 Klunz of imported goods, and 1 person-year. One unit of electronics requires: 0.01 units of steel, 0.01 units of engines, 0.05 units of plastic, 50 Klunz of imported goods, and 6 person-months of labor. One unit of plastic requires: 0.03 units of engines, 0.2 units of steel, 0.05 units of electronic components, 300 Klunz of imported goods, and 2 person-years. Engine production is limited to 650000 units, and plastic production is limited to 60000 units. The total available labor force per year is 830000 person-months. Write a mathematical program to maximize domestic GDP and solve the problem using AMPL.","{'input': ""The independent country of Carelland mainly exports four commodities: steel, engines, electronic components, and plastic. Carelland's Minister of Finance (i.e., Minister of Economy) wants to maximize exports and minimize imports. The unit prices of steel, engines, electronics, and plastic on the world market are, in local currency (Klunz), 500, 1500, 300, 1200 respectively. Producing 1 unit of steel requires 0.02 units of engines, 0.01 units of plastic, 250 Klunz of other imported goods, and 6 person-months of labor. Producing 1 unit of engines requires 0.8 units of steel, 0.15 units of electronic components, 0.11 units of plastic, 300 Klunz of imported goods, and 1 person-year. One unit of electronics requires: 0.01 units of steel, 0.01 units of engines, 0.05 units of plastic, 50 Klunz of imported goods, and 6 person-months of labor. One unit of plastic requires: 0.03 units of engines, 0.2 units of steel, 0.05 units of electronic components, 300 Klunz of imported goods, and 2 person-years. Engine production is limited to 650000 units, and plastic production is limited to 60000 units. The total available labor force per year is 830000 person-months. Write a mathematical program to maximize domestic GDP and solve the problem using AMPL."", 'output': 'Let S = units of steel produced  \nLet E = units of engines produced (E ≤ 650,000)  \nLet C = units of electronic components produced  \nLet P = units of plastic produced (P ≤ 60,000)  \n\nMaximize  \n\u2003\u2003GDP = 250S + 1200E + 250C + 900P\n\nSubject to  \n\u2003\u20030.8E + 0.01C + 0.2P ≤ S'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Carelland_GDP_Maximization"")

# Decision variables
S = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""Steel"")         # Units of steel produced
E = m.addVar(vtype=GRB.CONTINUOUS, lb=0, ub=650000, name=""Engines"")  # Units of engines produced (≤ 650,000)
C = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""Electronics"")   # Units of electronic components produced
P = m.addVar(vtype=GRB.CONTINUOUS, lb=0, ub=60000, name=""Plastic"")   # Units of plastic produced (≤ 60,000)

# Objective function: Maximize GDP = 250S + 1200E + 250C + 900P
m.setObjective(250 * S + 1200 * E + 250 * C + 900 * P, GRB.MAXIMIZE)

# Constraints

# Material balance: 0.8E + 0.01C + 0.2P ≤ S
m.addConstr(0.8 * E + 0.01 * C + 0.2 * P <= S, name=""Steel_balance"")

# Engine production limit: E ≤ 650,000 (already set as ub in variable)
# Plastic production limit: P ≤ 60,000 (already set as ub in variable)

# Labor constraint:
# Steel: 6 person-months/unit
# Engines: 12 person-months/unit (1 year)
# Electronics: 6 person-months/unit
# Plastic: 24 person-months/unit (2 years)
m.addConstr(6 * S + 12 * E + 6 * C + 24 * P <= 830000, name=""Labor_constraint"")

# Solve the model
m.optimize()",69166666.67,33288066.63,0,
"You have an initial capital of 500,000 yuan at the beginning of Year 1. Over the next three years, you may allocate funds to the following investment projects. The goal is to choose an investment plan that maximizes the **total principal plus interest at the end of Year 3** (no borrowing allowed, and you may reallocate available cash at each decision time).

Projects:
(1) A 1-year product available at the **beginning of each year** (Years 1鈥3). If you invest I at the start of a year, you receive 1.20路I at that year鈥檚 end. Unlimited capacity.
(2) A 2-year product available **only at the beginning of Year 1**; it matures at the **end of Year 2** and pays 1.50路I. Investment in this product is capped at 120,000 yuan.
(3) A same-year product available **at the beginning of Year 2**, maturing at the **end of Year 2**, and paying 1.60路I. Investment is capped at 150,000 yuan.
(4) A 1-year product available **at the beginning of Year 3**, maturing at the **end of Year 3**, and paying 1.40路I. Investment is capped at 100,000 yuan.

Decisions are made at the beginnings of Years 1鈥3 using only currently available cash (initial capital and proceeds from matured investments). Find the investment plan that maximizes total wealth at the end of Year 3.","{'input': 'You have an initial capital of 500,000 yuan at the beginning of Year 1. Over the next three years, you may allocate funds to the following investment projects. The goal is to choose an investment plan that maximizes the **total principal plus interest at the end of Year 3** (no borrowing allowed, and you may reallocate available cash at each decision time).\n\nProjects:\n(1) A 1-year product available at the **beginning of each year** (Years 1鈥3). If you invest I at the start of a year, you receive 1.20路I at that year鈥檚 end. Unlimited capacity.\n(2) A 2-year product available **only at the beginning of Year 1**; it matures at the **end of Year 2** and pays 1.50路I. Investment in this product is capped at 120,000 yuan.\n(3) A same-year product available **at the beginning of Year 2**, maturing at the **end of Year 2**, and paying 1.60路I. Investment is capped at 150,000 yuan.\n(4) A 1-year product available **at the beginning of Year 3**, maturing at the **end of Year 3**, and paying 1.40路I. Investment is capped at 100,000 yuan.\n\nDecisions are made at the beginnings of Years 1鈥3 using only currently available cash (initial capital and proceeds from matured investments). Find the investment plan that maximizes total wealth at the end of Year 3.', 'output': 'Maximize Z = 1.2x_3 + 1.4w\nSubject to:\nx_1 + y <= 500,000\ny <= 120,000\nx_2 + z <= 1.2x_1\nz <= 150,000\nx_3 + w <= 1.2x_2 + 1.5y + 1.6z\nw <= 100,000\nx_1, x_2, x_3, y, z, w >= 0\n\nOptimal investment plan:\nYear 1: Invest y = 120,000 in Project 2, x_1 = 380,000 in Project 1\nYear 2: Invest z = 150,000 in Project 3, x_2 = 306,000 in Project 1\nYear 3: Invest w = 100,000 in Project 4, x_3 = 687,200 in Project 1\n\nMaximum total at end of Year 3: 964,640 yuan'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Investment_Optimization"")

# Decision variables
x1 = m.addVar(lb=0, name=""x1"")  # Project 1, Year 1
y = m.addVar(lb=0, ub=120000, name=""y"")  # Project 2, Year 1 (cap 120,000)
x2 = m.addVar(lb=0, name=""x2"")  # Project 1, Year 2
z = m.addVar(lb=0, ub=150000, name=""z"")  # Project 3, Year 2 (cap 150,000)
x3 = m.addVar(lb=0, name=""x3"")  # Project 1, Year 3
w = m.addVar(lb=0, ub=100000, name=""w"")  # Project 4, Year 3 (cap 100,000)

# Objective function: Maximize total at end of Year 3
m.setObjective(1.2 * x3 + 1.4 * w, GRB.MAXIMIZE)

# Constraints
m.addConstr(x1 + y <= 500000, name=""Year1_budget"")
m.addConstr(y <= 120000, name=""Project2_cap"")
m.addConstr(x2 + z <= 1.2 * x1, name=""Year2_budget"")
m.addConstr(z <= 150000, name=""Project3_cap"")
m.addConstr(x3 + w <= 1.2 * x2 + 1.5 * y + 1.6 * z, name=""Year3_budget"")
m.addConstr(w <= 100000, name=""Project4_cap"")
m.addConstr(x1 >= 0, name=""x1_nonneg"")
m.addConstr(x2 >= 0, name=""x2_nonneg"")
m.addConstr(x3 >= 0, name=""x3_nonneg"")
m.addConstr(y >= 0, name=""y_nonneg"")
m.addConstr(z >= 0, name=""z_nonneg"")
m.addConstr(w >= 0, name=""w_nonneg"")

# Solve the model
m.optimize()",964640,964640,1,
"Two steel furnaces at a steel plant each use two methods of steelmaking simultaneously. The first method takes $a=2$ hours per furnace and costs $m=50$ in fuel expenses; the second method takes $b=3$ hours per furnace and costs $n=70$ in fuel expenses. Assuming each furnace produces $k=10$ tons of steel regardless of the method used, and that at least $d=30$ tons of steel must be produced within $c=12$ hours, how should these two methods be allocated to minimize fuel expenses? Formulate this problem as a linear programming model.","{'input': 'Two steel furnaces at a steel plant each use two methods of steelmaking simultaneously. The first method takes $a=2$ hours per furnace and costs $m=50$ in fuel expenses; the second method takes $b=3$ hours per furnace and costs $n=70$ in fuel expenses. Assuming each furnace produces $k=10$ tons of steel regardless of the method used, and that at least $d=30$ tons of steel must be produced within $c=12$ hours, how should these two methods be allocated to minimize fuel expenses? Formulate this problem as a linear programming model.', 'output': 'Minimize 50x_1 + 70x_2\nSubject to\n    10x_1 + 10x_2 >= 30\n    2x_1 + 3x_2 <= 24\n    x_1, x_2 ∈ Z+'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Steel_Furnace_Optimization"")

# Decision variables: number of furnaces using method 1 (x_1) and method 2 (x_2)
x_1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_1"")
x_2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_2"")

# Objective function: Minimize total fuel expenses
m.setObjective(50 * x_1 + 70 * x_2, GRB.MINIMIZE)

# Constraints
m.addConstr(10 * x_1 + 10 * x_2 >= 30, name=""steel_production_requirement"")
m.addConstr(2 * x_1 + 3 * x_2 <= 24, name=""total_time_limit"")

# Solve the model
m.optimize()",150,150,1,
"A production base needs to extract raw materials from warehouses A and B every day for production. The required raw materials are: at least 240 pieces of raw material A, at least 80 kg of raw material B, and at least 120 tons of raw material C. It is known that: Each truck from warehouse A can transport back to the production base 4 pieces of raw material A, 2 kg of raw material B, 6 tons of raw material C, with a freight cost of 200 yuan per truck; each truck from warehouse B can transport back to the production base 7 pieces of raw material A, 2 kg of raw material B, 2 tons of raw material C per day, with a freight cost of 160 yuan per truck. Question: In order to meet production needs, how many trucks should be dispatched daily from warehouse A and warehouse B to minimize the total freight cost?","{'input': 'A production base needs to extract raw materials from warehouses A and B every day for production. The required raw materials are: at least 240 pieces of raw material A, at least 80 kg of raw material B, and at least 120 tons of raw material C. It is known that: Each truck from warehouse A can transport back to the production base 4 pieces of raw material A, 2 kg of raw material B, 6 tons of raw material C, with a freight cost of 200 yuan per truck; each truck from warehouse B can transport back to the production base 7 pieces of raw material A, 2 kg of raw material B, 2 tons of raw material C per day, with a freight cost of 160 yuan per truck. Question: In order to meet production needs, how many trucks should be dispatched daily from warehouse A and warehouse B to minimize the total freight cost?', 'output': 'Minimize 200x_A + 160x_B\n4x_A + 7x_B >= 240\n2x_A + 2x_B >= 80\n6x_A + 2x_B >= 120\nx_A, x_B ∈ Z+, x_A >= 0, x_B >= 0\n\nOptimal solution: x_A = 10, x_B = 30, minimum total freight cost = 6800 yuan per day.'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Raw_Material_Transportation"")

# Decision variables: number of trucks from warehouse A (x_A) and warehouse B (x_B)
x_A = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_A"")
x_B = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_B"")

# Objective function: Minimize total freight cost
m.setObjective(200 * x_A + 160 * x_B, GRB.MINIMIZE)

# Constraints
m.addConstr(4 * x_A + 7 * x_B >= 240, name=""raw_material_A_requirement"")
m.addConstr(2 * x_A + 2 * x_B >= 80, name=""raw_material_B_requirement"")
m.addConstr(6 * x_A + 2 * x_B >= 120, name=""raw_material_C_requirement"")

# Solve the model
m.optimize()",6800,6800,1,
"Given that there are $m=2$ production points for a certain type of material, where the output at the $i$-th point $(i=1,2)$ is $a_i$, $a_1 = 100$, and $a_2 = 150$. This material is to be shipped to $n=2$ demand points, where the demand at the $j$-th point $(j=1, 2)$ is $b_j$, $b_1 = 80$, and $b_2 = 120$. It is known that $\sum_i a_i \geqslant \sum_j b_j$. It is also known that when shipping from production points to demand points, it must pass through one of the $p=2$ intermediate marshaling stations. If the $k$-th $(k=1, 2)$ intermediate marshaling station is used, a fixed cost $f_k$ is incurred regardless of the transshipment volume, where $f_1 = 10$ and $f_2 = 15$. The $k$-th intermediate marshaling station has a maximum transshipment capacity limitation $q_k$, where $q_1 = 100$ and $q_2 = 100$. Let $c_{i k}$ and $c'_{k j}$ denote the unit transportation cost from $i$ to $k$ and from $k$ to $j$, respectively, where $c_{11}=2$, $c_{12}=3$, $c_{21}=4$, $c_{22}=1$, $c'_{11}=3$, $c'_{12}=2$, $c'_{21}=1$, and $c'_{22}=4$. Try to determine a transportation plan for this material that minimizes the total cost.","{'input': ""Given that there are $m=2$ production points for a certain type of material, where the output at the $i$-th point $(i=1,2)$ is $a_i$, $a_1 = 100$, and $a_2 = 150$. This material is to be shipped to $n=2$ demand points, where the demand at the $j$-th point $(j=1, 2)$ is $b_j$, $b_1 = 80$, and $b_2 = 120$. It is known that $\\sum_i a_i \\geqslant \\sum_j b_j$. It is also known that when shipping from production points to demand points, it must pass through one of the $p=2$ intermediate marshaling stations. If the $k$-th $(k=1, 2)$ intermediate marshaling station is used, a fixed cost $f_k$ is incurred regardless of the transshipment volume, where $f_1 = 10$ and $f_2 = 15$. The $k$-th intermediate marshaling station has a maximum transshipment capacity limitation $q_k$, where $q_1 = 100$ and $q_2 = 100$. Let $c_{{i k}}$ and $c'_{{k j}}$ denote the unit transportation cost from $i$ to $k$ and from $k$ to $j$, respectively, where $c_{{11}}=2$, $c_{{12}}=3$, $c_{{21}}=4$, $c_{{22}}=1$, $c'_{{11}}=3$, $c'_{{12}}=2$, $c'_{{21}}=1$, and $c'_{{22}}=4$. Try to determine a transportation plan for this material that minimizes the total cost."", 'output': 'Optimal Transportation Plan:\n- Ship 80 units from production point 2 to demand point 1 via marshaling station 2.\n- Ship 20 units from production point 2 to demand point 2 via marshaling station 2.\n- Ship 100 units from production point 1 to demand point 2 via marshaling station 1.\n\nMinimum Total Cost:\n685\n\nMathematical Model:\nMinimize\u200310y₁ + 15y₂ + 5x₁₁₁ + 4x₁₁₂ + 4x₁₂₁ + 7x₁₂₂ + 7x₂₁₁ + 6x₂₁₂ + 2x₂₂₁ + 5x₂₂₂\nsubject to\n\u2003x₁₁₁ + x₁₁₂ + x₁₂₁ + x₁₂₂ ≤ 100\n\u2003x₂₁₁ + x₂₁₂ + x₂₂₁ + x₂₂₂ ≤ 150\n\u2003x₁₁₁ + x₂₁₁ + x₁₂₁ + x₂₂₁ ≥ 80\n\u2003x₁₁₂ + x₂₁₂ + x₁₂₂ + x₂₂₂ ≥ 120\n\u2003x₁₁₁ + x₁₁₂ + x₂₁₁ + x₂₁₂ ≤ 100y₁\n\u2003x₁₂₁ + x₁₂₂ + x₂₂₁ + x₂₂₂ ≤ 100y₂\n\u2003y₁, y₂ ∈ {0,1}\n\u2003x_{ijk} ≥ 0\n\nWhere the optimal solution is:\n\u2003x₂₂₁ = 80, x₂₂₂ = 20, x₁₁₂ = 100, all other x_{ijk} = 0, y₁ = 1, y₂ = 1. Total cost = 685.'}","import gurobipy as gp
from gurobipy import GRB

# Data
m_points = 2
n_points = 2
p_stations = 2

a = [100, 150]  # production at i=1,2
b = [80, 120]   # demand at j=1,2

f = [10, 15]    # fixed cost for k=1,2
q = [100, 100]  # capacity for k=1,2

# c_ik: cost from i to k
c_ik = [
    [2, 3],  # i=1 to k=1,2
    [4, 1]   # i=2 to k=1,2
]

# c'_kj: cost from k to j
cp_kj = [
    [3, 2],  # k=1 to j=1,2
    [1, 4]   # k=2 to j=1,2
]

# Create model
model = gp.Model(""Transshipment_Optimization"")

# Decision variables
x = model.addVars(m_points, p_stations, n_points, lb=0, vtype=GRB.CONTINUOUS, name=""x"")  # x[i,k,j]
y = model.addVars(p_stations, vtype=GRB.BINARY, name=""y"")  # y[k]

# Objective function
model.setObjective(
    gp.quicksum(f[k] * y[k] for k in range(p_stations)) +
    gp.quicksum(
        (c_ik[i][k] + cp_kj[k][j]) * x[i, k, j]
        for i in range(m_points)
        for k in range(p_stations)
        for j in range(n_points)
    ),
    GRB.MINIMIZE
)

# Production constraints
for i in range(m_points):
    model.addConstr(
        gp.quicksum(x[i, k, j] for k in range(p_stations) for j in range(n_points)) <= a[i],
        name=f""prod_{i}""
    )

# Demand constraints
for j in range(n_points):
    model.addConstr(
        gp.quicksum(x[i, k, j] for i in range(m_points) for k in range(p_stations)) >= b[j],
        name=f""demand_{j}""
    )

# Marshaling station capacity constraints
for k in range(p_stations):
    model.addConstr(
        gp.quicksum(x[i, k, j] for i in range(m_points) for j in range(n_points)) <= q[k] * y[k],
        name=f""station_cap_{k}""
    )

# Solve the model
model.optimize()",,685,0,
"A factory produces three types of products, A, B, and C. Each unit of product A requires 1 hour for technical preparation, 10 hours of direct labor, and 3 kg of materials. Each unit of product B requires 2 hours for technical preparation, 4 hours of labor, and 2 kg of materials. Each unit of product C requires 1 hour for technical preparation, 5 hours of labor, and 1 kg of materials. The available technical preparation time is 100 hours, labor time is 700 hours, and materials are 400 kg. The company offers larger discounts for bulk purchases, as detailed in Table 1-22. Determine the company's production plan to maximize profit.
Table 1-22
| Product A       |           | Product B       |           | Product C       |           |
|:---------------|:---------:|:---------------|:---------:|:---------------|:---------:|
| Sales Volume (pieces) | Profit (yuan) | Sales Volume (pieces) | Profit (yuan) | Sales Volume (pieces) | Profit (yuan) |
| 0 ~ 40         | 10        | 0 ~ 50         | 6         | 0 ~ 100        | 5         |
| 40 ~ 100       | 9         | 50 ~ 100       | 4         | Above 100      | 4         |
| 100 ~ 150      | 8         | Above 100      | 3         |                |           |
| Above 150      | 7         |                |           |                |           |","{'input': ""A factory produces three types of products, A, B, and C. Each unit of product A requires 1 hour for technical preparation, 10 hours of direct labor, and 3 kg of materials. Each unit of product B requires 2 hours for technical preparation, 4 hours of labor, and 2 kg of materials. Each unit of product C requires 1 hour for technical preparation, 5 hours of labor, and 1 kg of materials. The available technical preparation time is 100 hours, labor time is 700 hours, and materials are 400 kg. The company offers larger discounts for bulk purchases, as detailed in Table 1-22. Determine the company's production plan to maximize profit.\nTable 1-22\n| Product A       |           | Product B       |           | Product C       |           |\n|:---------------|:---------:|:---------------|:---------:|:---------------|:---------:|\n| Sales Volume (pieces) | Profit (yuan) | Sales Volume (pieces) | Profit (yuan) | Sales Volume (pieces) | Profit (yuan) |\n| 0 ~ 40         | 10        | 0 ~ 50         | 6         | 0 ~ 100        | 5         |\n| 40 ~ 100       | 9         | 50 ~ 100       | 4         | Above 100      | 4         |\n| 100 ~ 150      | 8         | Above 100      | 3         |                |           |\n| Above 150      | 7         |                |           |                |           |"", 'output': 'Maximize\n\u2003Z = 10y_{A1} + 9y_{A2} + 8y_{A3} + 7y_{A4} + 6y_{B1} + 4y_{B2} + 3y_{B3} + 5y_{C1} + 4y_{C2}\n\nSubject to\n\u2003(y_{A1} + y_{A2} + y_{A3} + y_{A4}) + 2(y_{B1} + y_{B2} + y_{B3}) + (y_{C1} + y_{C2}) ≤ 100\n\u200310(y_{A1} + y_{A2} + y_{A3} + y_{A4}) + 4(y_{B1} + y_{B2} + y_{B3}) + 5(y_{C1} + y_{C2}) ≤ 700\n\u20033(y_{A1} + y_{A2} + y_{A3} + y_{A4}) + 2(y_{B1} + y_{B2} + y_{B3}) + (y_{C1} + y_{C2}) ≤ 400\n\n\u20030 ≤ y_{A1} ≤ 40\n\u20030 ≤ y_{A2} ≤ 60\n\u20030 ≤ y_{A3} ≤ 50\n\u2003y_{A4} ≥ 0\n\n\u20030 ≤ y_{B1} ≤ 50\n\u20030 ≤ y_{B2} ≤ 50\n\u2003y_{B3} ≥ 0\n\n\u20030 ≤ y_{C1} ≤ 100\n\u2003y_{C2} ≥ 0\n\n\u2003All variables are nonnegative integers'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Factory_Production_Optimization"")

# Decision variables
y_A1 = m.addVar(vtype=GRB.INTEGER, lb=0, ub=40, name=""y_A1"")   # Product A, 0~40
y_A2 = m.addVar(vtype=GRB.INTEGER, lb=0, ub=60, name=""y_A2"")   # Product A, 40~100 (60 units)
y_A3 = m.addVar(vtype=GRB.INTEGER, lb=0, ub=50, name=""y_A3"")   # Product A, 100~150 (50 units)
y_A4 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""y_A4"")          # Product A, above 150

y_B1 = m.addVar(vtype=GRB.INTEGER, lb=0, ub=50, name=""y_B1"")   # Product B, 0~50
y_B2 = m.addVar(vtype=GRB.INTEGER, lb=0, ub=50, name=""y_B2"")   # Product B, 50~100 (50 units)
y_B3 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""y_B3"")          # Product B, above 100

y_C1 = m.addVar(vtype=GRB.INTEGER, lb=0, ub=100, name=""y_C1"")  # Product C, 0~100
y_C2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""y_C2"")          # Product C, above 100

# Objective function
m.setObjective(
    10*y_A1 + 9*y_A2 + 8*y_A3 + 7*y_A4 +
    6*y_B1 + 4*y_B2 + 3*y_B3 +
    5*y_C1 + 4*y_C2,
    GRB.MAXIMIZE
)

# Constraints

# Technical preparation time
m.addConstr(
    (y_A1 + y_A2 + y_A3 + y_A4) +
    2*(y_B1 + y_B2 + y_B3) +
    (y_C1 + y_C2) <= 100,
    name=""tech_prep_time""
)

# Labor time
m.addConstr(
    10*(y_A1 + y_A2 + y_A3 + y_A4) +
    4*(y_B1 + y_B2 + y_B3) +
    5*(y_C1 + y_C2) <= 700,
    name=""labor_time""
)

# Materials
m.addConstr(
    3*(y_A1 + y_A2 + y_A3 + y_A4) +
    2*(y_B1 + y_B2 + y_B3) +
    (y_C1 + y_C2) <= 400,
    name=""materials""
)

# Solve the model
m.optimize()",712,700,0,
"A university computer lab hires 4 undergraduates (designated 1, 2, 3, and 4) and 2 graduate students (designated 5 and 6) for duty answering questions. The maximum duty hours from Monday to Friday and the hourly wage for each person are shown in Table 5-9.

Table 5-9
| Student ID | Wage (CNY/h) | Monday | Tuesday | Wednesday | Thursday | Friday |
|------------|--------------|--------|---------|-----------|----------|--------|
| 1          | 10.0         | 6      | 0       | 6         | 0        | 7      |
| 2          | 10.0         | 0      | 8       | 9         | 6        | 0      |
| 3          | 9.9          | 4      | 8       | 3         | 0        | 5      |
| 4          | 9.8          | 5      | 5       | 6         | 0        | 4      |
| 5          | 10.8         | 3      | 0       | 5         | 8        | 0      |
| 6          | 11.3         | 0      | 6       | 0         | 6        | 5      |

The lab operates from 8:00 AM to 10:00 PM, and there must be one and only one student on duty during open hours. It is also required that each undergraduate must work at least 8 hours per week, and each graduate student must work at least 7 hours per week. Additionally, supplement the following requirements: each student can work no more than 2 shifts per week, and no more than 3 students can be scheduled for duty each day. Based on these conditions, establish a new mathematical model to minimize gross pay.","{'input': 'A university computer lab hires 4 undergraduates (designated 1, 2, 3, and 4) and 2 graduate students (designated 5 and 6) for duty answering questions. The maximum duty hours from Monday to Friday and the hourly wage for each person are shown in Table 5-9.\n\nTable 5-9\n| Student ID | Wage (CNY/h) | Monday | Tuesday | Wednesday | Thursday | Friday |\n|------------|--------------|--------|---------|-----------|----------|--------|\n| 1          | 10.0         | 6      | 0       | 6         | 0        | 7      |\n| 2          | 10.0         | 0      | 8       | 9         | 6        | 0      |\n| 3          | 9.9          | 4      | 8       | 3         | 0        | 5      |\n| 4          | 9.8          | 5      | 5       | 6         | 0        | 4      |\n| 5          | 10.8         | 3      | 0       | 5         | 8        | 0      |\n| 6          | 11.3         | 0      | 6       | 0         | 6        | 5      |\n\nThe lab operates from 8:00 AM to 10:00 PM, and there must be one and only one student on duty during open hours. It is also required that each undergraduate must work at least 8 hours per week, and each graduate student must work at least 7 hours per week. Additionally, supplement the following requirements: each student can work no more than 2 shifts per week, and no more than 3 students can be scheduled for duty each day. Based on these conditions, establish a new mathematical model to minimize gross pay.', 'output': 'Minimize\n    ∑_{i=1}^6 ∑_{d=1}^5 w_i * x_{i,d}\n\nSubject to\n    ∑_{i=1}^6 x_{i,d} = 14'}","import gurobipy as gp
from gurobipy import GRB

# Data
students = [1, 2, 3, 4, 5, 6]
undergrads = [1, 2, 3, 4]
grads = [5, 6]
days = [1, 2, 3, 4, 5]  # 1=Mon, ..., 5=Fri

wage = {1: 10.0, 2: 10.0, 3: 9.9, 4: 9.8, 5: 10.8, 6: 11.3}
max_hours = {
    (1, 1): 6, (1, 2): 0, (1, 3): 6, (1, 4): 0, (1, 5): 7,
    (2, 1): 0, (2, 2): 8, (2, 3): 9, (2, 4): 6, (2, 5): 0,
    (3, 1): 4, (3, 2): 8, (3, 3): 3, (3, 4): 0, (3, 5): 5,
    (4, 1): 5, (4, 2): 5, (4, 3): 6, (4, 4): 0, (4, 5): 4,
    (5, 1): 3, (5, 2): 0, (5, 3): 5, (5, 4): 8, (5, 5): 0,
    (6, 1): 0, (6, 2): 6, (6, 3): 0, (6, 4): 6, (6, 5): 5
}
# Each day: 8:00-22:00 = 14 hours
lab_hours_per_day = 14

# Create model
m = gp.Model(""Lab_Scheduling"")

# Decision variables
x = m.addVars(students, days, vtype=GRB.INTEGER, lb=0, name=""x"")  # hours student i works on day d
y = m.addVars(students, days, vtype=GRB.BINARY, name=""y"")         # 1 if student i works on day d

# Objective: Minimize total wage cost
m.setObjective(gp.quicksum(wage[i] * x[i, d] for i in students for d in days), GRB.MINIMIZE)

# Constraint: Each day, total scheduled hours = 14 (one student on duty at all times)
for d in days:
    m.addConstr(gp.quicksum(x[i, d] for i in students) == lab_hours_per_day, name=f""cover_day_{d}"")

# Constraint: Each student cannot work more than their max available hours per day
for i in students:
    for d in days:
        m.addConstr(x[i, d] <= max_hours[i, d], name=f""max_hours_{i}_{d}"")

# Constraint: Each undergraduate must work at least 8 hours per week
for i in undergrads:
    m.addConstr(gp.quicksum(x[i, d] for d in days) >= 8, name=f""ug_min_week_{i}"")

# Constraint: Each graduate must work at least 7 hours per week
for i in grads:
    m.addConstr(gp.quicksum(x[i, d] for d in days) >= 7, name=f""grad_min_week_{i}"")

# Constraint: Each student can work no more than 2 shifts per week
for i in students:
    m.addConstr(gp.quicksum(y[i, d] for d in days) <= 2, name=f""max_shifts_{i}"")

# Link x and y: if x[i,d] > 0 then y[i,d]=1, else y[i,d]=0
for i in students:
    for d in days:
        m.addConstr(x[i, d] <= lab_hours_per_day * y[i, d], name=f""link_x_y_{i}_{d}"")

# Constraint: No more than 3 students scheduled for duty each day
for d in days:
    m.addConstr(gp.quicksum(y[i, d] for i in students) <= 3, name=f""max_students_per_day_{d}"")

# Solve
m.optimize()",715.7,715.7,0,
"A certain farm has 100 hectares of land and 15,000 yuan in funds for production development. The labor force situation on the farm is 3,500 person-days in autumn and winter, and 4,000 person-days in spring and summer. If the labor force itself is not fully utilized, they can work externally, earning 2.1 yuan/person-day in spring and summer and 1.8 yuan/person-day in autumn and winter.

The farm cultivates three types of crops: soybeans, corn, and wheat, and also raises dairy cows and chickens. Crop cultivation requires no specialized investment, but raising animals involves an investment of 400 yuan per dairy cow and 3 yuan per chicken. Raising dairy cows requires allocating 1.5 hectares of land per cow to grow feed, and involves 100 person-days in autumn and winter, and 50 person-days in spring and summer per cow. The annual net income is 400 yuan per dairy cow. Raising chickens does not use land, requires 0.6 person-days in autumn and winter, and 0.3 person-days in spring and summer per chicken. Annual net income is 2 yuan per chicken. The current chicken coop can accommodate up to 3,000 chickens, and the cow barn can accommodate up to 32 dairy cows. The labor and income requirements for the three types of crops per year are shown in Table 1-9.

Table 1-9
| Item           | Soybean | Corn | Wheat |
|----------------|---------|------|-------|
| Person-days (Autumn/Winter) | 20      | 35   | 10    |
| Person-days (Spring/Summer) | 50      | 75   | 40    |
| Annual Net Income (Yuan/hectare) | 175     | 300   | 120   |

Determine the farm's operating plan to maximize annual net income. Please note that Labor days are calculated in whole days, fractions are not allowed.","{'input': ""A certain farm has 100 hectares of land and 15,000 yuan in funds for production development. The labor force situation on the farm is 3,500 person-days in autumn and winter, and 4,000 person-days in spring and summer. If the labor force itself is not fully utilized, they can work externally, earning 2.1 yuan/person-day in spring and summer and 1.8 yuan/person-day in autumn and winter.\n\nThe farm cultivates three types of crops: soybeans, corn, and wheat, and also raises dairy cows and chickens. Crop cultivation requires no specialized investment, but raising animals involves an investment of 400 yuan per dairy cow and 3 yuan per chicken. Raising dairy cows requires allocating 1.5 hectares of land per cow to grow feed, and involves 100 person-days in autumn and winter, and 50 person-days in spring and summer per cow. The annual net income is 400 yuan per dairy cow. Raising chickens does not use land, requires 0.6 person-days in autumn and winter, and 0.3 person-days in spring and summer per chicken. Annual net income is 2 yuan per chicken. The current chicken coop can accommodate up to 3,000 chickens, and the cow barn can accommodate up to 32 dairy cows. The labor and income requirements for the three types of crops per year are shown in Table 1-9.\n\nTable 1-9\n| Item           | Soybean | Corn | Wheat |\n|----------------|---------|------|-------|\n| Person-days (Autumn/Winter) | 20      | 35   | 10    |\n| Person-days (Spring/Summer) | 50      | 75   | 40    |\n| Annual Net Income (Yuan/hectare) | 175     | 300   | 120   |\n\nDetermine the farm's operating plan to maximize annual net income. Please note that Labor days are calculated in whole days, fractions are not allowed."", 'output': 'Maximize\n    175x1 + 300x2 + 120x3 + 400y + 2z + 1.8L_aw_ext + 2.1L_ss_ext\n\nSubject to\n    x1 + x2 + x3 + 1.5y <= 100\n    400y + 3z <= 15000\n    20x1 + 35x2 + 10x3 + 100y + 0.6z + L_aw_ext <= 3500\n    50x1 + 75x2 + 40x3 + 50y + 0.3z + L_ss_ext <= 4000\n    y <= 32\n    z <= 3000\n    x1 >= 0, x2 >= 0, x3 >= 0\n    y, z, L_aw_ext, L_ss_ext >= 0 and integers'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Farm_Optimization"")

# Decision variables
x1 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""Soybean_hectares"")
x2 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""Corn_hectares"")
x3 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""Wheat_hectares"")
y = m.addVar(vtype=GRB.INTEGER, lb=0, ub=32, name=""Dairy_cows"")
z = m.addVar(vtype=GRB.INTEGER, lb=0, ub=3000, name=""Chickens"")
L_aw_ext = m.addVar(vtype=GRB.INTEGER, lb=0, name=""External_Labor_AW"")
L_ss_ext = m.addVar(vtype=GRB.INTEGER, lb=0, name=""External_Labor_SS"")

# Objective function
m.setObjective(
    175 * x1 + 300 * x2 + 120 * x3 + 400 * y + 2 * z + 1.8 * L_aw_ext + 2.1 * L_ss_ext,
    GRB.MAXIMIZE
)

# Constraints

# Land constraint
m.addConstr(x1 + x2 + x3 + 1.5 * y <= 100, name=""Land_constraint"")

# Investment constraint
m.addConstr(400 * y + 3 * z <= 15000, name=""Investment_constraint"")

# Labor constraint (Autumn/Winter)
m.addConstr(
    20 * x1 + 35 * x2 + 10 * x3 + 100 * y + 0.6 * z + L_aw_ext <= 3500,
    name=""Labor_AW_constraint""
)

# Labor constraint (Spring/Summer)
m.addConstr(
    50 * x1 + 75 * x2 + 40 * x3 + 50 * y + 0.3 * z + L_ss_ext <= 4000,
    name=""Labor_SS_constraint""
)

# Dairy cow barn capacity
m.addConstr(y <= 32, name=""Cow_barn_capacity"")

# Chicken coop capacity
m.addConstr(z <= 3000, name=""Chicken_coop_capacity"")

# Solve the model
m.optimize()",20240.69231,20241.61538,0,
"A factory produces two models of microcomputers, A and B. Each model requires the same two processes. The processing time, sales profit, and the factory鈥檚 maximum weekly processing capacity for each model are shown in Table 3.1.

Table 3.1

| Process | Model | | Maximum Weekly Processing Capacity |
| :---: | :---: | :---: | :---: |
| | $A$ | $B$ | |
| I (hours/unit) | 4 | 6 | 150 |
| II (hours/unit) | 3 | 2 | 70 |
| Profit (yuan/unit) | 300 | 450 | |

Given the factory's business goals:

$p_{1}$: The total weekly profit should not be less than 10,000 yuan;

$p_{2}$: Due to contract requirements, at least 10 units of model A and at least 15 units of model B must be produced each week;

$p_{3}$: The processing time for Process I should be exactly 150 hours per week, and the processing time for Process II should ideally be fully utilized, with potential for appropriate overtime;

$p_{4}$: If products are produced during overtime in Process II, the profit per unit is reduced by 20 yuan for model A and 25 yuan for model B, and the maximum overtime for Process II is 30 hours per week. Formulate the mathematical model for this problem.","{'input': ""A factory produces two models of microcomputers, A and B. Each model requires the same two processes. The processing time, sales profit, and the factory鈥檚 maximum weekly processing capacity for each model are shown in Table 3.1.\n\nTable 3.1\n\n| Process | Model | | Maximum Weekly Processing Capacity |\n| :---: | :---: | :---: | :---: |\n| | $A$ | $B$ | |\n| I (hours/unit) | 4 | 6 | 150 |\n| II (hours/unit) | 3 | 2 | 70 |\n| Profit (yuan/unit) | 300 | 450 | |\n\nGiven the factory's business goals:\n\n$p_{{1}}$: The total weekly profit should not be less than 10,000 yuan;\n\n$p_{{2}}$: Due to contract requirements, at least 10 units of model A and at least 15 units of model B must be produced each week;\n\n$p_{{3}}$: The processing time for Process I should be exactly 150 hours per week, and the processing time for Process II should ideally be fully utilized, with potential for appropriate overtime;\n\n$p_{{4}}$: If products are produced during overtime in Process II, the profit per unit is reduced by 20 yuan for model A and 25 yuan for model B, and the maximum overtime for Process II is 30 hours per week. Formulate the mathematical model for this problem."", 'output': 'Maximize\u2003Z = 300x_A + 450x_B − 20z_A − 25z_B\n\nsubject to\n\u20034x_A + 6x_B = 150\n\u20033x_A + 2x_B = 70 + y\n\u20033z_A + 2z_B = y\n\u2003x_A ≥ 10\n\u2003x_B ≥ 15\n\u2003Z ≥ 10,000\n\u20030 ≤ y ≤ 30\n\u20030 ≤ z_A ≤ x_A\n\u20030 ≤ z_B ≤ x_B\n\u2003x_A, x_B, z_A, z_B ≥ 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Microcomputer_Production"")

# Decision variables
x_A = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x_A"")    # Units of model A produced
x_B = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x_B"")    # Units of model B produced
y   = m.addVar(vtype=GRB.CONTINUOUS, lb=0, ub=30, name=""y"")   # Overtime hours in Process II (max 30)
z_A = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""z_A"")    # Units of model A produced during overtime
z_B = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""z_B"")    # Units of model B produced during overtime

# Objective function: Maximize Z = 300x_A + 450x_B − 20z_A − 25z_B
m.setObjective(300 * x_A + 450 * x_B - 20 * z_A - 25 * z_B, GRB.MAXIMIZE)

# Constraints
m.addConstr(4 * x_A + 6 * x_B == 150, name=""Process_I_capacity"")
m.addConstr(3 * x_A + 2 * x_B == 70 + y, name=""Process_II_capacity"")
m.addConstr(3 * z_A + 2 * z_B == y, name=""Overtime_allocation"")
m.addConstr(x_A >= 10, name=""Min_A"")
m.addConstr(x_B >= 15, name=""Min_B"")
m.addConstr(300 * x_A + 450 * x_B - 20 * z_A - 25 * z_B >= 10000, name=""Min_profit"")
m.addConstr(z_A <= x_A, name=""zA_leq_xA"")
m.addConstr(z_B <= x_B, name=""zB_leq_xB"")
m.addConstr(z_A >= 0, name=""zA_nonneg"")
m.addConstr(z_B >= 0, name=""zB_nonneg"")

# Solve the model
m.optimize()",11250,11250,1,
"A factory must rent warehouse space for the next 4 months. The required warehouse area (in 銕) is given in Table 1-14:

Table 1-14
| Month | 1聽 聽 | 2聽 聽 | 3聽 聽 | 4聽 聽 |
|-------|------|------|------|------|
| Required area | 1500 | 1000 | 2000 | 1200 |

The factory can sign rental contracts of different lengths, with longer contracts offering discounted rates (Table 1-15). Each contract, once chosen, must cover consecutive months starting from the beginning of the period.

Table 1-15
| Contract length (months) | 1聽 | 2聽 | 3聽 | 4聽 |
|--------------------------|----|----|----|----|
| Rental fee per 100銕 (yuan) | 4000 | 7500 | 10500 | 13000 |

Additional business rules:
1. The company may rent **multiple warehouses** in parallel, and each warehouse contract must fully cover the selected months. The available capacity of each warehouse is unlimited (i.e., any contract can cover the full required area or part of it).
2. For risk management, at least **two different contracts** (with different lengths) must be signed over the 4 months.
3. If a 4-month contract is chosen, then no 1-month contract may be chosen (mutual exclusion).
4. To simplify operations, the number of distinct warehouse contracts signed cannot exceed 3.
5. The demand for each month must be fully satisfied without shortage or excess.

**Decision variables:**
- Integer variables to represent how many contracts of each type (1, 2, 3, 4 months) are signed.
- Binary variables to encode logical conditions (e.g., exclusion between 1-month and 4-month contracts).

**Objective:** Minimize the total rental cost over the 4 months.

Formulate this as a Mixed Integer Linear Programming (MILP) model. What is the minimum total rental cost?","{'input': 'A factory must rent warehouse space for the next 4 months. The required warehouse area (in 銕) is given in Table 1-14:\n\nTable 1-14\n| Month | 1聽 聽 | 2聽 聽 | 3聽 聽 | 4聽 聽 |\n|-------|------|------|------|------|\n| Required area | 1500 | 1000 | 2000 | 1200 |\n\nThe factory can sign rental contracts of different lengths, with longer contracts offering discounted rates (Table 1-15). Each contract, once chosen, must cover consecutive months starting from the beginning of the period.\n\nTable 1-15\n| Contract length (months) | 1聽 | 2聽 | 3聽 | 4聽 |\n|--------------------------|----|----|----|----|\n| Rental fee per 100銕 (yuan) | 4000 | 7500 | 10500 | 13000 |\n\nAdditional business rules:\n1. The company may rent **multiple warehouses** in parallel, and each warehouse contract must fully cover the selected months. The available capacity of each warehouse is unlimited (i.e., any contract can cover the full required area or part of it).\n2. For risk management, at least **two different contracts** (with different lengths) must be signed over the 4 months.\n3. If a 4-month contract is chosen, then no 1-month contract may be chosen (mutual exclusion).\n4. To simplify operations, the number of distinct warehouse contracts signed cannot exceed 3.\n5. The demand for each month must be fully satisfied without shortage or excess.\n\n**Decision variables:**\n- Integer variables to represent how many contracts of each type (1, 2, 3, 4 months) are signed.\n- Binary variables to encode logical conditions (e.g., exclusion between 1-month and 4-month contracts).\n\n**Objective:** Minimize the total rental cost over the 4 months.\n\nFormulate this as a Mixed Integer Linear Programming (MILP) model. What is the minimum total rental cost?', 'output': 'Let x_{1,1}, x_{1,2}, x_{1,3}, x_{1,4} = number of 1-month contracts (units of 100銕) starting at months 1,2,3,4  \nx_{2,1}, x_{2,2}, x_{2,3} = number of 2-month contracts (units of 100銕) starting at months 1,2,3  \nx_{3,1}, x_{3,2} = number of 3-month contracts (units of 100銕) starting at months 1,2  \nx_{4,1} = number of 4-month contracts (units of 100銕) starting at month 1  \ny_1, y_2, y_3, y_4 ∈ {0,1} indicate if contract type k is used (k=1,2,3,4)\n\nMinimize 4000(x_{1,1} + x_{1,2} + x_{1,3} + x_{1,4}) + 7500(x_{2,1} + x_{2,2} + x_{2,3}) + 10500(x_{3,1} + x_{3,2}) + 13000 x_{4,1}\n\nsubject to\n  x_{1,1} + x_{2,1} + x_{3,1} + x_{4,1} = 15\n  x_{1,2} + x_{2,1} + x_{2,2} + x_{3,1} + x_{3,2} + x_{4,1} = 10\n  x_{1,3} + x_{2,2} + x_{3,1} + x_{3,2} + x_{4,1} = 20\n  x_{1,4} + x_{2,3} + x_{3,2} + x_{4,1} = 12\n  x_{1,1} + x_{1,2} + x_{1,3} + x_{1,4} ≤ M y_1\n  x_{2,1} + x_{2,2} + x_{2,3} ≤ M y_2\n  x_{3,1} + x_{3,2} ≤ M y_3\n  x_{4,1} ≤ M y_4\n  y_1 + y_2 + y_3 + y_4 ≥ 2\n  y_1 + y_2 + y_3 + y_4 ≤ 3\n  y_1 + y_4 ≤ 1\n  x_{k,m} ≥ 0, integer for all valid (k,m)\n  y_k ∈ {0,1} for k=1,2,3,4\n\nMinimum total rental cost: 208,000 yuan'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Warehouse_Rental_Optimization"")

# Decision variables: number of contracts (units of 100銕)
x_1_1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_1_1"")  # 1-month, start month 1
x_1_2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_1_2"")  # 1-month, start month 2
x_1_3 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_1_3"")  # 1-month, start month 3
x_1_4 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_1_4"")  # 1-month, start month 4

x_2_1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_2_1"")  # 2-month, start month 1
x_2_2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_2_2"")  # 2-month, start month 2
x_2_3 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_2_3"")  # 2-month, start month 3

x_3_1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_3_1"")  # 3-month, start month 1
x_3_2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_3_2"")  # 3-month, start month 2

x_4_1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_4_1"")  # 4-month, start month 1

# Binary variables: whether contract type is used
y_1 = m.addVar(vtype=GRB.BINARY, name=""y_1"")  # 1-month
y_2 = m.addVar(vtype=GRB.BINARY, name=""y_2"")  # 2-month
y_3 = m.addVar(vtype=GRB.BINARY, name=""y_3"")  # 3-month
y_4 = m.addVar(vtype=GRB.BINARY, name=""y_4"")  # 4-month

# Objective function: minimize total rental cost
m.setObjective(
    4000 * (x_1_1 + x_1_2 + x_1_3 + x_1_4) +
    7500 * (x_2_1 + x_2_2 + x_2_3) +
    10500 * (x_3_1 + x_3_2) +
    13000 * x_4_1,
    GRB.MINIMIZE
)

# Demand constraints (all units in 100銕)
# Month 1: contracts covering month 1
m.addConstr(x_1_1 + x_2_1 + x_3_1 + x_4_1 == 15, name=""month1_demand"")
# Month 2: contracts covering month 2
m.addConstr(x_1_2 + x_2_1 + x_2_2 + x_3_1 + x_3_2 + x_4_1 == 10, name=""month2_demand"")
# Month 3: contracts covering month 3
m.addConstr(x_1_3 + x_2_2 + x_3_1 + x_3_2 + x_4_1 == 20, name=""month3_demand"")
# Month 4: contracts covering month 4
m.addConstr(x_1_4 + x_2_3 + x_3_2 + x_4_1 == 12, name=""month4_demand"")

# Big-M for linking contract usage to y_k
M = 1000  # sufficiently large

m.addConstr(x_1_1 + x_1_2 + x_1_3 + x_1_4 <= M * y_1, name=""y1_link"")
m.addConstr(x_2_1 + x_2_2 + x_2_3 <= M * y_2, name=""y2_link"")
m.addConstr(x_3_1 + x_3_2 <= M * y_3, name=""y3_link"")
m.addConstr(x_4_1 <= M * y_4, name=""y4_link"")

# At least two different contract types must be used
m.addConstr(y_1 + y_2 + y_3 + y_4 >= 2, name=""at_least_two_types"")
# No more than three contract types
m.addConstr(y_1 + y_2 + y_3 + y_4 <= 3, name=""at_most_three_types"")
# Mutual exclusion: if 4-month contract is used, no 1-month contract can be used
m.addConstr(y_1 + y_4 <= 1, name=""mutual_exclusion_1_4"")

# Solve the model
m.optimize()",213000,208000,0,
"A store has formulated a purchase and sales plan for a certain product from July to December. It is known that the warehouse capacity must not exceed 500 units, with 200 units in stock at the end of June. Thereafter, purchases are made at the beginning of each month. Assume the purchase and selling prices of this product for each month are shown in Table 1-21. How much should be purchased and sold each month to maximize the total revenue?

Table 1-21
| Month | 7  | 8  | 9  | 10 | 11 | 12 |
|-------|----|----|----|----|----|----|
| Buy   | 28 | 24 | 25 | 27 | 23 | 23 |
| Sell  | 29 | 24 | 26 | 28 | 22 | 25 |","{'input': 'A store has formulated a purchase and sales plan for a certain product from July to December. It is known that the warehouse capacity must not exceed 500 units, with 200 units in stock at the end of June. Thereafter, purchases are made at the beginning of each month. Assume the purchase and selling prices of this product for each month are shown in Table 1-21. How much should be purchased and sold each month to maximize the total revenue?\n\nTable 1-21\n| Month | 7  | 8  | 9  | 10 | 11 | 12 |\n|-------|----|----|----|----|----|----|\n| Buy   | 28 | 24 | 25 | 27 | 23 | 23 |\n| Sell  | 29 | 24 | 26 | 28 | 22 | 25 |', 'output': 'Maximize Z = 29y_7 + 24y_8 + 26y_9 + 28y_{10} + 22y_{11} + 25y_{12} - 28x_7 - 24x_8 - 25x_9 - 27x_{10} - 23x_{11} - 23x_{12}\nsubject to\n    s_7 = 200 + x_7 - y_7\n    s_8 = s_7 + x_8 - y_8\n    s_9 = s_8 + x_9 - y_9\n    s_{10} = s_9 + x_{10} - y_{10}\n    s_{11} = s_{10} + x_{11} - y_{11}\n    s_{12} = s_{11} + x_{12} - y_{12}\n    0 <= s_7 <= 500\n    0 <= s_8 <= 500\n    0 <= s_9 <= 500\n    0 <= s_{10} <= 500\n    0 <= s_{11} <= 500\n    0 <= s_{12} <= 500\n    x_7, x_8, x_9, x_{10}, x_{11}, x_{12} >= 0\n    y_7, y_8, y_9, y_{10}, y_{11}, y_{12} >= 0\n    s_7, s_8, s_9, s_{10}, s_{11}, s_{12} >= 0\n    s_{12} = 0\n\n(If integer solutions are required: x_7, x_8, x_9, x_{10}, x_{11}, x_{12}, y_7, y_8, y_9, y_{10}, y_{11}, y_{12}, s_7, s_8, s_9, s_{10}, s_{11}, s_{12} ∈ Z+)'}","import gurobipy as gp
from gurobipy import GRB

# Data
months = [7, 8, 9, 10, 11, 12]
buy_price = {7: 28, 8: 24, 9: 25, 10: 27, 11: 23, 12: 23}
sell_price = {7: 29, 8: 24, 9: 26, 10: 28, 11: 22, 12: 25}
warehouse_capacity = 500
initial_stock = 200

# Create the model
m = gp.Model(""Purchase_Sales_Optimization"")

# Decision variables
x = {mth: m.addVar(vtype=GRB.INTEGER, lb=0, name=f""x_{mth}"") for mth in months}  # Purchases
y = {mth: m.addVar(vtype=GRB.INTEGER, lb=0, name=f""y_{mth}"") for mth in months}  # Sales
s = {mth: m.addVar(vtype=GRB.INTEGER, lb=0, name=f""s_{mth}"") for mth in months}  # Stock at end of month

# Objective function: Maximize total revenue
m.setObjective(
    gp.quicksum(sell_price[mth] * y[mth] - buy_price[mth] * x[mth] for mth in months),
    GRB.MAXIMIZE
)

# Stock balance constraints
m.addConstr(s[7] == initial_stock + x[7] - y[7], name=""stock_balance_7"")
for i in range(1, len(months)):
    prev = months[i-1]
    curr = months[i]
    m.addConstr(s[curr] == s[prev] + x[curr] - y[curr], name=f""stock_balance_{curr}"")

# Warehouse capacity constraints
for mth in months:
    m.addConstr(s[mth] <= warehouse_capacity, name=f""capacity_upper_{mth}"")
    m.addConstr(s[mth] >= 0, name=f""capacity_lower_{mth}"")

# End stock in December must be zero
m.addConstr(s[12] == 0, name=""end_stock_zero"")

# Solve the model
m.optimize()",,9100,0,
"The number of nurses required in each time period over 24 hours at a certain hospital is as follows: 2:00-6:00 - 10 people, 6:00-10:00 - 15 people, 10:00-14:00 - 25 people, 14:00-18:00 - 20 people, 18:00-22:00 - 18 people, 22:00-2:00 - 12 people. Nurses start shifts in 6 batches at 2:00, 6:00, 10:00, 14:00, 18:00, and 22:00 and work continuously for 8 hours. Please determine: If the hospital can hire contract nurses with the same working hours as regular nurses, and if the pay for regular nurses is 10 yuan/hour and for contract nurses is 15 yuan/hour, should the hospital hire contract nurses and if so, how many?","{'input': 'The number of nurses required in each time period over 24 hours at a certain hospital is as follows: 2:00-6:00 - 10 people, 6:00-10:00 - 15 people, 10:00-14:00 - 25 people, 14:00-18:00 - 20 people, 18:00-22:00 - 18 people, 22:00-2:00 - 12 people. Nurses start shifts in 6 batches at 2:00, 6:00, 10:00, 14:00, 18:00, and 22:00 and work continuously for 8 hours. Please determine: If the hospital can hire contract nurses with the same working hours as regular nurses, and if the pay for regular nurses is 10 yuan/hour and for contract nurses is 15 yuan/hour, should the hospital hire contract nurses and if so, how many?', 'output': 'Minimize\n    80(x1 + x2 + x3 + x4 + x5 + x6) + 120(y1 + y2 + y3 + y4 + y5 + y6)\n\nSubject to\n    x1 + y1 + x6 + y6 >= 10\n    x1 + y1 + x2 + y2 >= 15\n    x2 + y2 + x3 + y3 >= 25\n    x3 + y3 + x4 + y4 >= 20\n    x4 + y4 + x5 + y5 >= 18\n    x5 + y5 + x6 + y6 >= 12\n\n    x1, x2, x3, x4, x5, x6 ∈ Z⁺\n    y1, y2, y3, y4, y5, y6 ∈ Z⁺\n\nOptimal solution: The hospital should not hire any contract nurses (y1 = y2 = y3 = y4 = y5 = y6 = 0). All shifts should be filled by regular nurses.'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Nurse_Scheduling"")

# Decision variables: x1-x6 (regular nurses), y1-y6 (contract nurses)
x = m.addVars(6, vtype=GRB.INTEGER, lb=0, name=""x"")
y = m.addVars(6, vtype=GRB.INTEGER, lb=0, name=""y"")

# Objective function: Minimize total cost
m.setObjective(
    80 * gp.quicksum(x[i] for i in range(6)) + 120 * gp.quicksum(y[i] for i in range(6)),
    GRB.MINIMIZE
)

# Constraints for each time period
m.addConstr(x[0] + y[0] + x[5] + y[5] >= 10, name=""2-6"")
m.addConstr(x[0] + y[0] + x[1] + y[1] >= 15, name=""6-10"")
m.addConstr(x[1] + y[1] + x[2] + y[2] >= 25, name=""10-14"")
m.addConstr(x[2] + y[2] + x[3] + y[3] >= 20, name=""14-18"")
m.addConstr(x[3] + y[3] + x[4] + y[4] >= 18, name=""18-22"")
m.addConstr(x[4] + y[4] + x[5] + y[5] >= 12, name=""22-2"")

# Solve the model
m.optimize()",4240,4240,1,
"For a certain 24-hour bus service, the number of drivers and crew members required during different time periods each day is shown in Table 1-2:
Table 1-2
\begin{tabular}{|c|c|c||c|c|c|}
\hline Shift & Time & Required number & Shift & Time & Required number \\
\hline 1 & $6: 00 \sim 10: 00$ & 60 & 4 & $18 ; 00 \sim 22 ; 00$ & 50 \\
\hline 2 & $10 ; 00 \sim 14 ; 00$ & 70 & 5 & $22 ; 00 \sim 2 ; 00$ & 20 \\
\hline 3 & $14 ; 00 \sim 18 ; 00$ & 60 & 6 & $2: 00 \sim 6 ; 00$ & 30 \\
\hline
\end{tabular}

Assuming that drivers and crew members start their shifts at the beginning of each time period and work continuously for 8 hours, determine the minimum number of drivers and crew members needed for this bus route. Formulate the linear programming model for this problem.","{'input': 'For a certain 24-hour bus service, the number of drivers and crew members required during different time periods each day is shown in Table 1-2:\nTable 1-2\n\\begin{{tabular}}{{|c|c|c||c|c|c|}}\n\\hline Shift & Time & Required number & Shift & Time & Required number \\\\\n\\hline 1 & $6: 00 \\sim 10: 00$ & 60 & 4 & $18 ; 00 \\sim 22 ; 00$ & 50 \\\\\n\\hline 2 & $10 ; 00 \\sim 14 ; 00$ & 70 & 5 & $22 ; 00 \\sim 2 ; 00$ & 20 \\\\\n\\hline 3 & $14 ; 00 \\sim 18 ; 00$ & 60 & 6 & $2: 00 \\sim 6 ; 00$ & 30 \\\\\n\\hline\n\\end{{tabular}}\n\nAssuming that drivers and crew members start their shifts at the beginning of each time period and work continuously for 8 hours, determine the minimum number of drivers and crew members needed for this bus route. Formulate the linear programming model for this problem.', 'output': 'Minimize\n    x1 + x2 + x3 + x4 + x5 + x6\n\nSubject to\n    x1 + x6 >= 60\n    x1 + x2 >= 70\n    x2 + x3 >= 60\n    x3 + x4 >= 50\n    x4 + x5 >= 20\n    x5 + x6 >= 30\n\n    x1, x2, x3, x4, x5, x6 ∈ Z⁺'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Bus_Crew_Scheduling"")

# Decision variables: number of drivers/crew starting at each shift (x1 to x6)
x = m.addVars(6, vtype=GRB.INTEGER, lb=0, name=""x"")

# Objective function: Minimize total number of drivers/crew
m.setObjective(gp.quicksum(x[i] for i in range(6)), GRB.MINIMIZE)

# Constraints
m.addConstr(x[0] + x[5] >= 60, name=""shift1_requirement"")
m.addConstr(x[0] + x[1] >= 70, name=""shift2_requirement"")
m.addConstr(x[1] + x[2] >= 60, name=""shift3_requirement"")
m.addConstr(x[2] + x[3] >= 50, name=""shift4_requirement"")
m.addConstr(x[3] + x[4] >= 20, name=""shift5_requirement"")
m.addConstr(x[4] + x[5] >= 30, name=""shift6_requirement"")

# Solve the model
m.optimize()",150,150,1,
"The Zhang family has 6 children: Harry, Hermione, Ron, Fred, George, and Ginny. The cost of taking Harry is $1200, Hermione is $1650, Ron is $750, Fred is $800, George is $800, and Ginny is $1500. Which children should the couple take to minimize the total cost of taking the children? They can take up to four children on the upcoming trip.

Ginny is the youngest, so the Zhang family will definitely take her.

If the couple takes Harry, they will not take Fred because Harry does not get along with him.

If the couple takes Harry, they will not take George because Harry does not get along with him.

If they take George, they must also take Fred.

If they take George, they must also take Hermione.

Even though it will cost them a lot of money, the Zhang family has decided to take at least three children.","{'input': 'The Zhang family has 6 children: Harry, Hermione, Ron, Fred, George, and Ginny. The cost of taking Harry is $1200, Hermione is $1650, Ron is $750, Fred is $800, George is $800, and Ginny is $1500. Which children should the couple take to minimize the total cost of taking the children? They can take up to four children on the upcoming trip.\n\nGinny is the youngest, so the Zhang family will definitely take her.\n\nIf the couple takes Harry, they will not take Fred because Harry does not get along with him.\n\nIf the couple takes Harry, they will not take George because Harry does not get along with him.\n\nIf they take George, they must also take Fred.\n\nIf they take George, they must also take Hermione.\n\nEven though it will cost them a lot of money, the Zhang family has decided to take at least three children.', 'output': 'Minimize 1200x_H + 1650x_He + 750x_R + 800x_F + 800x_G + 1500x_Gi\nSubject to\nx_H + x_He + x_R + x_F + x_G + x_Gi ≤ 4\nx_Gi = 1\nx_H + x_F ≤ 1\nx_H + x_G ≤ 1\nx_G ≤ x_F\nx_G ≤ x_He\nx_H + x_He + x_R + x_F + x_G + x_Gi ≥ 3\nx_H, x_He, x_R, x_F, x_G, x_Gi ∈ {0,1}\n\nThe Zhang family should take Ginny, Ron, and Fred to minimize the total cost ($3050), while satisfying all the constraints.'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Zhang_Family_Trip"")

# Decision variables: 1 if the child is taken, 0 otherwise
x_H = m.addVar(vtype=GRB.BINARY, name=""x_H"")    # Harry
x_He = m.addVar(vtype=GRB.BINARY, name=""x_He"")  # Hermione
x_R = m.addVar(vtype=GRB.BINARY, name=""x_R"")    # Ron
x_F = m.addVar(vtype=GRB.BINARY, name=""x_F"")    # Fred
x_G = m.addVar(vtype=GRB.BINARY, name=""x_G"")    # George
x_Gi = m.addVar(vtype=GRB.BINARY, name=""x_Gi"")  # Ginny

# Objective function: Minimize total cost
m.setObjective(
    1200 * x_H + 1650 * x_He + 750 * x_R + 800 * x_F + 800 * x_G + 1500 * x_Gi,
    GRB.MINIMIZE
)

# Constraints

# At most 4 children
m.addConstr(x_H + x_He + x_R + x_F + x_G + x_Gi <= 4, name=""max_4_children"")

# Ginny is definitely taken
m.addConstr(x_Gi == 1, name=""ginny_taken"")

# If Harry is taken, Fred is not taken
m.addConstr(x_H + x_F <= 1, name=""harry_fred"")

# If Harry is taken, George is not taken
m.addConstr(x_H + x_G <= 1, name=""harry_george"")

# If George is taken, Fred must also be taken
m.addConstr(x_G <= x_F, name=""george_fred"")

# If George is taken, Hermione must also be taken
m.addConstr(x_G <= x_He, name=""george_hermione"")

# At least 3 children
m.addConstr(x_H + x_He + x_R + x_F + x_G + x_Gi >= 3, name=""min_3_children"")

# Solve the model
m.optimize()",3050,3050,1,
"Given that a certain factory plans to produce three types of products, I, II, and III, each product needs to be processed on equipment $A, B, C$ as shown in Table 2-3:

Table 2-3
| Equipment Code | I  | II | III | Effective Monthly Equipment Hours |
|----------------|----|----|-----|----------------------------------|
| A              | 8  | 2  | 10  | 300                              |
| B              | 10 | 5  | 8   | 400                              |
| C              | 2  | 13 | 10  | 420                              |
| Unit Product Profit (per thousand yuan) | 3  | 2  | 2.9 |           |

How can the equipment capacity be fully utilized to maximize production profit?","{'input': 'Given that a certain factory plans to produce three types of products, I, II, and III, each product needs to be processed on equipment $A, B, C$ as shown in Table 2-3:\n\nTable 2-3\n| Equipment Code | I  | II | III | Effective Monthly Equipment Hours |\n|----------------|----|----|-----|----------------------------------|\n| A              | 8  | 2  | 10  | 300                              |\n| B              | 10 | 5  | 8   | 400                              |\n| C              | 2  | 13 | 10  | 420                              |\n| Unit Product Profit (per thousand yuan) | 3  | 2  | 2.9 |           |\n\nHow can the equipment capacity be fully utilized to maximize production profit?', 'output': 'Maximize 3x_1 + 2x_2 + 2.9x_3\n8x_1 + 2x_2 + 10x_3 <= 300\n10x_1 + 5x_2 + 8x_3 <= 400\n2x_1 + 13x_2 + 10x_3 <= 420\nx_1 >= 0\nx_2 >= 0\nx_3 >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Factory_Production_Optimization"")

# Decision variables: x1, x2, x3 represent the production quantities of products I, II, III
x1 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x1"")  # Product I
x2 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x2"")  # Product II
x3 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x3"")  # Product III

# Objective function: Maximize profit
m.setObjective(3 * x1 + 2 * x2 + 2.9 * x3, GRB.MAXIMIZE)

# Equipment A constraint
m.addConstr(8 * x1 + 2 * x2 + 10 * x3 <= 300, name=""Equipment_A"")

# Equipment B constraint
m.addConstr(10 * x1 + 5 * x2 + 8 * x3 <= 400, name=""Equipment_B"")

# Equipment C constraint
m.addConstr(2 * x1 + 13 * x2 + 10 * x3 <= 420, name=""Equipment_C"")

# Solve the model
m.optimize()",135.2666667,135.2666667,0,
"A master's student in Operations Research at a certain university is required to select two courses in mathematics, two in operations research, and two in computer science from a total of seven courses: Calculus, Operations Research, Data Structures, Management Statistics, Computer Simulation, Computer Programming, and Forecasting. Some courses belong to only one category: Calculus falls under Mathematics, Computer Programming under Computer Science. However, some courses fall under multiple categories: Operations Research can be considered both Operations Research and Mathematics, Data Structures both Computer Science and Mathematics, Management Statistics both Mathematics and Operations Research, Computer Simulation both Computer Science and Operations Research, and Forecasting both Operations Research and Mathematics. Courses that fall under multiple categories can fulfill the requirement of both categories simultaneously. Additionally, some courses have prerequisites: Computer Simulation or Data Structures requires Computer Programming first, Management Statistics requires Calculus first, and Forecasting requires Management Statistics first. The question is: What is the minimum number of courses a master's student must take, and which specific courses, to meet the above requirements?","{'input': ""A master's student in Operations Research at a certain university is required to select two courses in mathematics, two in operations research, and two in computer science from a total of seven courses: Calculus, Operations Research, Data Structures, Management Statistics, Computer Simulation, Computer Programming, and Forecasting. Some courses belong to only one category: Calculus falls under Mathematics, Computer Programming under Computer Science. However, some courses fall under multiple categories: Operations Research can be considered both Operations Research and Mathematics, Data Structures both Computer Science and Mathematics, Management Statistics both Mathematics and Operations Research, Computer Simulation both Computer Science and Operations Research, and Forecasting both Operations Research and Mathematics. Courses that fall under multiple categories can fulfill the requirement of both categories simultaneously. Additionally, some courses have prerequisites: Computer Simulation or Data Structures requires Computer Programming first, Management Statistics requires Calculus first, and Forecasting requires Management Statistics first. The question is: What is the minimum number of courses a master's student must take, and which specific courses, to meet the above requirements?"", 'output': 'The minimum number of courses the student must take is 5:\n- Computer Programming\n- Data Structures\n- Computer Simulation\n- Operations Research\n- Calculus\n\nThis selection meets all category requirements and prerequisites.'}","import gurobipy as gp
from gurobipy import GRB

# Course indices
courses = [
    ""Calculus"",             # 0
    ""Operations Research"",  # 1
    ""Data Structures"",      # 2
    ""Management Statistics"",# 3
    ""Computer Simulation"",  # 4
    ""Computer Programming"", # 5
    ""Forecasting""           # 6
]

n = len(courses)

# Category mapping: for each course, which categories it can fulfill
# Categories: 0 = Mathematics, 1 = Operations Research, 2 = Computer Science
categories = {
    0: [0],            # Calculus: Mathematics
    1: [0,1],          # Operations Research: Mathematics, Operations Research
    2: [0,2],          # Data Structures: Mathematics, Computer Science
    3: [0,1],          # Management Statistics: Mathematics, Operations Research
    4: [1,2],          # Computer Simulation: Operations Research, Computer Science
    5: [2],            # Computer Programming: Computer Science
    6: [0,1]           # Forecasting: Mathematics, Operations Research
}

# Prerequisites: (prereq, course)
prereqs = [
    (5, 2),  # Computer Programming before Data Structures
    (5, 4),  # Computer Programming before Computer Simulation
    (0, 3),  # Calculus before Management Statistics
    (3, 6)   # Management Statistics before Forecasting
]

# Create model
m = gp.Model(""Course_Selection"")

# Decision variables: x[i] = 1 if course i is taken
x = m.addVars(n, vtype=GRB.BINARY, name=""x"")

# For each category, sum over courses that can fulfill it
# Need at least 2 courses in each category
for cat in range(3):
    m.addConstr(
        gp.quicksum(x[i] for i in range(n) if cat in categories[i]) >= 2,
        name=f""category_{cat}_min""
    )

# Prerequisite constraints
for prereq, course in prereqs:
    m.addConstr(x[course] <= x[prereq], name=f""prereq_{prereq}_{course}"")

# Objective: minimize total number of courses taken
m.setObjective(gp.quicksum(x[i] for i in range(n)), GRB.MINIMIZE)

# Solve
m.optimize()

# Print solution
if m.status == GRB.OPTIMAL:
    selected = [courses[i] for i in range(n) if x[i].X > 0.5]
    print(""Minimum number of courses:"", int(m.objVal))
    print(""Selected courses:"")
    for c in selected:
        print(""-"", c)",4,4,1,
"A trading company specializes in the wholesale business of certain grains. The company currently has a warehouse with a capacity of 5000 dan. On January 1, the company has 1000 dan of grain in stock and 20,000 yuan in funds. The estimated grain prices for the first quarter are shown in Table 1-8.

Table 1-8
| Month | Purchase Price (yuan/dan) | Selling Price (yuan/dan) |
|-------|---------------------------|--------------------------|
| 1     | 2.85                      | 3.10                     |
| 2     | 3.05                      | 3.25                     |
| 3     | 2.90                      | 2.95                     |

The purchased grains will be delivered in the same month but can only be sold in the next month, and payment is required upon delivery. The company hopes to have an inventory of 2000 dan at the end of the quarter. What purchasing and selling strategy should be adopted to maximize the total profit over the three months?","{'input': 'A trading company specializes in the wholesale business of certain grains. The company currently has a warehouse with a capacity of 5000 dan. On January 1, the company has 1000 dan of grain in stock and 20,000 yuan in funds. The estimated grain prices for the first quarter are shown in Table 1-8.\n\nTable 1-8\n| Month | Purchase Price (yuan/dan) | Selling Price (yuan/dan) |\n|-------|---------------------------|--------------------------|\n| 1     | 2.85                      | 3.10                     |\n| 2     | 3.05                      | 3.25                     |\n| 3     | 2.90                      | 2.95                     |\n\nThe purchased grains will be delivered in the same month but can only be sold in the next month, and payment is required upon delivery. The company hopes to have an inventory of 2000 dan at the end of the quarter. What purchasing and selling strategy should be adopted to maximize the total profit over the three months?', 'output': 'Maximize\u2003F₃ = F₂ − 2.90·x₃ + 2.95·y₃\n\nwhere:\n\u2003F₂ = F₁ − 3.05·x₂ + 3.25·y₂\n\u2003F₁ = 20,000 − 2.85·x₁ + 3.10·y₁\n\nSubject to:\n\u2003s₁ = 1000 + x₁ − y₁\n\u2003s₂ = s₁ + x₂ − y₂\n\u2003s₃ = s₂ + x₃ − y₃ = 2000\n\n\u2003y₁ ≤ 1000\n\u2003y₂ ≤ s₁\n\u2003y₃ ≤ s₂\n\n\u2003s₁ ≤ 5000\n\u2003s₂ ≤ 5000\n\u2003s₃ = 2000\n\n\u20032.85·x₁ ≤ 20,000\n\u20033.05·x₂ ≤ F₁\n\u20032.90·x₃ ≤ F₂\n\n\u2003x₁ ≥ 0, x₂ ≥ 0, x₃ ≥ 0\n\u2003y₁ ≥ 0, y₂ ≥ 0, y₃ ≥ 0\n\u2003s₁ ≥ 0, s₂ ≥ 0, s₃ ≥ 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Grain_Trading_Optimization"")

# Decision variables
x1 = m.addVar(lb=0, name=""x1"")  # Purchase in month 1
x2 = m.addVar(lb=0, name=""x2"")  # Purchase in month 2
x3 = m.addVar(lb=0, name=""x3"")  # Purchase in month 3

y1 = m.addVar(lb=0, name=""y1"")  # Sell in month 1
y2 = m.addVar(lb=0, name=""y2"")  # Sell in month 2
y3 = m.addVar(lb=0, name=""y3"")  # Sell in month 3

s1 = m.addVar(lb=0, name=""s1"")  # Inventory at end of month 1
s2 = m.addVar(lb=0, name=""s2"")  # Inventory at end of month 2
# s3 is fixed at 2000

F1 = m.addVar(name=""F1"")
F2 = m.addVar(name=""F2"")
F3 = m.addVar(name=""F3"")

# Objective function: Maximize F3
m.setObjective(F3, GRB.MAXIMIZE)

# Fund balance equations
m.addConstr(F1 == 20000 - 2.85 * x1 + 3.10 * y1, name=""Fund1"")
m.addConstr(F2 == F1 - 3.05 * x2 + 3.25 * y2, name=""Fund2"")
m.addConstr(F3 == F2 - 2.90 * x3 + 2.95 * y3, name=""Fund3"")

# Inventory balance equations
m.addConstr(s1 == 1000 + x1 - y1, name=""Stock1"")
m.addConstr(s2 == s1 + x2 - y2, name=""Stock2"")
m.addConstr(s2 + x3 - y3 == 2000, name=""Stock3"")  # s3 = 2000

# Sales cannot exceed available inventory
m.addConstr(y1 <= 1000, name=""Sell1_limit"")
m.addConstr(y2 <= s1, name=""Sell2_limit"")
m.addConstr(y3 <= s2, name=""Sell3_limit"")

# Warehouse capacity constraints
m.addConstr(s1 <= 5000, name=""Stock1_cap"")
m.addConstr(s2 <= 5000, name=""Stock2_cap"")

# Purchase cannot exceed available funds
m.addConstr(2.85 * x1 <= 20000, name=""Purchase1_fund"")
m.addConstr(3.05 * x2 <= F1, name=""Purchase2_fund"")
m.addConstr(2.90 * x3 <= F2, name=""Purchase3_fund"")

# Solve the model
m.optimize()",19300,-700,0,
"Assuming a paper mill receives three orders for rolls of paper, with length and width requirements as shown in Table 1.2.

Table 1.2

| Order Number | Width (meters) | Length (meters) |
| :---: | :---: | :---: |
| 1 | 0.5 | 1000 |
| 2 | 0.7 | 3000 |
| 3 | 0.9 | 2000 |

The mill produces rolls of paper with standard widths of 1 meter and 2 meters. Assuming the length of the rolls is unlimited and can be spliced to reach the required length, how should the rolls be cut to minimize the area of waste?","{'input': 'Assuming a paper mill receives three orders for rolls of paper, with length and width requirements as shown in Table 1.2.\n\nTable 1.2\n\n| Order Number | Width (meters) | Length (meters) |\n| :---: | :---: | :---: |\n| 1 | 0.5 | 1000 |\n| 2 | 0.7 | 3000 |\n| 3 | 0.9 | 2000 |\n\nThe mill produces rolls of paper with standard widths of 1 meter and 2 meters. Assuming the length of the rolls is unlimited and can be spliced to reach the required length, how should the rolls be cut to minimize the area of waste?', 'output': 'Minimize total waste area\n\nCutting plan:\n- Use 2-meter rolls for 2000 meters, cutting each into one 0.7 m strip and one 0.9 m strip per meter of length (fulfilling 2000 m of each order, waste per meter = 0.4 m, total waste = 800 m²).\n- Use 1-meter rolls for the remaining 1000 meters of 0.7 m width (waste per meter = 0.3 m, total waste = 300 m²).\n- Use 1-meter rolls for 1000 meters of 0.5 m width (waste per meter = 0.5 m, total waste = 500 m²).\n\nTotal minimum waste area = 800 + 300 + 500 = 1600 m²\n\nDecision variables are the lengths of each cutting pattern used, all nonnegative real numbers.'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Paper_Mill_Cutting"")

# Decision variables: lengths (in meters) of each cutting pattern used (all nonnegative real numbers)
# y1: length using 2m roll, cut into 0.7m + 0.9m (waste 0.4m per meter)
# y2: length using 1m roll, cut into 0.7m (waste 0.3m per meter)
# y3: length using 1m roll, cut into 0.5m (waste 0.5m per meter)

y1 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""y1"")  # 2m roll: 0.7+0.9
y2 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""y2"")  # 1m roll: 0.7
y3 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""y3"")  # 1m roll: 0.5

# Objective: Minimize total waste area
m.setObjective(0.4 * y1 + 0.3 * y2 + 0.5 * y3, GRB.MINIMIZE)

# Constraints:
# Order 1: 0.5m width, 1000m length
# Order 2: 0.7m width, 3000m length
# Order 3: 0.9m width, 2000m length

# y1 produces 0.7m of order 2 and 0.9m of order 3 per meter
# y2 produces 0.7m of order 2 per meter
# y3 produces 0.5m of order 1 per meter

# Order 1: Only y3 covers it
m.addConstr(y3 >= 1000, name=""order1_length"")

# Order 2: y1 and y2 both cover it
m.addConstr(0.7 * y1 + 0.7 * y2 >= 3000, name=""order2_length"")

# Order 3: Only y1 covers it
m.addConstr(0.9 * y1 >= 2000, name=""order3_length"")

# Solve the model
m.optimize()",2007.936508,600,0,
"Vicky and David have just bought a farm in the Yarra Valley, and they are considering using it to grow apples, pears, oranges, and lemons. The profit for growing one acre of apples is $2000, for one acre of pears is $1800, for one acre of oranges is $2200, and for one acre of lemons is $3000. To achieve maximum profit, how many acres of land should they use to grow each type of fruit? Vicky and David have just bought a farm in the Yarra Valley with a total area of 120 acres.

The land used to grow apples should be at least twice the land used to grow pears.

The land used to grow apples should be at least three times the land used to grow lemons.

The land used to grow oranges must be twice the land used to grow lemons.

Vicky and David are unwilling to grow more than two types of fruit.","{'input': 'Vicky and David have just bought a farm in the Yarra Valley, and they are considering using it to grow apples, pears, oranges, and lemons. The profit for growing one acre of apples is $2000, for one acre of pears is $1800, for one acre of oranges is $2200, and for one acre of lemons is $3000. To achieve maximum profit, how many acres of land should they use to grow each type of fruit? Vicky and David have just bought a farm in the Yarra Valley with a total area of 120 acres.\n\nThe land used to grow apples should be at least twice the land used to grow pears.\n\nThe land used to grow apples should be at least three times the land used to grow lemons.\n\nThe land used to grow oranges must be twice the land used to grow lemons.\n\nVicky and David are unwilling to grow more than two types of fruit.', 'output': 'Maximize\n    2000 * x1 + 1800 * x2 + 2200 * x3 + 3000 * x4\n\nSubject to\n    x1 + x2 + x3 + x4 <= 120\n    x1 >= 2 * x2\n    x1 >= 3 * x4\n    x3 = 2 * x4\n    At most two of x1, x2, x3, x4 can be nonzero\n    x1 >= 0, x2 >= 0, x3 >= 0, x4 >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Fruit_Farm_Optimization"")

# Decision variables: acres of apples (x1), pears (x2), oranges (x3), lemons (x4)
x1 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""apples"")
x2 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""pears"")
x3 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""oranges"")
x4 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""lemons"")

# Binary variables to indicate if a fruit is grown
y1 = m.addVar(vtype=GRB.BINARY, name=""grow_apples"")
y2 = m.addVar(vtype=GRB.BINARY, name=""grow_pears"")
y3 = m.addVar(vtype=GRB.BINARY, name=""grow_oranges"")
y4 = m.addVar(vtype=GRB.BINARY, name=""grow_lemons"")

# Objective function: maximize profit
m.setObjective(2000 * x1 + 1800 * x2 + 2200 * x3 + 3000 * x4, GRB.MAXIMIZE)

# Total land constraint
m.addConstr(x1 + x2 + x3 + x4 <= 120, name=""total_land"")

# Apples at least twice pears
m.addConstr(x1 >= 2 * x2, name=""apples_twice_pears"")

# Apples at least three times lemons
m.addConstr(x1 >= 3 * x4, name=""apples_three_lemons"")

# Oranges must be twice lemons
m.addConstr(x3 == 2 * x4, name=""oranges_twice_lemons"")

# At most two types of fruit grown
m.addConstr(y1 + y2 + y3 + y4 <= 2, name=""at_most_two_types"")

# Link x variables to y variables (big-M constraints)
M = 120
m.addConstr(x1 <= M * y1, name=""link_apples"")
m.addConstr(x2 <= M * y2, name=""link_pears"")
m.addConstr(x3 <= M * y3, name=""link_oranges"")
m.addConstr(x4 <= M * y4, name=""link_lemons"")

# Solve the model
m.optimize()",240000,240000,1,
"A candy factory uses raw materials A, B, and C to process three different brands of candies, A, B, and C. It is known that the content of A, B, and C in each brand of candy, the cost of raw materials, the monthly limit of each raw material, and the unit processing fee and selling price of the three brands of candies are shown in Table 1-7.

Table 1-7

| Item            | A               | B               | C               | Raw Material Cost (Yuan/kg) | Monthly Limit (kg) |
|:----------------|:---------------|:---------------|:---------------|:-----------------------------|:-------------------|
| A               | 鈮 60%          | 鈮 15%          |                | 2.00                        | 2000               |
| B               |                |                |                | 1.50                        | 2500               |
| C               | 鈮 20%          | 鈮 60%          | 鈮 50%          | 1.00                        | 1200               |
| Processing Fee (Yuan/kg) | 0.50         | 0.40           | 0.30           |                             |                     |
| Selling Price (Yuan/kg)   | 3.40         | 2.85           | 2.25           |                             |                     |

How many kilograms of each of the three brands of candies should the factory produce each month to maximize the profit?","{'input': 'A candy factory uses raw materials A, B, and C to process three different brands of candies, A, B, and C. It is known that the content of A, B, and C in each brand of candy, the cost of raw materials, the monthly limit of each raw material, and the unit processing fee and selling price of the three brands of candies are shown in Table 1-7.\n\nTable 1-7\n\n| Item            | A               | B               | C               | Raw Material Cost (Yuan/kg) | Monthly Limit (kg) |\n|:----------------|:---------------|:---------------|:---------------|:-----------------------------|:-------------------|\n| A               | 鈮 60%          | 鈮 15%          |                | 2.00                        | 2000               |\n| B               |                |                |                | 1.50                        | 2500               |\n| C               | 鈮 20%          | 鈮 60%          | 鈮 50%          | 1.00                        | 1200               |\n| Processing Fee (Yuan/kg) | 0.50         | 0.40           | 0.30           |                             |                     |\n| Selling Price (Yuan/kg)   | 3.40         | 2.85           | 2.25           |                             |                     |\n\nHow many kilograms of each of the three brands of candies should the factory produce each month to maximize the profit?', 'output': 'Maximize\n    1.175x1 + 0.95x2 + 0.70x3\n\nSubject to\n    0.6x1 + 0.2x2 <= 2000\n    0.25x1 + 0.6x2 + 0.5x3 <= 2500\n    0.15x1 + 0.2x2 + 0.5x3 <= 1200\n    x1 >= 0, x2 >= 0, x3 >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Candy_Production_Optimization"")

# Decision variables: x1, x2, x3 are the production quantities (kg) of candies A, B, C
x1 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""x1"")  # Candy A
x2 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""x2"")  # Candy B
x3 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""x3"")  # Candy C

# Objective function: Maximize profit
m.setObjective(1.175 * x1 + 0.95 * x2 + 0.70 * x3, GRB.MAXIMIZE)

# Constraints
m.addConstr(0.6 * x1 + 0.2 * x2 <= 2000, name=""raw_material_A_limit"")
m.addConstr(0.25 * x1 + 0.6 * x2 + 0.5 * x3 <= 2500, name=""raw_material_B_limit"")
m.addConstr(0.15 * x1 + 0.2 * x2 + 0.5 * x3 <= 1200, name=""raw_material_C_limit"")

# Solve the model
m.optimize()",5815,6160,0,
"A traveling salesman must visit 7 customers at 7 different locations, with the (symmetric) distance matrix as follows:

|  | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
| 1 | - | 86 | 49 | 57 | 31 | 69 | 50 |
| 2 |  | - | 68 | 79 | 93 | 24 | 5 |
| 3 |  |  | - | 16 | 7 | 72 | 67 |
| 4 |  |  |  | - | 90 | 69 | 1 |
| 5 |  |  |  |  | - | 86 | 59 |
| 6 |  |  |  |  |  | - | 81 |

Formulate a mathematical program to determine the visiting order starting and ending at location 1 to minimize the travel distance, and solve it using COPTPY.","{'input': 'A traveling salesman must visit 7 customers at 7 different locations, with the (symmetric) distance matrix as follows:\n\n|  | 1 | 2 | 3 | 4 | 5 | 6 | 7 |\n| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |\n| 1 | - | 86 | 49 | 57 | 31 | 69 | 50 |\n| 2 |  | - | 68 | 79 | 93 | 24 | 5 |\n| 3 |  |  | - | 16 | 7 | 72 | 67 |\n| 4 |  |  |  | - | 90 | 69 | 1 |\n| 5 |  |  |  |  | - | 86 | 59 |\n| 6 |  |  |  |  |  | - | 81 |\n\nFormulate a mathematical program to determine the visiting order starting and ending at location 1 to minimize the travel distance, and solve it using COPTPY.', 'output': 'Mathematical Formulation:\nMinimize\u2003∑_{i=1}^7 ∑_{j=1, j≠i}^7 d_{ij} x_{ij}\nsubject to\n\u2003∑_{j=1, j≠i}^7 x_{ij} = 1\u2003for all i = 1,...,7\n\u2003∑_{i=1, i≠j}^7 x_{ij} = 1\u2003for all j = 1,...,7\n\u2003u_i - u_j + 7 x_{ij} ≤ 6\u2003for all i ≠ 1, j ≠ 1, i ≠ j, i,j ∈ {2,...,7}\n\u20032 ≤ u_i ≤ 7\u2003for all i = 2,...,7\n\u2003x_{ij} ∈ {0,1}\u2003for all i ≠ j\n\u2003u_1 = 1\n\nWhere d_{ij} is the given distance matrix.\n\nCOPTPY Implementation:\n```python\nfrom coptpy import *\nimport numpy as np\n\n# Distance matrix\nd = np.array([\n    [0, 86, 49, 57, 31, 69, 50],\n    [86, 0, 68, 79, 93, 24, 5],\n    [49, 68, 0, 16, 7, 72, 67],\n    [57, 79, 16, 0, 90, 69, 1],\n    [31, 93, 7, 90, 0, 86, 59],\n    [69, 24, 72, 69, 86, 0, 81],\n    [50, 5, 67, 1, 59, 81, 0]\n])\n\nn = 7\n\nenv = Envr()\nmodel = env.createModel(""tsp"")\n\nx = {}\nfor i in range(n):\n    for j in range(n):\n        if i != j:\n            x[i, j] = model.addVar(vtype=COPT.BINARY, name=f""x_{i+1}_{j+1}"")\n\nu = {}\nfor i in range(1, n):\n    u[i] = model.addVar(lb=2, ub=n, vtype=COPT.CONTINUOUS, name=f""u_{i+1}"")\n\nmodel.setObjective(\n    sum(d[i, j] * x[i, j] for i in range(n) for j in range(n) if i != j),\n    sense=COPT.MINIMIZE\n)\n\nfor i in range(n):\n    model.addConstr(sum(x[i, j] for j in range(n) if i != j) == 1, name=f""leave_{i+1}"")\n\nfor j in range(n):\n    model.addConstr(sum(x[i, j] for i in range(n) if i != j) == 1, name=f""enter_{j+1}"")\n\nfor i in range(1, n):\n    for j in range(1, n):\n        if i != j:\n            model.addConstr(u[i] - u[j] + n * x[i, j] <= n - 1, name=f""mtz_{i+1}_{j+1}"")\n\nmodel.solve()\n\nif model.status == COPT.OPTIMAL:\n    print(""Optimal tour length:"", model.objval)\n    tour = [0]\n    current = 0\n    visited = set([0])\n    for _ in range(n-1):\n        for j in range(n):\n            if current != j and x[current, j].x > 0.5 and j not in visited:\n                tour.append(j)\n                visited.add(j)\n                current = j\n                break\n    tour.append(0)\n    print(""Tour:"", [i+1 for i in tour])\nelse:\n    print(""No optimal solution found."")\n```\nThis will yield the optimal tour and total distance.'}","import gurobipy as gp
from gurobipy import GRB
import numpy as np

# Distance matrix
d = np.array([
    [0, 86, 49, 57, 31, 69, 50],
    [86, 0, 68, 79, 93, 24, 5],
    [49, 68, 0, 16, 7, 72, 67],
    [57, 79, 16, 0, 90, 69, 1],
    [31, 93, 7, 90, 0, 86, 59],
    [69, 24, 72, 69, 86, 0, 81],
    [50, 5, 67, 1, 59, 81, 0]
])

n = 7

m = gp.Model(""TSP"")

# Decision variables: x[i,j] = 1 if path from i to j is taken
x = m.addVars(n, n, vtype=GRB.BINARY, name=""x"", lb=0, ub=1)
# MTZ variables for subtour elimination
u = m.addVars(range(1, n), vtype=GRB.CONTINUOUS, lb=2, ub=n, name=""u"")

# Objective: minimize total distance
m.setObjective(gp.quicksum(d[i, j] * x[i, j] for i in range(n) for j in range(n) if i != j), GRB.MINIMIZE)

# Each city is left exactly once
for i in range(n):
    m.addConstr(gp.quicksum(x[i, j] for j in range(n) if i != j) == 1, name=f""leave_{i+1}"")

# Each city is entered exactly once
for j in range(n):
    m.addConstr(gp.quicksum(x[i, j] for i in range(n) if i != j) == 1, name=f""enter_{j+1}"")

# MTZ subtour elimination constraints
for i in range(1, n):
    for j in range(1, n):
        if i != j:
            m.addConstr(u[i] - u[j] + n * x[i, j] <= n - 1, name=f""mtz_{i+1}_{j+1}"")

# Solve the model
m.optimize()

# Extract and print the tour if optimal
if m.status == GRB.OPTIMAL:
    print(""Optimal tour length:"", m.objVal)
    tour = [0]
    current = 0
    visited = set([0])
    for _ in range(n-1):
        for j in range(n):
            if current != j and x[current, j].x > 0.5 and j not in visited:
                tour.append(j)
                visited.add(j)
                current = j
                break
    tour.append(0)
    print(""Tour:"", [i+1 for i in tour])
else:
    print(""No optimal solution found."")",153,153,1,
"A product can be processed on any one of the four devices: A, B, C, or D. The preparation completion costs when each device is enabled, the unit production cost for the product, and the maximum processing capacity of each device are shown in Table 5-7. If 2000 units of the product need to be produced, how can the total cost be minimized? Try to establish a mathematical model.

Table 5-7
| Device | Prep Completion Cost (Yuan) | Unit Production Cost (Yuan/Unit) | Maximum Processing Capacity (Units) |
|--------|------------------------------|----------------------------------|------------------------------------|
| A      | 1000                         | 20                               | 900                                |
| B      | 920                          | 24                               | 1000                               |
| C      | 800                          | 16                               | 1200                               |
| D      | 700                          | 28                               | 1600                               |","{'input': 'A product can be processed on any one of the four devices: A, B, C, or D. The preparation completion costs when each device is enabled, the unit production cost for the product, and the maximum processing capacity of each device are shown in Table 5-7. If 2000 units of the product need to be produced, how can the total cost be minimized? Try to establish a mathematical model.\n\nTable 5-7\n| Device | Prep Completion Cost (Yuan) | Unit Production Cost (Yuan/Unit) | Maximum Processing Capacity (Units) |\n|--------|------------------------------|----------------------------------|------------------------------------|\n| A      | 1000                         | 20                               | 900                                |\n| B      | 920                          | 24                               | 1000                               |\n| C      | 800                          | 16                               | 1200                               |\n| D      | 700                          | 28                               | 1600                               |', 'output': 'Minimize 1000y_A + 920y_B + 800y_C + 700y_D + 20x_A + 24x_B + 16x_C + 28x_D\nx_A + x_B + x_C + x_D = 2000\nx_A ≤ 900y_A\nx_B ≤ 1000y_B\nx_C ≤ 1200y_C\nx_D ≤ 1600y_D\nx_A, x_B, x_C, x_D ≥ 0\ny_A, y_B, y_C, y_D ∈ {0, 1}'}","import gurobipy as gp
from gurobipy import GRB

# Data
prep_cost = {'A': 1000, 'B': 920, 'C': 800, 'D': 700}
unit_cost = {'A': 20, 'B': 24, 'C': 16, 'D': 28}
capacity = {'A': 900, 'B': 1000, 'C': 1200, 'D': 1600}
devices = ['A', 'B', 'C', 'D']
demand = 2000

# Create the model
m = gp.Model(""Device_Selection"")

# Decision variables
x = m.addVars(devices, vtype=GRB.CONTINUOUS, lb=0, name=""x"")      # Number of units produced on each device
y = m.addVars(devices, vtype=GRB.BINARY, name=""y"")                # Whether device is enabled

# Objective function
m.setObjective(
    gp.quicksum(prep_cost[d]*y[d] + unit_cost[d]*x[d] for d in devices),
    GRB.MINIMIZE
)

# Constraints
m.addConstr(gp.quicksum(x[d] for d in devices) == demand, name=""demand_constraint"")
for d in devices:
    m.addConstr(x[d] <= capacity[d]*y[d], name=f""capacity_{d}"")

# Solve the model
m.optimize()",37000,37000,1,
"The Zhang family is deciding to invest in several different restaurants. The annual revenue of Restaurant A is $15,000, Restaurant B is $40,000, Restaurant C is $30,000, and Restaurant D is $50,000. They need to decide whether to purchase each restaurant, with each restaurant being able to be purchased only once. Help them decide which restaurants to buy to maximize their annual income.
The cost of Restaurant A is 1.6 million, Restaurant B is 2.5 million, Restaurant C is 1.8 million, and Restaurant D is 3 million. The Zhang family's investment budget is 6 million.

If they purchase Restaurant D, then they cannot purchase Restaurant A.","{'input': ""The Zhang family is deciding to invest in several different restaurants. The annual revenue of Restaurant A is $15,000, Restaurant B is $40,000, Restaurant C is $30,000, and Restaurant D is $50,000. They need to decide whether to purchase each restaurant, with each restaurant being able to be purchased only once. Help them decide which restaurants to buy to maximize their annual income.\nThe cost of Restaurant A is 1.6 million, Restaurant B is 2.5 million, Restaurant C is 1.8 million, and Restaurant D is 3 million. The Zhang family's investment budget is 6 million.\n\nIf they purchase Restaurant D, then they cannot purchase Restaurant A."", 'output': 'Maximize 15000x_A + 40000x_B + 30000x_C + 50000x_D\n\nSubject to\n1.6x_A + 2.5x_B + 1.8x_C + 3x_D <= 6\nx_A + x_D <= 1\nx_A, x_B, x_C, x_D ∈ {0,1}'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Zhang_Family_Restaurant_Investment"")

# Decision variables: x_A, x_B, x_C, x_D ∈ {0,1}
x_A = m.addVar(vtype=GRB.BINARY, name=""x_A"")
x_B = m.addVar(vtype=GRB.BINARY, name=""x_B"")
x_C = m.addVar(vtype=GRB.BINARY, name=""x_C"")
x_D = m.addVar(vtype=GRB.BINARY, name=""x_D"")

# Objective function: Maximize annual income
m.setObjective(15000 * x_A + 40000 * x_B + 30000 * x_C + 50000 * x_D, GRB.MAXIMIZE)

# Budget constraint
m.addConstr(1.6 * x_A + 2.5 * x_B + 1.8 * x_C + 3 * x_D <= 6, name=""budget_constraint"")

# Mutual exclusivity constraint: If Restaurant D is purchased, cannot purchase A
m.addConstr(x_A + x_D <= 1, name=""mutual_exclusivity_constraint"")

# Solve the model
m.optimize()",90000,90000,1,
"A farmer needs to transport 1000 units of fresh produce from the farm to a nearby market. The farmer has three transportation options: a horse, a bicycle, and a handcart. Since both the bicycle and handcart are very physically demanding, the farmer wants to choose only one of these two transportation methods. The horse generates 80 units of pollution per trip, the bicycle generates 0 units of pollution, and the handcart generates 0 units of pollution. The total amount of pollution generated by all trips must not exceed 1000 units. At least 8 trips must be made using the horse. The horse, bicycle, and handcart can carry 55 units, 30 units, and 40 units of produce per trip respectively. The farmer needs to ensure that the total amount of transported produce is at least 1000 units. How should the farmer arrange the transportation to minimize the pollution?","{'input': 'A farmer needs to transport 1000 units of fresh produce from the farm to a nearby market. The farmer has three transportation options: a horse, a bicycle, and a handcart. Since both the bicycle and handcart are very physically demanding, the farmer wants to choose only one of these two transportation methods. The horse generates 80 units of pollution per trip, the bicycle generates 0 units of pollution, and the handcart generates 0 units of pollution. The total amount of pollution generated by all trips must not exceed 1000 units. At least 8 trips must be made using the horse. The horse, bicycle, and handcart can carry 55 units, 30 units, and 40 units of produce per trip respectively. The farmer needs to ensure that the total amount of transported produce is at least 1000 units. How should the farmer arrange the transportation to minimize the pollution?', 'output': 'Minimize 80x1 + 0x2 + 0x3\nSubject to\nx2 <= 1000*y2\nx3 <= 1000*y3\ny2 + y3 = 1\nx1 >= 8\n55x1 + 30x2 + 40x3 >= 1000\n80x1 <= 1000\nx1, x2, x3 ∈ Z>=0;   y2, y3 ∈ {0,1}'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Farmer_Transportation_Optimization"")

# Decision variables
x1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x1"")  # Number of horse trips
x2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x2"")  # Number of bicycle trips
x3 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x3"")  # Number of handcart trips
y2 = m.addVar(vtype=GRB.BINARY, name=""y2"")         # 1 if bicycle is chosen, 0 otherwise
y3 = m.addVar(vtype=GRB.BINARY, name=""y3"")         # 1 if handcart is chosen, 0 otherwise

# Objective function: Minimize total pollution
m.setObjective(80 * x1, GRB.MINIMIZE)

# Constraints
m.addConstr(x2 <= 1000 * y2, name=""bicycle_selection"")
m.addConstr(x3 <= 1000 * y3, name=""handcart_selection"")
m.addConstr(y2 + y3 == 1, name=""choose_one_bicycle_or_handcart"")
m.addConstr(x1 >= 8, name=""min_horse_trips"")
m.addConstr(55 * x1 + 30 * x2 + 40 * x3 >= 1000, name=""produce_requirement"")
m.addConstr(80 * x1 <= 1000, name=""pollution_limit"")

# Solve the model
m.optimize()",640,640,1,
"A company needs to decide whether to hire some of the five candidates to join their R&D team. The salary requirements for candidates F, G, H, I, and J are $12,000, $15,000, $18,000, $5,000, and $10,000 respectively. The company wants to minimize the total amount paid to candidates without exceeding the budget.

The company's budget is $40,000 and they wish to hire a maximum of 4 new employees.

The skill levels of the candidates are as follows:
Candidate F: Level 2
Candidate G: Level 3
Candidate H: Level 4
Candidate I: Level 1
Candidate J: Level 2

The company needs to ensure that the total skill level of the hired employees is at least 8.

The project management experience years of each candidate are as follows:
Candidate F: 1 year
Candidate G: 2 years
Candidate H: 2 years
Candidate I: 5 years
Candidate J: 4 years

They hope the total project management experience of the team is at least 8 years.

Due to the similar technical background of candidates G and J, the company can choose at most one of them.","{'input': ""A company needs to decide whether to hire some of the five candidates to join their R&D team. The salary requirements for candidates F, G, H, I, and J are $12,000, $15,000, $18,000, $5,000, and $10,000 respectively. The company wants to minimize the total amount paid to candidates without exceeding the budget.\n\nThe company's budget is $40,000 and they wish to hire a maximum of 4 new employees.\n\nThe skill levels of the candidates are as follows:\nCandidate F: Level 2\nCandidate G: Level 3\nCandidate H: Level 4\nCandidate I: Level 1\nCandidate J: Level 2\n\nThe company needs to ensure that the total skill level of the hired employees is at least 8.\n\nThe project management experience years of each candidate are as follows:\nCandidate F: 1 year\nCandidate G: 2 years\nCandidate H: 2 years\nCandidate I: 5 years\nCandidate J: 4 years\n\nThey hope the total project management experience of the team is at least 8 years.\n\nDue to the similar technical background of candidates G and J, the company can choose at most one of them."", 'output': 'Minimize 12000x_F + 15000x_G + 18000x_H + 5000x_I + 10000x_J\nSubject to\n12000x_F + 15000x_G + 18000x_H + 5000x_I + 10000x_J <= 40000\nx_F + x_G + x_H + x_I + x_J <= 4\n2x_F + 3x_G + 4x_H + 1x_I + 2x_J >= 8\n1x_F + 2x_G + 2x_H + 5x_I + 4x_J >= 8\nx_G + x_J <= 1\nx_F, x_G, x_H, x_I, x_J ∈ {0,1}'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Hiring_Optimization"")

# Decision variables: 1 if candidate is hired, 0 otherwise
x_F = m.addVar(vtype=GRB.BINARY, name=""x_F"")
x_G = m.addVar(vtype=GRB.BINARY, name=""x_G"")
x_H = m.addVar(vtype=GRB.BINARY, name=""x_H"")
x_I = m.addVar(vtype=GRB.BINARY, name=""x_I"")
x_J = m.addVar(vtype=GRB.BINARY, name=""x_J"")

# Objective function: Minimize total salary
m.setObjective(
    12000 * x_F + 15000 * x_G + 18000 * x_H + 5000 * x_I + 10000 * x_J,
    GRB.MINIMIZE
)

# Budget constraint
m.addConstr(
    12000 * x_F + 15000 * x_G + 18000 * x_H + 5000 * x_I + 10000 * x_J <= 40000,
    name=""budget""
)

# Maximum number of hires
m.addConstr(
    x_F + x_G + x_H + x_I + x_J <= 4,
    name=""max_hires""
)

# Minimum total skill level
m.addConstr(
    2 * x_F + 3 * x_G + 4 * x_H + 1 * x_I + 2 * x_J >= 8,
    name=""min_skill""
)

# Minimum total project management experience
m.addConstr(
    1 * x_F + 2 * x_G + 2 * x_H + 5 * x_I + 4 * x_J >= 8,
    name=""min_experience""
)

# At most one of G and J
m.addConstr(
    x_G + x_J <= 1,
    name=""G_J_exclusion""
)

# Solve the model
m.optimize()",38000,38000,1,
"A company produces two types of products: microwave ovens and water heaters, which are manufactured in both workshops A and B. It is known that apart from the purchased parts, the production of one microwave oven requires 2 hours of processing in workshop A and 1 hour of assembly in workshop B. The production of one water heater requires 1 hour of processing in workshop A and 3 hours of assembly in workshop B. After production, both products need inspection, sales, and other procedures. The inspection and sales cost for each microwave oven is 30 yuan, and for each water heater is 50 yuan. Workshop A has 250 hours of available production time per month, with each hour costing 80 yuan; workshop B has 150 hours of available production time per month, with each hour costing 20 yuan. It is estimated that an average of 80 microwave ovens and 50 water heaters can be sold per month next year. Based on these actual conditions, the company has established the following monthly plan constraints:

1. Inspection and sales costs should not exceed 5500 yuan per month;
2. At least 80 microwave ovens should be sold per month;
3. The production hours of both workshops A and B should be fully utilized;
4. Overtime in workshop A should not exceed 20 hours;
5. At least 50 water heaters should be sold per month.

Try to determine the monthly production plan for the company.","{'input': 'A company produces two types of products: microwave ovens and water heaters, which are manufactured in both workshops A and B. It is known that apart from the purchased parts, the production of one microwave oven requires 2 hours of processing in workshop A and 1 hour of assembly in workshop B. The production of one water heater requires 1 hour of processing in workshop A and 3 hours of assembly in workshop B. After production, both products need inspection, sales, and other procedures. The inspection and sales cost for each microwave oven is 30 yuan, and for each water heater is 50 yuan. Workshop A has 250 hours of available production time per month, with each hour costing 80 yuan; workshop B has 150 hours of available production time per month, with each hour costing 20 yuan. It is estimated that an average of 80 microwave ovens and 50 water heaters can be sold per month next year. Based on these actual conditions, the company has established the following monthly plan constraints:\n\n1. Inspection and sales costs should not exceed 5500 yuan per month;\n2. At least 80 microwave ovens should be sold per month;\n3. The production hours of both workshops A and B should be fully utilized;\n4. Overtime in workshop A should not exceed 20 hours;\n5. At least 50 water heaters should be sold per month.\n\nTry to determine the monthly production plan for the company.', 'output': 'Minimize 80*(2x1 + x2) + 20*(x1 + 3x2)\nSubject to\n30x1 + 50x2 <= 5500,\nx1 >= 80,\nx2 >= 50,\n2x1 + x2 = 250 + u,\nx1 + 3x2 = 150,\n0 <= u <= 20,\nx1 >= 0, x2 >= 0, u >= 0.'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Production_Plan"")

# Decision variables
x1 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""Microwave_Ovens"")   # Number of microwave ovens produced
x2 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""Water_Heaters"")     # Number of water heaters produced
u = m.addVar(vtype=GRB.CONTINUOUS, lb=0, ub=20, name=""Overtime_A"")  # Overtime hours in workshop A

# Objective function: Minimize total workshop cost
m.setObjective(80 * (2 * x1 + x2) + 20 * (x1 + 3 * x2), GRB.MINIMIZE)

# Constraints
m.addConstr(30 * x1 + 50 * x2 <= 5500, name=""Inspection_Sales_Cost"")
m.addConstr(x1 >= 80, name=""Microwave_Min_Sales"")
m.addConstr(x2 >= 50, name=""WaterHeater_Min_Sales"")
m.addConstr(2 * x1 + x2 == 250 + u, name=""WorkshopA_Full_Utilization"")
m.addConstr(x1 + 3 * x2 == 150, name=""WorkshopB_Full_Utilization"")
m.addConstr(u >= 0, name=""OvertimeA_NonNegativity"")
m.addConstr(u <= 20, name=""OvertimeA_Max"")

# Solve the model
m.optimize()",,30500,0,
"A toy company manufactures three types of tabletop golf toys, each requiring different manufacturing techniques. The high-end type requires 17 hours of manufacturing labor, 8 hours of inspection, and yields a profit of 300 yuan per unit. The mid-range type requires 10 hours of labor, 4 hours of inspection, and yields a profit of 200 yuan per unit. The low-end type requires 2 hours of labor, 2 hours of inspection, and yields a profit of 100 yuan per unit. Available labor hours are 1000, and available inspection hours are 500. Additionally, market forecasts indicate a demand of no more than 50 units for the high-end type, no more than 80 units for the mid-range type, and no more than 150 units for the low-end type. Determine the production plan for the company to maximize profit.","{'input': 'A toy company manufactures three types of tabletop golf toys, each requiring different manufacturing techniques. The high-end type requires 17 hours of manufacturing labor, 8 hours of inspection, and yields a profit of 300 yuan per unit. The mid-range type requires 10 hours of labor, 4 hours of inspection, and yields a profit of 200 yuan per unit. The low-end type requires 2 hours of labor, 2 hours of inspection, and yields a profit of 100 yuan per unit. Available labor hours are 1000, and available inspection hours are 500. Additionally, market forecasts indicate a demand of no more than 50 units for the high-end type, no more than 80 units for the mid-range type, and no more than 150 units for the low-end type. Determine the production plan for the company to maximize profit.', 'output': 'Maximize\n    300x1 + 200x2 + 100x3\n\nSubject to\n    17x1 + 10x2 + 2x3 <= 1000\n    8x1 + 4x2 + 2x3 <= 500\n    x1 <= 50\n    x2 <= 80\n    x3 <= 150\n    x1 ∈ Z+, x2 ∈ Z+, x3 ∈ Z+\n\nOptimal production plan:\n    x1 = 25 (high-end toys)\n    x2 = 0 (mid-range toys)\n    x3 = 150 (low-end toys)\nMaximum profit: 22,500 yuan'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Toy_Company_Production"")

# Decision variables: x1 (high-end), x2 (mid-range), x3 (low-end)
x1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x1"")  # High-end toys
x2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x2"")  # Mid-range toys
x3 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x3"")  # Low-end toys

# Objective function: Maximize profit
m.setObjective(300 * x1 + 200 * x2 + 100 * x3, GRB.MAXIMIZE)

# Constraints
m.addConstr(17 * x1 + 10 * x2 + 2 * x3 <= 1000, name=""labor_hours"")
m.addConstr(8 * x1 + 4 * x2 + 2 * x3 <= 500, name=""inspection_hours"")
m.addConstr(x1 <= 50, name=""high_end_demand"")
m.addConstr(x2 <= 80, name=""mid_range_demand"")
m.addConstr(x3 <= 150, name=""low_end_demand"")

# Solve the model
m.optimize()",25000,25000,1,
"The market demand for products I and II is as follows: Product I requires 10,000 units per month from January to April, 30,000 units per month from May to September, and 100,000 units per month from October to December. Product II requires 15,000 units per month from March to September and 50,000 units per month during other months. The cost of producing these two products at a certain factory is as follows: Product I costs 5 yuan per unit to produce from January to May, and 4.50 yuan per unit from June to December; Product II costs 8 yuan per unit to produce from January to May, and 7 yuan per unit from June to December. The factory's combined production capacity for both products should not exceed 120,000 units per month. Product I has a volume of 0.2 cubic meters per unit, Product II has a volume of 0.4 cubic meters per unit, and the factory's warehouse capacity is 15,000 cubic meters. If the factory's warehouse space is insufficient, external warehouse space can be rented. Using the factory鈥檚 own warehouse costs 1 yuan per cubic meter per month, while renting an external warehouse increases this cost to 1.5 yuan per cubic meter per month. Given that the initial inventory of both products at the beginning of July is zero, how should production be scheduled from July to December to minimize the total production and inventory costs while meeting market demand?","{'input': ""The market demand for products I and II is as follows: Product I requires 10,000 units per month from January to April, 30,000 units per month from May to September, and 100,000 units per month from October to December. Product II requires 15,000 units per month from March to September and 50,000 units per month during other months. The cost of producing these two products at a certain factory is as follows: Product I costs 5 yuan per unit to produce from January to May, and 4.50 yuan per unit from June to December; Product II costs 8 yuan per unit to produce from January to May, and 7 yuan per unit from June to December. The factory's combined production capacity for both products should not exceed 120,000 units per month. Product I has a volume of 0.2 cubic meters per unit, Product II has a volume of 0.4 cubic meters per unit, and the factory's warehouse capacity is 15,000 cubic meters. If the factory's warehouse space is insufficient, external warehouse space can be rented. Using the factory鈥檚 own warehouse costs 1 yuan per cubic meter per month, while renting an external warehouse increases this cost to 1.5 yuan per cubic meter per month. Given that the initial inventory of both products at the beginning of July is zero, how should production be scheduled from July to December to minimize the total production and inventory costs while meeting market demand?"", 'output': 'Minimize\u2003Z = ∑_{t=7}^{12} [4.5 x_{1t} + 7 x_{2t} + 1 y_t + 1.5 z_t]\n\nSubject to, for t = 7,8,9,10,11,12:\n\u2003s_{1, t-1} + x_{1t} - D_{1t} = s_{1t}\n\u2003s_{2, t-1} + x_{2t} - D_{2t} = s_{2t}\n\u2003x_{1t} + x_{2t} ≤ 120,000\n\u20030.2 s_{1t} + 0.4 s_{2t} = y_t + z_t\n\u2003y_t ≤ 15,000\n\u2003x_{1t} ≥ 0,\u2003x_{2t} ≥ 0,\u2003s_{1t} ≥ 0,\u2003s_{2t} ≥ 0,\u2003y_t ≥ 0,\u2003z_t ≥ 0\n\u2003s_{1,6} = 0,\u2003s_{2,6} = 0\n\nWhere D_{1t}, D_{2t} are the monthly demands:\n\u2003D_{1,7} = 30,000,\u2003D_{1,8} = 30,000,\u2003D_{1,9} = 30,000,\u2003D_{1,10} = 100,000,\u2003D_{1,11} = 100,000,\u2003D_{1,12} = 100,000\n\u2003D_{2,7} = 15,000,\u2003D_{2,8} = 15,000,\u2003D_{2,9} = 15,000,\u2003D_{2,10} = 50,000,\u2003D_{2,11} = 50,000,\u2003D_{2,12} = 50,000'}","import gurobipy as gp
from gurobipy import GRB

# Sets
months = [7, 8, 9, 10, 11, 12]

# Demand data
D1 = {7: 30000, 8: 30000, 9: 30000, 10: 100000, 11: 100000, 12: 100000}
D2 = {7: 15000, 8: 15000, 9: 15000, 10: 50000, 11: 50000, 12: 50000}

# Production costs
c1 = 4.5  # Product I, July-Dec
c2 = 7    # Product II, July-Dec

# Warehouse costs
own_cost = 1.0
rent_cost = 1.5
own_capacity = 15000  # cubic meters

# Volumes
v1 = 0.2
v2 = 0.4

# Production capacity
prod_cap = 120000

# Create model
m = gp.Model(""Production_Scheduling"")

# Decision variables
x1 = m.addVars(months, lb=0, name=""x1"")  # Production of product I
x2 = m.addVars(months, lb=0, name=""x2"")  # Production of product II
s1 = m.addVars([6] + months, lb=0, name=""s1"")  # Inventory of product I (include t=6 for initial)
s2 = m.addVars([6] + months, lb=0, name=""s2"")  # Inventory of product II (include t=6 for initial)
y = m.addVars(months, lb=0, name=""y"")    # Own warehouse usage (cubic meters)
z = m.addVars(months, lb=0, name=""z"")    # Rented warehouse usage (cubic meters)

# Initial inventory at end of June (t=6) is zero
m.addConstr(s1[6] == 0, name=""init_s1"")
m.addConstr(s2[6] == 0, name=""init_s2"")

# Inventory balance constraints
for t in months:
    m.addConstr(s1[t-1] + x1[t] - D1[t] == s1[t], name=f""inv_bal_s1_{t}"")
    m.addConstr(s2[t-1] + x2[t] - D2[t] == s2[t], name=f""inv_bal_s2_{t}"")

# Production capacity constraints
for t in months:
    m.addConstr(x1[t] + x2[t] <= prod_cap, name=f""prod_cap_{t}"")

# Warehouse space constraints
for t in months:
    m.addConstr(v1 * s1[t] + v2 * s2[t] == y[t] + z[t], name=f""warehouse_balance_{t}"")
    m.addConstr(y[t] <= own_capacity, name=f""own_capacity_{t}"")

# Objective function: Minimize total cost
m.setObjective(
    gp.quicksum(
        c1 * x1[t] + c2 * x2[t] + own_cost * y[t] + rent_cost * z[t]
        for t in months
    ),
    GRB.MINIMIZE
)

# Solve the model
m.optimize()",3160500,3160500,1,
"There are two coal yards A and B, each receiving no less than 80 tons and 100 tons of coal per month, respectively. They are responsible for supplying coal to three residential areas, which need 55 tons, 75 tons, and 50 tons of coal per month, respectively. Coal yard A is located 10 kilometers, 5 kilometers, and 6 kilometers from these three residential areas. Coal yard B is located 4 kilometers, 8 kilometers, and 15 kilometers from these three residential areas. How should these two coal yards distribute coal to the three residential areas to minimize the ton-kilometers of transportation?","{'input': 'There are two coal yards A and B, each receiving no less than 80 tons and 100 tons of coal per month, respectively. They are responsible for supplying coal to three residential areas, which need 55 tons, 75 tons, and 50 tons of coal per month, respectively. Coal yard A is located 10 kilometers, 5 kilometers, and 6 kilometers from these three residential areas. Coal yard B is located 4 kilometers, 8 kilometers, and 15 kilometers from these three residential areas. How should these two coal yards distribute coal to the three residential areas to minimize the ton-kilometers of transportation?', 'output': 'Minimize 10x_{A1} + 5x_{A2} + 6x_{A3} + 4x_{B1} + 8x_{B2} + 15x_{B3}\nsubject to\n    x_{A1} + x_{B1} = 55\n    x_{A2} + x_{B2} = 75\n    x_{A3} + x_{B3} = 50\n    x_{A1} + x_{A2} + x_{A3} = 80\n    x_{B1} + x_{B2} + x_{B3} = 100\n    x_{A1}, x_{A2}, x_{A3}, x_{B1}, x_{B2}, x_{B3} ∈ R+'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Coal_Distribution"")

# Decision variables: x_A1, x_A2, x_A3, x_B1, x_B2, x_B3 (all >= 0)
x_A1 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""x_A1"")
x_A2 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""x_A2"")
x_A3 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""x_A3"")
x_B1 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""x_B1"")
x_B2 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""x_B2"")
x_B3 = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""x_B3"")

# Objective function: Minimize total ton-kilometers
m.setObjective(
    10 * x_A1 + 5 * x_A2 + 6 * x_A3 +
    4 * x_B1 + 8 * x_B2 + 15 * x_B3,
    GRB.MINIMIZE
)

# Constraints
m.addConstr(x_A1 + x_B1 == 55, name=""demand_area1"")
m.addConstr(x_A2 + x_B2 == 75, name=""demand_area2"")
m.addConstr(x_A3 + x_B3 == 50, name=""demand_area3"")
m.addConstr(x_A1 + x_A2 + x_A3 == 80, name=""supply_A"")
m.addConstr(x_B1 + x_B2 + x_B3 == 100, name=""supply_B"")

# Solve the model
m.optimize()",1030,1030,1,
"A steel reinforcement workshop produces a batch of steel bars (with the same diameter), consisting of 90 pieces of 3 meters in length and 60 pieces of 4 meters in length. It is known that each piece of raw steel bar used is 10 meters in length. How can the raw material be cut most efficiently? Establish a linear programming model for this problem to minimize the total waste.","{'input': 'A steel reinforcement workshop produces a batch of steel bars (with the same diameter), consisting of 90 pieces of 3 meters in length and 60 pieces of 4 meters in length. It is known that each piece of raw steel bar used is 10 meters in length. How can the raw material be cut most efficiently? Establish a linear programming model for this problem to minimize the total waste.', 'output': 'Minimize x_1 + 2x_3\nsubject to\n    3x_1 + 2x_2 >= 90\n    x_2 + 2x_3 >= 60\n    x_1, x_2, x_3 ∈ Z+'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Steel_Bar_Cutting"")

# Decision variables
x_1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_1"")
x_2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_2"")
x_3 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_3"")

# Objective function: Minimize x_1 + 2x_3
m.setObjective(x_1 + 2 * x_3, GRB.MINIMIZE)

# Constraints
m.addConstr(3 * x_1 + 2 * x_2 >= 90, name=""length_3m_requirement"")
m.addConstr(x_2 + 2 * x_3 >= 60, name=""length_4m_requirement"")

# Solve the model
m.optimize()",0,20,0,
"The famous Traveling Salesman Problem (TSP) in operations research can be described as follows: A traveling salesman departs from a certain city, visits two other cities to sell merchandise, and must visit each city exactly once before returning to the original starting city. The distances between the cities are provided in the table below.
| City |    1    |    2    |    3    |    4    |
| ---- | ------ | ------ | ------ | ------ |
| 1    | 0    | 10   | 20   | 12   |
| 2    | 10   | 0    | 5    | 10   |
| 3    | 20   | 5    | 0    | 8    |
| 4    | 15   | 12   | 8    | 0    |

What route should the salesman choose to travel in order to minimize the total distance? Try to formulate an integer programming model for this problem.","{'input': 'The famous Traveling Salesman Problem (TSP) in operations research can be described as follows: A traveling salesman departs from a certain city, visits two other cities to sell merchandise, and must visit each city exactly once before returning to the original starting city. The distances between the cities are provided in the table below.\n| City |    1    |    2    |    3    |    4    |\n| ---- | ------ | ------ | ------ | ------ |\n| 1    | 0    | 10   | 20   | 12   |\n| 2    | 10   | 0    | 5    | 10   |\n| 3    | 20   | 5    | 0    | 8    |\n| 4    | 15   | 12   | 8    | 0    |\n\nWhat route should the salesman choose to travel in order to minimize the total distance? Try to formulate an integer programming model for this problem.', 'output': 'Let x_ij = 1 if the salesman travels directly from city i to city j, 0 otherwise, for i, j = 1,2,3,4, i ≠ j.\n\nMinimize\n10x_12 + 20x_13 + 12x_14 + 10x_21 + 5x_23 + 10x_24 + 20x_31 + 5x_32 + 8x_34 + 15x_41 + 12x_42 + 8x_43\n\nsubject to\nx_12 + x_13 + x_14 = 1\nx_21 + x_23 + x_24 = 1\nx_31 + x_32 + x_34 = 1\nx_41 + x_42 + x_43 = 1\n\nx_21 + x_31 + x_41 = 1\nx_12 + x_32 + x_42 = 1\nx_13 + x_23 + x_43 = 1\nx_14 + x_24 + x_34 = 1\n\nu_2 - u_3 + 4x_23 ≤ 3\nu_2 - u_4 + 4x_24 ≤ 3\nu_3 - u_2 + 4x_32 ≤ 3\nu_3 - u_4 + 4x_34 ≤ 3\nu_4 - u_2 + 4x_42 ≤ 3\nu_4 - u_3 + 4x_43 ≤ 3\n\nx_ij ∈ {0,1} for i ≠ j, i,j = 1,2,3,4\nu_1 = 0, u_i ∈ R for i = 2,3,4\n\nThe optimal route is: 1 → 4 → 3 → 2 → 1 (Total distance = 35)'}","import gurobipy as gp
from gurobipy import GRB
import numpy as np

# Distance matrix
dist = np.array([
    [0, 10, 20, 12],
    [10, 0, 5, 10],
    [20, 5, 0, 8],
    [15, 12, 8, 0]
])

n = 4
cities = range(n)

# Create model
m = gp.Model(""TSP"")

# Decision variables: x[i,j] = 1 if path from i to j is used
x = m.addVars(n, n, vtype=GRB.BINARY, name=""x"")

# MTZ variables for subtour elimination
u = m.addVars(n, vtype=GRB.CONTINUOUS, name=""u"")

# Objective function
m.setObjective(gp.quicksum(dist[i, j] * x[i, j] for i in cities for j in cities if i != j), GRB.MINIMIZE)

# Each city has exactly one outgoing edge
for i in cities:
    m.addConstr(gp.quicksum(x[i, j] for j in cities if j != i) == 1, name=f""out_{i}"")

# Each city has exactly one incoming edge
for j in cities:
    m.addConstr(gp.quicksum(x[i, j] for i in cities if i != j) == 1, name=f""in_{j}"")

# MTZ subtour elimination constraints
for i in cities:
    if i == 0:
        m.addConstr(u[i] == 0, name=""u_0"")
    else:
        m.addConstr(u[i] >= 0, name=f""u_lb_{i}"")
        m.addConstr(u[i] <= n - 1, name=f""u_ub_{i}"")

for i in cities:
    for j in cities:
        if i != j and i != 0 and j != 0:
            m.addConstr(u[i] - u[j] + n * x[i, j] <= n - 1, name=f""mtz_{i}_{j}"")

# No self-loops
for i in cities:
    m.addConstr(x[i, i] == 0, name=f""no_self_{i}"")

# Solve the model
m.optimize()",35,35,1,
"Consider assigning $n=2$ factories to $n$ locations. The transportation volume between factory $i$ and factory $j$ is $d_{ij}$, and the unit transportation cost from location $p$ to location $q$ is $c_{pq}$. The specific values are shown in the following table: Table 1.1

|        | Transportation volume to Location 1 | Transportation volume to Location 2 | Transportation cost to Location 1 | Transportation cost to Location 2 |
| :----: | :---------------------------------: | :---------------------------------: | :-------------------------------: | :-------------------------------: |
| Factory 1 | 10 | 20 | 5 | 8 |
| Factory 2 | 30 | 40 | 6 | 7 |

In order to minimize the total transportation cost, formulate this problem as an integer model.","{'input': 'Consider assigning $n=2$ factories to $n$ locations. The transportation volume between factory $i$ and factory $j$ is $d_{{ij}}$, and the unit transportation cost from location $p$ to location $q$ is $c_{{pq}}$. The specific values are shown in the following table: Table 1.1\n\n|        | Transportation volume to Location 1 | Transportation volume to Location 2 | Transportation cost to Location 1 | Transportation cost to Location 2 |\n| :----: | :---------------------------------: | :---------------------------------: | :-------------------------------: | :-------------------------------: |\n| Factory 1 | 10 | 20 | 5 | 8 |\n| Factory 2 | 30 | 40 | 6 | 7 |\n\nIn order to minimize the total transportation cost, formulate this problem as an integer model.', 'output': 'Minimize\u2003Z = ∑_{i=1}^2 ∑_{j=1}^2 ∑_{p=1}^2 ∑_{q=1}^2 d_{ij} · c_{pq} · x_{ip} · x_{jq}\n\nsubject to\n\u2003∑_{p=1}^2 x_{ip} = 1\u2003\u2003(i = 1, 2)\n\u2003∑_{i=1}^2 x_{ip} = 1\u2003\u2003(p = 1, 2)\n\u2003x_{ip} ∈ {0,1}\u2003\u2003(i = 1, 2; p = 1, 2)'}","import gurobipy as gp
from gurobipy import GRB
import numpy as np

# Data
n = 2
d = np.array([
    [0, 10],
    [30, 0]
])
c = np.array([
    [0, 5],
    [6, 0]
])
# The transportation volume between factory i and factory j is d_{ij}
# The unit transportation cost from location p to location q is c_{pq}
# The table gives d_{ij} and c_{pq} for i,j,p,q in {1,2}
# We need to minimize sum_{i,j,p,q} d_{ij} * c_{pq} * x_{ip} * x_{jq}
# x_{ip} = 1 if factory i assigned to location p

# Create the model
m = gp.Model(""Factory_Location_Assignment"")

# Decision variables: x[i,p] = 1 if factory i assigned to location p
x = m.addVars(n, n, vtype=GRB.BINARY, name=""x"")

# Objective function
obj = gp.quicksum(
    d[i, j] * c[p, q] * x[i, p] * x[j, q]
    for i in range(n) for j in range(n)
    for p in range(n) for q in range(n)
)
m.setObjective(obj, GRB.MINIMIZE)

# Each factory assigned to exactly one location
for i in range(n):
    m.addConstr(gp.quicksum(x[i, p] for p in range(n)) == 1, name=f""factory_{i}_assignment"")

# Each location assigned to exactly one factory
for p in range(n):
    m.addConstr(gp.quicksum(x[i, p] for i in range(n)) == 1, name=f""location_{p}_assignment"")

# Solve the model
m.optimize()",210,330,0,
"The Li family plans to invest their retirement fund in commercial real estate. The annual income from Property 1 is $12,500, Property 2 is $35,000, Property 3 is $23,000, and Property 4 is $100,000. The decision to be made is whether to buy each property or not, rather than how many to buy, as there is only one of each property available. Help them decide which properties to purchase to maximize their annual income.

The cost of Property 1 is $1.5 million, Property 2 is $2.1 million, Property 3 is $2.3 million, and Property 4 is $4.2 million. The Li family's budget is $7 million.

If they purchase Property 4, they cannot purchase Property 3.","{'input': ""The Li family plans to invest their retirement fund in commercial real estate. The annual income from Property 1 is $12,500, Property 2 is $35,000, Property 3 is $23,000, and Property 4 is $100,000. The decision to be made is whether to buy each property or not, rather than how many to buy, as there is only one of each property available. Help them decide which properties to purchase to maximize their annual income.\n\nThe cost of Property 1 is $1.5 million, Property 2 is $2.1 million, Property 3 is $2.3 million, and Property 4 is $4.2 million. The Li family's budget is $7 million.\n\nIf they purchase Property 4, they cannot purchase Property 3."", 'output': 'Maximize 12,500x_1 + 35,000x_2 + 23,000x_3 + 100,000x_4\n\nSubject to:\n1,500,000x_1 + 2,100,000x_2 + 2,300,000x_3 + 4,200,000x_4 <= 7,000,000\nx_3 + x_4 <= 1\nx_1, x_2, x_3, x_4 ∈ {0, 1}\n\nOptimal solution: x_2 = 1, x_4 = 1, x_1 = 0, x_3 = 0\n\nThey should purchase Property 2 and Property 4 to maximize their annual income. Total annual income: $135,000.'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Li_Family_Real_Estate_Investment"")

# Decision variables: x1, x2, x3, x4 ∈ {0,1}
x1 = m.addVar(vtype=GRB.BINARY, name=""x1"")  # Property 1
x2 = m.addVar(vtype=GRB.BINARY, name=""x2"")  # Property 2
x3 = m.addVar(vtype=GRB.BINARY, name=""x3"")  # Property 3
x4 = m.addVar(vtype=GRB.BINARY, name=""x4"")  # Property 4

# Objective function: Maximize annual income
m.setObjective(12500 * x1 + 35000 * x2 + 23000 * x3 + 100000 * x4, GRB.MAXIMIZE)

# Budget constraint
m.addConstr(1500000 * x1 + 2100000 * x2 + 2300000 * x3 + 4200000 * x4 <= 7000000, name=""budget_constraint"")

# Mutual exclusivity constraint: If Property 4 is purchased, Property 3 cannot be purchased
m.addConstr(x3 + x4 <= 1, name=""mutual_exclusivity_constraint"")

# Solve the model
m.optimize()",135000,135000,1,
"The Li family has 5 children: Alice, Bob, Charlie, Diana, and Ella. The cost to take Alice is $1000, Bob is $900, Charlie is $600, Diana is $500, and Ella is $700. Which children should the couple take to minimize the total cost of taking the children?

They can take up to 3 children on the upcoming trip.

Bob is the youngest, so the Li family will definitely take him.

If the couple takes Alice, they will not take Diana because Alice does not get along with her.

If the couple takes Bob, they will not take Charlie because Bob does not get along with him.

If they take Charlie, they must also take Diana.

If they take Diana, they must also take Ella.

Despite the cost, the Li family has decided to take at least two children.","{'input': 'The Li family has 5 children: Alice, Bob, Charlie, Diana, and Ella. The cost to take Alice is $1000, Bob is $900, Charlie is $600, Diana is $500, and Ella is $700. Which children should the couple take to minimize the total cost of taking the children?\n\nThey can take up to 3 children on the upcoming trip.\n\nBob is the youngest, so the Li family will definitely take him.\n\nIf the couple takes Alice, they will not take Diana because Alice does not get along with her.\n\nIf the couple takes Bob, they will not take Charlie because Bob does not get along with him.\n\nIf they take Charlie, they must also take Diana.\n\nIf they take Diana, they must also take Ella.\n\nDespite the cost, the Li family has decided to take at least two children.', 'output': 'Minimize\n    1000 * x_A + 900 * x_B + 600 * x_C + 500 * x_D + 700 * x_E\n\nSubject to\n    x_A + x_B + x_C + x_D + x_E <= 3\n    x_A + x_B + x_C + x_D + x_E >= 2\n    x_B = 1\n    x_A + x_D <= 1\n    x_B + x_C <= 1\n    x_C <= x_D\n    x_D <= x_E\n    x_A, x_B, x_C, x_D, x_E ∈ {0,1}'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Li_Family_Trip"")

# Decision variables: 1 if the child is taken, 0 otherwise
x_A = m.addVar(vtype=GRB.BINARY, name=""x_A"")  # Alice
x_B = m.addVar(vtype=GRB.BINARY, name=""x_B"")  # Bob
x_C = m.addVar(vtype=GRB.BINARY, name=""x_C"")  # Charlie
x_D = m.addVar(vtype=GRB.BINARY, name=""x_D"")  # Diana
x_E = m.addVar(vtype=GRB.BINARY, name=""x_E"")  # Ella

# Objective function: Minimize total cost
m.setObjective(1000 * x_A + 900 * x_B + 600 * x_C + 500 * x_D + 700 * x_E, GRB.MINIMIZE)

# Constraints

# Can take up to 3 children
m.addConstr(x_A + x_B + x_C + x_D + x_E <= 3, name=""max_3_children"")

# Must take at least 2 children
m.addConstr(x_A + x_B + x_C + x_D + x_E >= 2, name=""min_2_children"")

# Bob is definitely taken
m.addConstr(x_B == 1, name=""bob_taken"")

# If Alice is taken, Diana is not (and vice versa)
m.addConstr(x_A + x_D <= 1, name=""alice_diana_conflict"")

# If Bob is taken, Charlie is not (Bob is always taken, so Charlie cannot be taken)
m.addConstr(x_B + x_C <= 1, name=""bob_charlie_conflict"")

# If Charlie is taken, Diana must also be taken
m.addConstr(x_C <= x_D, name=""charlie_diana_dependency"")

# If Diana is taken, Ella must also be taken
m.addConstr(x_D <= x_E, name=""diana_ella_dependency"")

# Solve the model
m.optimize()",1600,1600,1,
"A project includes the following 7 activities, with their durations (in days) as follows: $A(4), B(3), C(5), D(2), E(10), F(10), G(1)$. The precedence relationships are also given as: $A \rightarrow G, D ; E, G \rightarrow F; D, F \rightarrow C ; F \rightarrow B$. The cost of work per day is 1000 Euros; additionally, a special machine must be rented from the start of activity $A$ to the end of activity $B$, costing 5000 Euros per day. Formulate this as a linear programming problem and solve it.","{'input': 'A project includes the following 7 activities, with their durations (in days) as follows: $A(4), B(3), C(5), D(2), E(10), F(10), G(1)$. The precedence relationships are also given as: $A \\rightarrow G, D ; E, G \\rightarrow F; D, F \\rightarrow C ; F \\rightarrow B$. The cost of work per day is 1000 Euros; additionally, a special machine must be rented from the start of activity $A$ to the end of activity $B$, costing 5000 Euros per day. Formulate this as a linear programming problem and solve it.', 'output': 'Variables: S_A, S_B, S_C, S_D, S_E, S_F, S_G, T ≥ 0\n\nObjective:\nMinimize\u2003Z = 1000T + 5000(S_B + 3 − S_A)\n\nSubject to:\n\u2003S_A = 0\n\u2003S_E = 0\n\u2003S_G ≥ S_A + 4\n\u2003S_D ≥ S_A + 4\n\u2003S_F ≥ S_E + 10\n\u2003S_F ≥ S_G + 1\n\u2003S_C ≥ S_D + 2\n\u2003S_C ≥ S_F + 10\n\u2003S_B ≥ S_F + 10\n\u2003T ≥ S_B + 3\n\u2003T ≥ S_C + 5\n\u2003S_A, S_B, S_C, S_D, S_E, S_F, S_G, T ≥ 0\n\nOptimal solution:\nS_A = 0\nS_E = 0\nS_G = 4\nS_D = 4\nS_F = 10\nS_C = 20\nS_B = 20\nT = 25\n\nMinimum total cost: 140,000 Euros'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Project_Scheduling"")

# Decision variables: Start times for each activity and project completion time
S_A = m.addVar(lb=0, name=""S_A"")
S_B = m.addVar(lb=0, name=""S_B"")
S_C = m.addVar(lb=0, name=""S_C"")
S_D = m.addVar(lb=0, name=""S_D"")
S_E = m.addVar(lb=0, name=""S_E"")
S_F = m.addVar(lb=0, name=""S_F"")
S_G = m.addVar(lb=0, name=""S_G"")
T   = m.addVar(lb=0, name=""T"")

# Objective function: Minimize total cost
m.setObjective(1000 * T + 5000 * (S_B + 3 - S_A), GRB.MINIMIZE)

# Constraints
m.addConstr(S_A == 0, name=""Start_A"")
m.addConstr(S_E == 0, name=""Start_E"")
m.addConstr(S_G >= S_A + 4, name=""A_to_G"")
m.addConstr(S_D >= S_A + 4, name=""A_to_D"")
m.addConstr(S_F >= S_E + 10, name=""E_to_F"")
m.addConstr(S_F >= S_G + 1, name=""G_to_F"")
m.addConstr(S_C >= S_D + 2, name=""D_to_C"")
m.addConstr(S_C >= S_F + 10, name=""F_to_C"")
m.addConstr(S_B >= S_F + 10, name=""F_to_B"")
m.addConstr(T >= S_B + 3, name=""B_finish"")
m.addConstr(T >= S_C + 5, name=""C_finish"")

# Solve the model
m.optimize()",140000,115000,0,
"There are $\mathrm{A}$ and $\mathrm{B}$ two products, both requiring two successive chemical reaction processes. Each unit of product $\mathrm{A}$ needs 2 hours for the first process and 3 hours for the second process. Each unit of product $\mathrm{B}$ needs 3 hours for the first process and 4 hours for the second process. Available time for the first process is 16 hours, and available time for the second process is 24 hours.

For each unit of product $\mathrm{B}$ produced, 2 units of by-product $\mathrm{C}$ are generated simultaneously, requiring no additional cost. By-product $\mathrm{C}$ can be sold up to 5 units, and the rest must be disposed of at a cost of 2 yuan per unit.

Each unit of product $\mathrm{A}$ sold yields a profit of 4 yuan, each unit of product $\mathrm{B}$ yields a profit of 10 yuan, and each unit of by-product $\mathrm{C}$ sold yields a profit of 3 yuan.

In order to maximize total profit, establish the linear programming model for this problem.","{'input': 'There are $\\mathrm{{A}}$ and $\\mathrm{{B}}$ two products, both requiring two successive chemical reaction processes. Each unit of product $\\mathrm{{A}}$ needs 2 hours for the first process and 3 hours for the second process. Each unit of product $\\mathrm{{B}}$ needs 3 hours for the first process and 4 hours for the second process. Available time for the first process is 16 hours, and available time for the second process is 24 hours.\n\nFor each unit of product $\\mathrm{{B}}$ produced, 2 units of by-product $\\mathrm{{C}}$ are generated simultaneously, requiring no additional cost. By-product $\\mathrm{{C}}$ can be sold up to 5 units, and the rest must be disposed of at a cost of 2 yuan per unit.\n\nEach unit of product $\\mathrm{{A}}$ sold yields a profit of 4 yuan, each unit of product $\\mathrm{{B}}$ yields a profit of 10 yuan, and each unit of by-product $\\mathrm{{C}}$ sold yields a profit of 3 yuan.\n\nIn order to maximize total profit, establish the linear programming model for this problem.', 'output': 'Maximize\u20034x_A + 10x_B + 3x_C − 2x_D\n\nSubject to:\n\u20032x_A + 3x_B ≤ 16\n\u20033x_A + 4x_B ≤ 24\n\u2003x_C + x_D = 2x_B\n\u2003x_C ≤ 5\n\u2003x_A ≥ 0,\u2003x_B ≥ 0,\u2003x_C ≥ 0,\u2003x_D ≥ 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Chemical_Production_Optimization"")

# Decision variables
x_A = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x_A"")  # Units of product A
x_B = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x_B"")  # Units of product B
x_C = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x_C"")  # Units of by-product C sold
x_D = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x_D"")  # Units of by-product C disposed

# Objective function: Maximize 4x_A + 10x_B + 3x_C - 2x_D
m.setObjective(4 * x_A + 10 * x_B + 3 * x_C - 2 * x_D, GRB.MAXIMIZE)

# Constraints
m.addConstr(2 * x_A + 3 * x_B <= 16, name=""first_process_time"")
m.addConstr(3 * x_A + 4 * x_B <= 24, name=""second_process_time"")
m.addConstr(x_C + x_D == 2 * x_B, name=""byproduct_balance"")
m.addConstr(x_C <= 5, name=""byproduct_sales_limit"")

# Solve the model
m.optimize()",57,57,1,
"A timber storage and transport company has a large warehouse for storing and transporting timber for sale. Due to seasonal price fluctuations, the company purchases timber at the beginning of each quarter, with part of it being sold within the quarter and part being stored for future sales. It is known that the maximum storage capacity of the company鈥檚 warehouse is 200,000 m鲁, and the storage cost is $(a+b u)$ yuan/m鲁, where $a=70$, $b=100$, and $u$ is the storage time (in quarters). The purchase and sale prices for each quarter and the estimated maximum sales volumes are shown in Table 1-18.

Table 1-18
| Quarter | Purchase Price (10,000 yuan/10,000 m虏) | Sale Price (10,000 yuan/10,000 m虏) | Estimated Maximum Sales Volume (10,000 m鲁) |
|---------|----------------------------------------|------------------------------------|---------------------------------------------|
| Winter  | 410                                    | 425                                | 100                                         |
| Spring  | 430                                    | 440                                | 140                                         |
| Summer  | 460                                    | 465                                | 200                                         |
| Autumn  | 450                                    | 455                                | 160                                         |

Since timber is not suitable for long-term storage, all inventory should be sold by the end of autumn. Try to establish a linear programming model for this problem to maximize the company's annual profit.","{'input': ""A timber storage and transport company has a large warehouse for storing and transporting timber for sale. Due to seasonal price fluctuations, the company purchases timber at the beginning of each quarter, with part of it being sold within the quarter and part being stored for future sales. It is known that the maximum storage capacity of the company鈥檚 warehouse is 200,000 m鲁, and the storage cost is $(a+b u)$ yuan/m鲁, where $a=70$, $b=100$, and $u$ is the storage time (in quarters). The purchase and sale prices for each quarter and the estimated maximum sales volumes are shown in Table 1-18.\n\nTable 1-18\n| Quarter | Purchase Price (10,000 yuan/10,000 m虏) | Sale Price (10,000 yuan/10,000 m虏) | Estimated Maximum Sales Volume (10,000 m鲁) |\n|---------|----------------------------------------|------------------------------------|---------------------------------------------|\n| Winter  | 410                                    | 425                                | 100                                         |\n| Spring  | 430                                    | 440                                | 140                                         |\n| Summer  | 460                                    | 465                                | 200                                         |\n| Autumn  | 450                                    | 455                                | 160                                         |\n\nSince timber is not suitable for long-term storage, all inventory should be sold by the end of autumn. Try to establish a linear programming model for this problem to maximize the company's annual profit."", 'output': 'Maximize (-55) y_{11} + (-140) y_{12} + (-215) y_{13} + (-325) y_{14}\n+ (-60) y_{22} + (-135) y_{23} + (-245) y_{24}\n+ (-65) y_{33} + (-175) y_{34}\n+ (-65) y_{44}\n\nSubject to:\n  y_{11}                        <= 100\n  y_{12} + y_{22}               <= 140\n  y_{13} + y_{23} + y_{33}      <= 200\n  y_{14} + y_{24} + y_{34} + y_{44} <= 160\n\n  y_{12} + y_{13} + y_{14}                     <= 20\n  y_{13} + y_{14} + y_{23} + y_{24}            <= 20\n  y_{14} + y_{24} + y_{34}                     <= 20\n\n  y_{ij} >= 0   for all 1 <= i <= j <= 4'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Timber_Storage_Transport"")

# Decision variables: y_{ij} is the amount of timber purchased in quarter i and sold in quarter j (in 10,000 m^3)
# 1 <= i <= j <= 4
y = {}
for i in range(1, 5):
    for j in range(i, 5):
        y[i, j] = m.addVar(lb=0, name=f""y_{i}{j}"")

# Objective coefficients for each y_{ij}
obj_coef = {
    (1,1): -55,   # Winter purchase, Winter sale
    (1,2): -140,  # Winter purchase, Spring sale
    (1,3): -215,  # Winter purchase, Summer sale
    (1,4): -325,  # Winter purchase, Autumn sale
    (2,2): -60,   # Spring purchase, Spring sale
    (2,3): -135,  # Spring purchase, Summer sale
    (2,4): -245,  # Spring purchase, Autumn sale
    (3,3): -65,   # Summer purchase, Summer sale
    (3,4): -175,  # Summer purchase, Autumn sale
    (4,4): -65    # Autumn purchase, Autumn sale
}

# Set objective function: maximize total profit (note: negative coefficients because costs > revenues)
m.setObjective(
    gp.quicksum(obj_coef[i, j] * y[i, j] for (i, j) in obj_coef),
    GRB.MAXIMIZE
)

# Sales constraints (maximum sales per quarter)
m.addConstr(y[1,1] <= 100, name=""Winter_sales"")
m.addConstr(y[1,2] + y[2,2] <= 140, name=""Spring_sales"")
m.addConstr(y[1,3] + y[2,3] + y[3,3] <= 200, name=""Summer_sales"")
m.addConstr(y[1,4] + y[2,4] + y[3,4] + y[4,4] <= 160, name=""Autumn_sales"")

# Storage capacity constraints (max 20*10,000 m^3 stored at end of each quarter except last)
m.addConstr(y[1,2] + y[1,3] + y[1,4] <= 20, name=""End_Winter_Storage"")
m.addConstr(y[1,3] + y[1,4] + y[2,3] + y[2,4] <= 20, name=""End_Spring_Storage"")
m.addConstr(y[1,4] + y[2,4] + y[3,4] <= 20, name=""End_Summer_Storage"")

# Non-negativity is handled by lb=0 in variable definition

# Solve the model
m.optimize()",0,4700,0,
"There are 10 different parts, and they can all be processed on machine \( A \), machine \( B \), or machine \( C \). The unit processing costs are shown in Table 5-6. Additionally, as long as any part is processed on the aforementioned machines, a one-time setup cost will be incurred regardless of whether one or multiple types of parts are processed, with the respective costs being \( d_A = 100 \), \( d_B = 135 \), and \( d_C = 200 \) yuan. If the requirements are:

1. One piece of each of the aforementioned 10 types of parts needs to be processed;
2. If the 1st part is processed on machine \( A \), then the 2nd part must be processed on machine \( B \) or \( C \); conversely, if the 1st part is processed on machine \( B \) or \( C \), then the 2nd part must be processed on machine \( A \);
3. Parts 3, 4, and 5 must be processed on machines A, B, and C respectively;
4. The number of parts processed on machine \( C \) should not exceed 3 types.

Try to establish an integer programming mathematical model for this problem with the objective of minimizing the total cost.

Table 5-6
| Machine/Part | 1   | 2   | 3   | 4   | 5   | 6   | 7   | 8   | 9   | 10  |
|--------------|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|
| A            | $10$ | $20$ | $30$ | $40$ | $50$ | $60$ | $70$ | $80$ | $90$ | $100$ |
| B            | $15$ | $25$ | $35$ | $45$ | $55$ | $65$ | $75$ | $85$ | $95$ | $105$ |
| C            | $20$ | $30$ | $40$ | $50$ | $60$ | $70$ | $80$ | $90$ | $100$ | $110$ |","{'input': 'There are 10 different parts, and they can all be processed on machine \\( A \\), machine \\( B \\), or machine \\( C \\). The unit processing costs are shown in Table 5-6. Additionally, as long as any part is processed on the aforementioned machines, a one-time setup cost will be incurred regardless of whether one or multiple types of parts are processed, with the respective costs being \\( d_A = 100 \\), \\( d_B = 135 \\), and \\( d_C = 200 \\) yuan. If the requirements are:\n\n1. One piece of each of the aforementioned 10 types of parts needs to be processed;\n2. If the 1st part is processed on machine \\( A \\), then the 2nd part must be processed on machine \\( B \\) or \\( C \\); conversely, if the 1st part is processed on machine \\( B \\) or \\( C \\), then the 2nd part must be processed on machine \\( A \\);\n3. Parts 3, 4, and 5 must be processed on machines A, B, and C respectively;\n4. The number of parts processed on machine \\( C \\) should not exceed 3 types.\n\nTry to establish an integer programming mathematical model for this problem with the objective of minimizing the total cost.\n\nTable 5-6\n| Machine/Part | 1   | 2   | 3   | 4   | 5   | 6   | 7   | 8   | 9   | 10  |\n|--------------|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|\n| A            | $10$ | $20$ | $30$ | $40$ | $50$ | $60$ | $70$ | $80$ | $90$ | $100$ |\n| B            | $15$ | $25$ | $35$ | $45$ | $55$ | $65$ | $75$ | $85$ | $95$ | $105$ |\n| C            | $20$ | $30$ | $40$ | $50$ | $60$ | $70$ | $80$ | $90$ | $100$ | $110$ |', 'output': 'Minimize\u2003∑_{i∈{A,B,C}} ∑_{j=1}^{10} c_{ij} x_{ij} + 100 y_A + 135 y_B + 200 y_C\nsubject to\n\u2003∑_{i∈{A,B,C}} x_{ij} = 1'}","import gurobipy as gp
from gurobipy import GRB

# Data
machines = ['A', 'B', 'C']
parts = list(range(1, 11))
cost = {
    'A': [10, 20, 30, 40, 50, 60, 70, 80, 90, 100],
    'B': [15, 25, 35, 45, 55, 65, 75, 85, 95, 105],
    'C': [20, 30, 40, 50, 60, 70, 80, 90, 100, 110]
}
setup_cost = {'A': 100, 'B': 135, 'C': 200}

# Create model
m = gp.Model(""Parts_Machine_Assignment"")

# Decision variables
x = m.addVars(machines, parts, vtype=GRB.BINARY, name=""x"")  # x[i,j]=1 if part j on machine i
y = m.addVars(machines, vtype=GRB.BINARY, name=""y"")         # y[i]=1 if machine i is used

# Objective function
m.setObjective(
    gp.quicksum(cost[i][j-1] * x[i, j] for i in machines for j in parts) +
    gp.quicksum(setup_cost[i] * y[i] for i in machines),
    GRB.MINIMIZE
)

# Each part assigned to exactly one machine
for j in parts:
    m.addConstr(gp.quicksum(x[i, j] for i in machines) == 1, name=f""assign_part_{j}"")

# Setup cost logic: if any part assigned to machine, y[i]=1
for i in machines:
    for j in parts:
        m.addConstr(x[i, j] <= y[i], name=f""setup_logic_{i}_{j}"")

# Constraint 2: 1st and 2nd part assignment dependency
# If part 1 on A, part 2 must be on B or C
m.addConstr(x['A', 1] <= x['B', 2] + x['C', 2], name=""part1A_part2notA"")
# If part 1 on B or C, part 2 must be on A
m.addConstr(x['B', 1] + x['C', 1] <= x['A', 2], name=""part1BC_part2A"")

# Constraint 3: Parts 3,4,5 must be on A,B,C respectively
m.addConstr(x['A', 3] == 1, name=""part3_on_A"")
m.addConstr(x['B', 4] == 1, name=""part4_on_B"")
m.addConstr(x['C', 5] == 1, name=""part5_on_C"")

# Constraint 4: At most 3 parts on machine C
m.addConstr(gp.quicksum(x['C', j] for j in parts) <= 3, name=""max3_on_C"")

# Solve
m.optimize()",1005,1005,1,
"A shoe store employs 5 full-time sales clerks and 4 part-time sales clerks. Their working hours and wage conditions are shown in Table 3.3.

Table 3.3

|  | Monthly Working Hours | Sales Volume (Pairs/Hour) | Wage (Yuan/Hour) | Overtime Pay (Yuan/Hour) |
| :---: | :---: | :---: | :---: | :---: |
| Full-time | 160 | 5 | 1 | 1.5 |
| Part-time | 80 | 2 | 0.6 | 0.7 |

Each pair of shoes sold earns a profit of 0.3 yuan. The store has set the following goals:

$p_{1}$: Achieve monthly sales of 5500 pairs;

$p_{2}$: Ensure full employment of all sales clerks;

$p_{3}$: Minimize overtime hours.

Try to establish a model for this problem.","{'input': 'A shoe store employs 5 full-time sales clerks and 4 part-time sales clerks. Their working hours and wage conditions are shown in Table 3.3.\n\nTable 3.3\n\n|  | Monthly Working Hours | Sales Volume (Pairs/Hour) | Wage (Yuan/Hour) | Overtime Pay (Yuan/Hour) |\n| :---: | :---: | :---: | :---: | :---: |\n| Full-time | 160 | 5 | 1 | 1.5 |\n| Part-time | 80 | 2 | 0.6 | 0.7 |\n\nEach pair of shoes sold earns a profit of 0.3 yuan. The store has set the following goals:\n\n$p_{{1}}$: Achieve monthly sales of 5500 pairs;\n\n$p_{{2}}$: Ensure full employment of all sales clerks;\n\n$p_{{3}}$: Minimize overtime hours.\n\nTry to establish a model for this problem.', 'output': 'Let x_2: total overtime hours for all full-time clerks (x_2 ≥ 0)\nLet x_4: total overtime hours for all part-time clerks (x_4 ≥ 0)\nLet d_1^-, d_1^+ ≥ 0: under- and over-achievement of sales goal\n\nMinimize\u2003P_1 d_1^- + P_2 (x_2 + x_4)'}","import gurobipy as gp
from gurobipy import GRB

# Parameters
n_full = 5
n_part = 4
full_time_hours = 160
part_time_hours = 80
full_time_sales_per_hour = 5
part_time_sales_per_hour = 2
profit_per_pair = 0.3
full_time_wage = 1
part_time_wage = 0.6
full_time_ot_pay = 1.5
part_time_ot_pay = 0.7
sales_goal = 5500

# Priority weights for goals (set P1 >> P2, e.g., P1=1000, P2=1)
P1 = 1000
P2 = 1

# Create model
m = gp.Model(""Shoe_Store_Goal_Programming"")

# Decision variables
x2 = m.addVar(lb=0, name=""x2"")  # Overtime hours for all full-time clerks
x4 = m.addVar(lb=0, name=""x4"")  # Overtime hours for all part-time clerks
d1_minus = m.addVar(lb=0, name=""d1_minus"")  # Under-achievement of sales goal
d1_plus = m.addVar(lb=0, name=""d1_plus"")    # Over-achievement of sales goal

# Objective: Minimize P1*d1_minus + P2*(x2 + x4)
m.setObjective(P1 * d1_minus + P2 * (x2 + x4), GRB.MINIMIZE)

# Constraint: Sales goal deviation
m.addConstr(
    n_full * (full_time_hours + x2 / n_full) * full_time_sales_per_hour +
    n_part * (part_time_hours + x4 / n_part) * part_time_sales_per_hour
    + d1_minus - d1_plus == sales_goal,
    name=""sales_goal""
)

# Constraint: Full employment (all clerks work their base hours)
# (Implicitly satisfied by the model structure; overtime is extra)

# Non-negativity and variable bounds are handled by variable definitions

# Solve the model
m.optimize()",172,172,1,
"A furniture factory needs to decide how many tables, chairs, and bookshelves to produce in order to maximize its profit. The factory can sell each table for $200, each chair for $50, and each bookshelf for $150. The manufacturing costs for each table, chair, and bookshelf are $120, $20, and $90 respectively. The profit is the difference between the selling price and the manufacturing cost. Each table, chair, and bookshelf occupy 5, 2, and 3 square meters of warehouse space respectively. Due to limited warehouse space, the total space cannot exceed 500 square meters. In addition, due to market demand, the factory needs to produce at least 10 tables and 20 bookshelves. Finally, the total number of items produced by the factory cannot exceed 200.","{'input': 'A furniture factory needs to decide how many tables, chairs, and bookshelves to produce in order to maximize its profit. The factory can sell each table for $200, each chair for $50, and each bookshelf for $150. The manufacturing costs for each table, chair, and bookshelf are $120, $20, and $90 respectively. The profit is the difference between the selling price and the manufacturing cost. Each table, chair, and bookshelf occupy 5, 2, and 3 square meters of warehouse space respectively. Due to limited warehouse space, the total space cannot exceed 500 square meters. In addition, due to market demand, the factory needs to produce at least 10 tables and 20 bookshelves. Finally, the total number of items produced by the factory cannot exceed 200.', 'output': 'Maximize\n    80x1 + 30x2 + 60x3\n\nSubject to\n    5x1 + 2x2 + 3x3 <= 500\n    x1 >= 10\n    x3 >= 20\n    x1 + x2 + x3 <= 200\n    x1 ∈ Z+, x2 ∈ Z+, x3 ∈ Z+'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Furniture_Production"")

# Decision variables: x1 = tables, x2 = chairs, x3 = bookshelves
x1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""tables"")
x2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""chairs"")
x3 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""bookshelves"")

# Objective function: Maximize profit
m.setObjective(80 * x1 + 30 * x2 + 60 * x3, GRB.MAXIMIZE)

# Constraints
m.addConstr(5 * x1 + 2 * x2 + 3 * x3 <= 500, name=""warehouse_space"")
m.addConstr(x1 >= 10, name=""min_tables"")
m.addConstr(x3 >= 20, name=""min_bookshelves"")
m.addConstr(x1 + x2 + x3 <= 200, name=""max_total_items"")

# Solve the model
m.optimize()",9800,9800,1,
"A company requires skilled workers and laborers for three tasks. The company must choose exactly one method to complete each task. The available methods and weekly hour requirements are:

- **Task 1 (Requires 8,400 effective hours):**
  - Method A: Completed by skilled workers alone.
  - Method B: Completed by groups of one skilled worker and two laborers. There is a fixed weekly setup cost of 500 yuan for team coordination if this method is chosen.

- **Task 2 (Requires 10,800 effective hours):**
  - Method A: Completed by skilled workers alone.
  - Method B: Completed by laborers alone.

- **Task 3 (Requires 18,000 effective hours):**
  - Method A: Completed by groups of five laborers.
  - Method B: Completed by groups of one skilled worker and three laborers.

**Wages and Hours:**
- Weekly wages: 100 yuan for skilled workers, 80 yuan for laborers.
- Effective working hours per week: 42 hours for skilled workers, 36 hours for laborers.

**Recruitment and Policy Constraints:**
1. The number of workers is limited to a maximum of 400 skilled workers and 800 laborers.
2. **Exclusion Rule:** For efficiency reasons, if Task 1 uses the mixed-group method (Method B), then Task 3 cannot use the pure laborer method (Method A).
3. **Minimum Assignment:** To ensure quality, if the mixed-group method (Method B) is chosen for Task 3, a minimum of 20 skilled workers must be assigned to it.
4. **Hiring Policy:** The total number of skilled workers hired cannot exceed 60% of the total number of laborers hired.

Establish a mathematical model to determine which method to choose for each task and how many workers of each type to hire to minimize the total weekly cost (wages + fixed costs).","{'input': 'A company requires skilled workers and laborers for three tasks. The company must choose exactly one method to complete each task. The available methods and weekly hour requirements are:\n\n- **Task 1 (Requires 8,400 effective hours):**\n  - Method A: Completed by skilled workers alone.\n  - Method B: Completed by groups of one skilled worker and two laborers. There is a fixed weekly setup cost of 500 yuan for team coordination if this method is chosen.\n\n- **Task 2 (Requires 10,800 effective hours):**\n  - Method A: Completed by skilled workers alone.\n  - Method B: Completed by laborers alone.\n\n- **Task 3 (Requires 18,000 effective hours):**\n  - Method A: Completed by groups of five laborers.\n  - Method B: Completed by groups of one skilled worker and three laborers.\n\n**Wages and Hours:**\n- Weekly wages: 100 yuan for skilled workers, 80 yuan for laborers.\n- Effective working hours per week: 42 hours for skilled workers, 36 hours for laborers.\n\n**Recruitment and Policy Constraints:**\n1. The number of workers is limited to a maximum of 400 skilled workers and 800 laborers.\n2. **Exclusion Rule:** For efficiency reasons, if Task 1 uses the mixed-group method (Method B), then Task 3 cannot use the pure laborer method (Method A).\n3. **Minimum Assignment:** To ensure quality, if the mixed-group method (Method B) is chosen for Task 3, a minimum of 20 skilled workers must be assigned to it.\n4. **Hiring Policy:** The total number of skilled workers hired cannot exceed 60% of the total number of laborers hired.\n\nEstablish a mathematical model to determine which method to choose for each task and how many workers of each type to hire to minimize the total weekly cost (wages + fixed costs).', 'output': 'Minimize 100S + 80L + 500y_{1B}\nsubject to\n    y_{1A} + y_{1B} = 1\n    y_{2A} + y_{2B} = 1\n    y_{3A} + y_{3B} = 1\n    s_{1A} × 42 ≥ 8,400y_{1A}\n    g_{1B} × 114 ≥ 8,400y_{1B}\n    s_{1B} = g_{1B}\n    l_{1B} = 2g_{1B}\n    s_{2A} × 42 ≥ 10,800y_{2A}\n    l_{2B} × 36 ≥ 10,800y_{2B}\n    g_{3A} × 180 ≥ 18,000y_{3A}\n    l_{3A} = 5g_{3A}\n    g_{3B} × 150 ≥ 18,000y_{3B}\n    s_{3B} = g_{3B}\n    l_{3B} = 3g_{3B}\n    S = s_{1A} + s_{1B} + s_{2A} + s_{3B}\n    L = l_{1B} + l_{2B} + l_{3A} + l_{3B}\n    S ≤ 400\n    L ≤ 800\n    y_{1B} + y_{3A} ≤ 1\n    g_{3B} ≥ 20y_{3B}\n    S ≤ 0.6L\n    y_{1A}, y_{1B}, y_{2A}, y_{2B}, y_{3A}, y_{3B} ∈ {0,1}\n    s_{1A}, s_{1B}, s_{2A}, s_{3B}, l_{1B}, l_{2B}, l_{3A}, l_{3B}, S, L, g_{1B}, g_{3A}, g_{3B} ∈ Z≥0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Company_Task_Method_Selection"")

# Binary variables: method selection for each task
y_1A = m.addVar(vtype=GRB.BINARY, name=""y_1A"")
y_1B = m.addVar(vtype=GRB.BINARY, name=""y_1B"")
y_2A = m.addVar(vtype=GRB.BINARY, name=""y_2A"")
y_2B = m.addVar(vtype=GRB.BINARY, name=""y_2B"")
y_3A = m.addVar(vtype=GRB.BINARY, name=""y_3A"")
y_3B = m.addVar(vtype=GRB.BINARY, name=""y_3B"")

# Integer variables: number of workers assigned to each method
s_1A = m.addVar(vtype=GRB.INTEGER, lb=0, name=""s_1A"")    # skilled workers for Task 1, Method A
g_1B = m.addVar(vtype=GRB.INTEGER, lb=0, name=""g_1B"")    # groups for Task 1, Method B
s_1B = m.addVar(vtype=GRB.INTEGER, lb=0, name=""s_1B"")    # skilled workers for Task 1, Method B
l_1B = m.addVar(vtype=GRB.INTEGER, lb=0, name=""l_1B"")    # laborers for Task 1, Method B

s_2A = m.addVar(vtype=GRB.INTEGER, lb=0, name=""s_2A"")    # skilled workers for Task 2, Method A
l_2B = m.addVar(vtype=GRB.INTEGER, lb=0, name=""l_2B"")    # laborers for Task 2, Method B

g_3A = m.addVar(vtype=GRB.INTEGER, lb=0, name=""g_3A"")    # groups for Task 3, Method A
l_3A = m.addVar(vtype=GRB.INTEGER, lb=0, name=""l_3A"")    # laborers for Task 3, Method A

g_3B = m.addVar(vtype=GRB.INTEGER, lb=0, name=""g_3B"")    # groups for Task 3, Method B
s_3B = m.addVar(vtype=GRB.INTEGER, lb=0, name=""s_3B"")    # skilled workers for Task 3, Method B
l_3B = m.addVar(vtype=GRB.INTEGER, lb=0, name=""l_3B"")    # laborers for Task 3, Method B

# Total skilled workers and laborers hired
S = m.addVar(vtype=GRB.INTEGER, lb=0, name=""S"")
L = m.addVar(vtype=GRB.INTEGER, lb=0, name=""L"")

# Objective function: Minimize total weekly cost (wages + fixed cost for Task 1B)
m.setObjective(
    100 * S + 80 * L + 500 * y_1B,
    GRB.MINIMIZE
)

# Constraints

# Each task: exactly one method
m.addConstr(y_1A + y_1B == 1, name=""Task1_method"")
m.addConstr(y_2A + y_2B == 1, name=""Task2_method"")
m.addConstr(y_3A + y_3B == 1, name=""Task3_method"")

# Task 1 requirements
m.addConstr(s_1A * 42 >= 8400 * y_1A, name=""Task1A_hours"")
m.addConstr(g_1B * 114 >= 8400 * y_1B, name=""Task1B_hours"")  # 1 skilled + 2 laborers per group, 42+2*36=114 hours/group
m.addConstr(s_1B == g_1B, name=""Task1B_skilled"")
m.addConstr(l_1B == 2 * g_1B, name=""Task1B_laborers"")

# Task 2 requirements
m.addConstr(s_2A * 42 >= 10800 * y_2A, name=""Task2A_hours"")
m.addConstr(l_2B * 36 >= 10800 * y_2B, name=""Task2B_hours"")

# Task 3 requirements
m.addConstr(g_3A * 180 >= 18000 * y_3A, name=""Task3A_hours"")  # 5 laborers per group, 5*36=180 hours/group
m.addConstr(l_3A == 5 * g_3A, name=""Task3A_laborers"")
m.addConstr(g_3B * 150 >= 18000 * y_3B, name=""Task3B_hours"")  # 1 skilled + 3 laborers per group, 42+3*36=150 hours/group
m.addConstr(s_3B == g_3B, name=""Task3B_skilled"")
m.addConstr(l_3B == 3 * g_3B, name=""Task3B_laborers"")

# Total skilled workers and laborers hired
m.addConstr(S == s_1A + s_1B + s_2A + s_3B, name=""Total_skilled"")
m.addConstr(L == l_1B + l_2B + l_3A + l_3B, name=""Total_laborers"")

# Worker limits
m.addConstr(S <= 400, name=""Skilled_limit"")
m.addConstr(L <= 800, name=""Laborer_limit"")

# Exclusion rule: if Task 1 uses Method B, Task 3 cannot use Method A
m.addConstr(y_1B + y_3A <= 1, name=""Exclusion_rule"")

# Minimum assignment for Task 3B: at least 20 skilled workers if chosen
m.addConstr(g_3B >= 20 * y_3B, name=""Task3B_min_skilled"")

# Hiring policy: skilled workers ≤ 60% of laborers
m.addConstr(S <= 0.6 * L, name=""Hiring_policy"")

# Solve the model
m.optimize()",84000,84000,1,
"On Danzig Street, vehicles can park on both sides of the street. Mr. Edmonds, who lives at No. 1, is organizing a party with about 30 participants, and they will arrive in 15 cars. The length of the i-th car is 位_i, in meters, as follows:

| i  | 1  | 2   | 3  | 4   | 5   | 6   | 7   | 8   | 9   | 10  | 11  | 12  | 13  | 14  | 15  |
|----|----|-----|----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|
| 位_i | 4  | 4.5 | 5  | 4.1 | 2.4 | 5.2 | 3.7 | 3.5 | 3.2 | 4.5 | 2.3 | 3.3 | 3.8 | 4.6 | 3   |

In order to avoid disturbing the neighbors, Mr. Edmonds wants to arrange parking on both sides of the street so that the total length of the street occupied by his friends' vehicles is minimized. Please provide a mathematical programming formulation and solve this problem using AMPL.
How does the program change if the cars on one side of the street cannot occupy more than 30 meters?","{'input': ""On Danzig Street, vehicles can park on both sides of the street. Mr. Edmonds, who lives at No. 1, is organizing a party with about 30 participants, and they will arrive in 15 cars. The length of the i-th car is 位_i, in meters, as follows:\n\n| i  | 1  | 2   | 3  | 4   | 5   | 6   | 7   | 8   | 9   | 10  | 11  | 12  | 13  | 14  | 15  |\n|----|----|-----|----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|\n| 位_i | 4  | 4.5 | 5  | 4.1 | 2.4 | 5.2 | 3.7 | 3.5 | 3.2 | 4.5 | 2.3 | 3.3 | 3.8 | 4.6 | 3   |\n\nIn order to avoid disturbing the neighbors, Mr. Edmonds wants to arrange parking on both sides of the street so that the total length of the street occupied by his friends' vehicles is minimized. Please provide a mathematical programming formulation and solve this problem using AMPL.\nHow does the program change if the cars on one side of the street cannot occupy more than 30 meters?"", 'output': 'Mathematical Programming Formulation:\n\nLet x_i = 1 if car i is parked on the left side, 0 otherwise.\nLet y_i = 1 if car i is parked on the right side, 0 otherwise.\n\nminimize z\nsubject to\n    sum_{i=1}^{15} 位_i * x_i <= z\n    sum_{i=1}^{15} 位_i * y_i <= z\n    x_i + y_i = 1    for all i = 1,...,15\n    x_i, y_i ∈ {0,1} for all i = 1,...,15\n\nAMPL Model:\n\nset CARS := 1..15;\nparam len {CARS};\nvar x {CARS} binary;\nvar y {CARS} binary;\nvar z;\n\ns.t. one_side {i in CARS}:\n    x[i] + y[i] = 1;\n\ns.t. left_side:\n    sum {i in CARS} len[i] * x[i] <= z;\n\ns.t. right_side:\n    sum {i in CARS} len[i] * y[i] <= z;\n\nminimize total_length: z;\n\ndata;\n\nparam len :=\n1  4\n2  4.5\n3  5\n4  4.1\n5  2.4\n6  5.2\n7  3.7\n8  3.5\n9  3.2\n10 4.5\n11 2.3\n12 3.3\n13 3.8\n14 4.6\n15 3\n;\n\nIf the cars on one side of the street cannot occupy more than 30 meters (e.g., left side):\n\nReplace the left_side constraint with:\ns.t. left_side:\n    sum {i in CARS} len[i] * x[i] <= 30;\n\nThe rest of the model remains the same.'}","import gurobipy as gp
from gurobipy import GRB

# Data
car_lengths = [4, 4.5, 5, 4.1, 2.4, 5.2, 3.7, 3.5, 3.2, 4.5, 2.3, 3.3, 3.8, 4.6, 3]
n = len(car_lengths)

# Create the model
m = gp.Model(""Danzig_Street_Parking"")

# Decision variables
x = m.addVars(n, vtype=GRB.BINARY, name=""x"")  # 1 if car i is on left
y = m.addVars(n, vtype=GRB.BINARY, name=""y"")  # 1 if car i is on right
z = m.addVar(vtype=GRB.CONTINUOUS, name=""z"")  # total occupied length

# Each car must be assigned to exactly one side
for i in range(n):
    m.addConstr(x[i] + y[i] == 1, name=f""assign_{i}"")

# The total length on each side cannot exceed z
m.addConstr(gp.quicksum(car_lengths[i] * x[i] for i in range(n)) <= z, name=""left_length"")
m.addConstr(gp.quicksum(car_lengths[i] * y[i] for i in range(n)) <= z, name=""right_length"")

# Objective: minimize z
m.setObjective(z, GRB.MINIMIZE)

# Solve the model
m.optimize()

# If you want to add the 30-meter constraint on the left side, comment out the previous left_length constraint and use the following instead:
# m.addConstr(gp.quicksum(car_lengths[i] * x[i] for i in range(n)) <= 30, name=""left_length_30m"")",28.6,28.6,1,
"Changjiang Comprehensive Shopping Mall has 5000 m虏 of space for lease and plans to attract the following 5 types of stores as tenants. The table below shows the area occupied by each type of store for one shop, the minimum and maximum number of shops for each type within the mall, and the expected annual profit (in ten thousand yuan) per store for different numbers of stores. Each store pays 20% of its annual profit as rent to the mall. Question: How many of each type of store should the mall lease to maximize total rental income?

Table 5-12

| Code | Store Type | Area per Shop / m虏 | Min | Max | 1 Store | 2 Stores | 3 Stores |
|------|------------|--------------------|-----|-----|---------|----------|----------|
| 1    | Jewelry    | 250                | 1   | 3   | 9       | 8        | 7        |
| 2    | Shoes & Hats | 350              | 1   | 2   | 10      | 9        | -        |
| 3    | General Merchandise | 800      | 1   | 3   | 27      | 21       | 20       |
| 4    | Bookstore  | 400                | 0   | 2   | 16      | 10       | -        |
| 5    | Catering   | 500                | 1   | 3   | 17      | 15       | 12       |","{'input': 'Changjiang Comprehensive Shopping Mall has 5000 m虏 of space for lease and plans to attract the following 5 types of stores as tenants. The table below shows the area occupied by each type of store for one shop, the minimum and maximum number of shops for each type within the mall, and the expected annual profit (in ten thousand yuan) per store for different numbers of stores. Each store pays 20% of its annual profit as rent to the mall. Question: How many of each type of store should the mall lease to maximize total rental income?\n\nTable 5-12\n\n| Code | Store Type | Area per Shop / m虏 | Min | Max | 1 Store | 2 Stores | 3 Stores |\n|------|------------|--------------------|-----|-----|---------|----------|----------|\n| 1    | Jewelry    | 250                | 1   | 3   | 9       | 8        | 7        |\n| 2    | Shoes & Hats | 350              | 1   | 2   | 10      | 9        | -        |\n| 3    | General Merchandise | 800      | 1   | 3   | 27      | 21       | 20       |\n| 4    | Bookstore  | 400                | 0   | 2   | 16      | 10       | -        |\n| 5    | Catering   | 500                | 1   | 3   | 17      | 15       | 12       |', 'output': 'Maximize\n    0.2 [x1 * p1_x1 + x2 * p2_x2 + x3 * p3_x3 + x4 * p4_x4 + x5 * p5_x5]\n\nSubject to\n    250 * x1 + 350 * x2 + 800 * x3 + 400 * x4 + 500 * x5 <= 5000\n    1 <= x1 <= 3,\u2003x1 ∈ Z+\n    1 <= x2 <= 2,\u2003x2 ∈ Z+\n    1 <= x3 <= 3,\u2003x3 ∈ Z+\n    0 <= x4 <= 2,\u2003x4 ∈ Z+\n    1 <= x5 <= 3,\u2003x5 ∈ Z+\n\nwhere\n    p1_1 = 9,\u2003p1_2 = 8,\u2003p1_3 = 7\n    p2_1 = 10,\u2003p2_2 = 9\n    p3_1 = 27,\u2003p3_2 = 21,\u2003p3_3 = 20\n    p4_1 = 16,\u2003p4_2 = 10\n    p5_1 = 17,\u2003p5_2 = 15,\u2003p5_3 = 12\n\nand for each i, pi_xi is the profit per store for type i when there are xi stores.'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Changjiang_Mall_Lease_Optimization"")

# Decision variables: number of stores of each type
x1 = m.addVar(vtype=GRB.INTEGER, lb=1, ub=3, name=""x1"")  # Jewelry
x2 = m.addVar(vtype=GRB.INTEGER, lb=1, ub=2, name=""x2"")  # Shoes & Hats
x3 = m.addVar(vtype=GRB.INTEGER, lb=1, ub=3, name=""x3"")  # General Merchandise
x4 = m.addVar(vtype=GRB.INTEGER, lb=0, ub=2, name=""x4"")  # Bookstore
x5 = m.addVar(vtype=GRB.INTEGER, lb=1, ub=3, name=""x5"")  # Catering

# Binary variables for profit per store selection
y1_1 = m.addVar(vtype=GRB.BINARY, name=""y1_1"")
y1_2 = m.addVar(vtype=GRB.BINARY, name=""y1_2"")
y1_3 = m.addVar(vtype=GRB.BINARY, name=""y1_3"")

y2_1 = m.addVar(vtype=GRB.BINARY, name=""y2_1"")
y2_2 = m.addVar(vtype=GRB.BINARY, name=""y2_2"")

y3_1 = m.addVar(vtype=GRB.BINARY, name=""y3_1"")
y3_2 = m.addVar(vtype=GRB.BINARY, name=""y3_2"")
y3_3 = m.addVar(vtype=GRB.BINARY, name=""y3_3"")

y4_0 = m.addVar(vtype=GRB.BINARY, name=""y4_0"")
y4_1 = m.addVar(vtype=GRB.BINARY, name=""y4_1"")
y4_2 = m.addVar(vtype=GRB.BINARY, name=""y4_2"")

y5_1 = m.addVar(vtype=GRB.BINARY, name=""y5_1"")
y5_2 = m.addVar(vtype=GRB.BINARY, name=""y5_2"")
y5_3 = m.addVar(vtype=GRB.BINARY, name=""y5_3"")

# Link x and y variables
m.addConstr(x1 == 1 * y1_1 + 2 * y1_2 + 3 * y1_3)
m.addConstr(y1_1 + y1_2 + y1_3 == 1)

m.addConstr(x2 == 1 * y2_1 + 2 * y2_2)
m.addConstr(y2_1 + y2_2 == 1)

m.addConstr(x3 == 1 * y3_1 + 2 * y3_2 + 3 * y3_3)
m.addConstr(y3_1 + y3_2 + y3_3 == 1)

m.addConstr(x4 == 0 * y4_0 + 1 * y4_1 + 2 * y4_2)
m.addConstr(y4_0 + y4_1 + y4_2 == 1)

m.addConstr(x5 == 1 * y5_1 + 2 * y5_2 + 3 * y5_3)
m.addConstr(y5_1 + y5_2 + y5_3 == 1)

# Area constraint
m.addConstr(250 * x1 + 350 * x2 + 800 * x3 + 400 * x4 + 500 * x5 <= 5000)

# Objective function: maximize total rental income (20% of total profit)
profit1 = 9 * x1 * y1_1 + 8 * x1 * y1_2 + 7 * x1 * y1_3
profit2 = 10 * x2 * y2_1 + 9 * x2 * y2_2
profit3 = 27 * x3 * y3_1 + 21 * x3 * y3_2 + 20 * x3 * y3_3
profit4 = 0 * y4_0 + 16 * x4 * y4_1 + 10 * x4 * y4_2
profit5 = 17 * x5 * y5_1 + 15 * x5 * y5_2 + 12 * x5 * y5_3

m.setObjective(0.2 * (profit1 + profit2 + profit3 + profit4 + profit5), GRB.MAXIMIZE)

# Solve the model
m.optimize()",28,28,1,
"A certain restaurant operates around the clock, and the number of waiters needed in 24 hours is shown in Table 1.1.

Table 1.1

| Time        | Minimum Number of Waiters Needed | Time        | Minimum Number of Waiters Needed |
|:-----------:|:-------------------------------:|:-----------:|:-------------------------------:|
| $2 \sim 6$  | 4                                | $14 \sim 18$| 7                                |
| $6 \sim 10$ | 8                                | $18 \sim 22$| 12                               |
| $10 \sim 14$| 10                               | $22 \sim 2$ | 4                                |

Each waiter works continuously for 8 hours a day. The goal is to find the minimum number of waiters that meet the above conditions and represent this problem as a linear programming model.","{'input': 'A certain restaurant operates around the clock, and the number of waiters needed in 24 hours is shown in Table 1.1.\n\nTable 1.1\n\n| Time        | Minimum Number of Waiters Needed | Time        | Minimum Number of Waiters Needed |\n|:-----------:|:-------------------------------:|:-----------:|:-------------------------------:|\n| $2 \\sim 6$  | 4                                | $14 \\sim 18$| 7                                |\n| $6 \\sim 10$ | 8                                | $18 \\sim 22$| 12                               |\n| $10 \\sim 14$| 10                               | $22 \\sim 2$ | 4                                |\n\nEach waiter works continuously for 8 hours a day. The goal is to find the minimum number of waiters that meet the above conditions and represent this problem as a linear programming model.', 'output': 'Minimize x1 + x2 + x3 + x4 + x5 + x6\n\nSubject to\n    x1 + x6 >= 4\n    x1 + x2 >= 8\n    x2 + x3 >= 10\n    x3 + x4 >= 7\n    x4 + x5 >= 12\n    x5 + x6 >= 4\n\nx1, x2, x3, x4, x5, x6 ∈ Z+'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Waiter_Scheduling"")

# Decision variables: number of waiters starting at each shift
x1 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x1"")  # 2~10
x2 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x2"")  # 6~14
x3 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x3"")  # 10~18
x4 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x4"")  # 14~22
x5 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x5"")  # 18~2
x6 = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x6"")  # 22~6

# Objective function: Minimize total number of waiters
m.setObjective(x1 + x2 + x3 + x4 + x5 + x6, GRB.MINIMIZE)

# Constraints
m.addConstr(x1 + x6 >= 4, name=""2_6_constraint"")
m.addConstr(x1 + x2 >= 8, name=""6_10_constraint"")
m.addConstr(x2 + x3 >= 10, name=""10_14_constraint"")
m.addConstr(x3 + x4 >= 7, name=""14_18_constraint"")
m.addConstr(x4 + x5 >= 12, name=""18_22_constraint"")
m.addConstr(x5 + x6 >= 4, name=""22_2_constraint"")

# Solve the model
m.optimize()",26,26,1,
"A company hopes to recruit new employees for its team. The salary requirements for candidates A, B, C, D, and E are $8100, $20000, $21000, $3000, and $8000 respectively. They need to decide whether to hire each candidate. The team wants to minimize the total amount paid to the candidates.

They hope to hire a maximum of 3 new employees.

The team has a limited budget of $35,000. They need to ensure that the total payment to the selected candidates does not exceed the budget.

The qualifications of the five candidates are as follows:
Candidate A: Bachelor's degree;
Candidate B: Master's degree;
Candidate C: Doctoral degree;
Candidate D: No degree;
Candidate E: No degree.
They will select at least one candidate with a Master's or Doctoral degree.

The work experience of the five candidates is as follows:
Candidate A: 3 years of work experience;
Candidate B: 10 years of work experience;
Candidate C: 4 years of work experience;
Candidate D: 3 years of work experience;
Candidate E: 7 years of work experience.
They hope the total work experience of the selected candidates is no less than 12 years.

Due to the equivalent professional skills of candidates A and E, the company will choose at most one from the two.

They will hire at least 2 new employees.","{'input': ""A company hopes to recruit new employees for its team. The salary requirements for candidates A, B, C, D, and E are $8100, $20000, $21000, $3000, and $8000 respectively. They need to decide whether to hire each candidate. The team wants to minimize the total amount paid to the candidates.\n\nThey hope to hire a maximum of 3 new employees.\n\nThe team has a limited budget of $35,000. They need to ensure that the total payment to the selected candidates does not exceed the budget.\n\nThe qualifications of the five candidates are as follows:\nCandidate A: Bachelor's degree;\nCandidate B: Master's degree;\nCandidate C: Doctoral degree;\nCandidate D: No degree;\nCandidate E: No degree.\nThey will select at least one candidate with a Master's or Doctoral degree.\n\nThe work experience of the five candidates is as follows:\nCandidate A: 3 years of work experience;\nCandidate B: 10 years of work experience;\nCandidate C: 4 years of work experience;\nCandidate D: 3 years of work experience;\nCandidate E: 7 years of work experience.\nThey hope the total work experience of the selected candidates is no less than 12 years.\n\nDue to the equivalent professional skills of candidates A and E, the company will choose at most one from the two.\n\nThey will hire at least 2 new employees."", 'output': 'Minimize 8100x_A + 20000x_B + 21000x_C + 3000x_D + 8000x_E\nsubject to\nx_A + x_B + x_C + x_D + x_E ≤ 3\nx_A + x_B + x_C + x_D + x_E ≥ 2\n8100x_A + 20000x_B + 21000x_C + 3000x_D + 8000x_E ≤ 35000\nx_B + x_C ≥ 1\n3x_A + 10x_B + 4x_C + 3x_D + 7x_E ≥ 12\nx_A + x_E ≤ 1\nx_A, x_B, x_C, x_D, x_E ∈ {0,1}'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Hiring_Optimization"")

# Decision variables: 1 if candidate is hired, 0 otherwise
x_A = m.addVar(vtype=GRB.BINARY, name=""x_A"")
x_B = m.addVar(vtype=GRB.BINARY, name=""x_B"")
x_C = m.addVar(vtype=GRB.BINARY, name=""x_C"")
x_D = m.addVar(vtype=GRB.BINARY, name=""x_D"")
x_E = m.addVar(vtype=GRB.BINARY, name=""x_E"")

# Objective function: Minimize total salary
m.setObjective(8100 * x_A + 20000 * x_B + 21000 * x_C + 3000 * x_D + 8000 * x_E, GRB.MINIMIZE)

# Constraint: Hire at most 3 employees
m.addConstr(x_A + x_B + x_C + x_D + x_E <= 3, name=""max_3_hires"")

# Constraint: Hire at least 2 employees
m.addConstr(x_A + x_B + x_C + x_D + x_E >= 2, name=""min_2_hires"")

# Constraint: Total salary does not exceed $35,000
m.addConstr(8100 * x_A + 20000 * x_B + 21000 * x_C + 3000 * x_D + 8000 * x_E <= 35000, name=""budget"")

# Constraint: At least one with Master's or Doctoral degree (B or C)
m.addConstr(x_B + x_C >= 1, name=""degree_requirement"")

# Constraint: Total work experience at least 12 years
m.addConstr(3 * x_A + 10 * x_B + 4 * x_C + 3 * x_D + 7 * x_E >= 12, name=""experience_requirement"")

# Constraint: At most one of A and E
m.addConstr(x_A + x_E <= 1, name=""A_E_exclusive"")

# Solve the model
m.optimize()",23000,23000,1,
"A company is producing two products (X and Y). Production is measured in standardized batches, and the weekly plan may involve fractional batches when appropriate. The resources required for X and Y are divided into two parts: machine time for automated processing and craftsman time for manual finishing. The table below shows the number of minutes required for each batch of product:

| Item | Machine Time (minutes) | Craftsman Time (minutes) |
| :---: | :---: | :---: |
| X | 13 | 20 |
| Y | 19 | 29 |

The company has 40 hours of machine time available in the next working week, but only 35 hours of craftsman time. The cost of machine time is 拢10 per hour, and the cost of craftsman time is 拢2 per hour. Idle time for machines and craftsmen incurs no cost. For each batch produced (all batches produced will be sold), the revenue for product X is 拢20, and the revenue for product Y is 拢30. In addition, there is a contract that requires at least 10 batches of product X to be completed for a customer each week. Formulate a linear programming model to determine the weekly production plan that maximizes profit.","{'input': 'A company is producing two products (X and Y). Production is measured in standardized batches, and the weekly plan may involve fractional batches when appropriate. The resources required for X and Y are divided into two parts: machine time for automated processing and craftsman time for manual finishing. The table below shows the number of minutes required for each batch of product:\n\n| Item | Machine Time (minutes) | Craftsman Time (minutes) |\n| :---: | :---: | :---: |\n| X | 13 | 20 |\n| Y | 19 | 29 |\n\nThe company has 40 hours of machine time available in the next working week, but only 35 hours of craftsman time. The cost of machine time is 拢10 per hour, and the cost of craftsman time is 拢2 per hour. Idle time for machines and craftsmen incurs no cost. For each batch produced (all batches produced will be sold), the revenue for product X is 拢20, and the revenue for product Y is 拢30. In addition, there is a contract that requires at least 10 batches of product X to be completed for a customer each week. Formulate a linear programming model to determine the weekly production plan that maximizes profit.', 'output': 'Maximize\u2003Z = 20x + 30y − (1/6)(13x + 19y) − (1/30)(20x + 29y)\nSubject to\n\u200313x + 19y ≤ 2400\n\u200320x + 29y ≤ 2100\n\u2003x ≥ 10\n\u2003x ≥ 0,\u2003y ≥ 0\n\u2003x, y ∈ ℝ+ (non-negative real numbers)'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Production_Optimization"")

# Decision variables: x = batches of product X, y = batches of product Y
x = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x"")
y = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""y"")

# Objective function coefficients
# Profit per batch: revenue - machine cost - craftsman cost
# Machine time: 13x + 19y minutes, 1 hour = 60 minutes, cost £10/hour
# Craftsman time: 20x + 29y minutes, 1 hour = 60 minutes, cost £2/hour
profit_x = 20 - (13/60)*10 - (20/60)*2
profit_y = 30 - (19/60)*10 - (29/60)*2

# Set objective: maximize profit
m.setObjective(profit_x * x + profit_y * y, GRB.MAXIMIZE)

# Constraints
m.addConstr(13 * x + 19 * y <= 2400, name=""machine_time"")      # 40 hours * 60 = 2400 minutes
m.addConstr(20 * x + 29 * y <= 2100, name=""craftsman_time"")    # 35 hours * 60 = 2100 minutes
m.addConstr(x >= 10, name=""min_x_batches"")

# Solve the model
m.optimize()",1866.37931,1866.37,0,
"Healthy Pet Foods Company produces two types of dog food: Meaties and Yummies. Each pack of Meaties contains 2 pounds of grains and 3 pounds of meat; each pack of Yummies contains 3 pounds of grains and 1.5 pounds of meat. The company believes it can sell any quantity of dog food that it can produce. Meaties sell for $2.80 per pack, and Yummies sell for $2.00 per pack. The company's production is subject to several constraints. First, a maximum of 400,000 pounds of grains can be purchased each month at a price of $0.20 per pound of grains. A maximum of 300,000 pounds of meat can be purchased each month at a price of $0.50 per pound of meat. Additionally, a special machine is required to produce Meaties, with a monthly capacity of 90,000 packs. The variable costs for mixing and packaging dog food are $0.25 per pack (Meaties) and $0.20 per pack (Yummies). Detailed information is provided in Table B-1.

**Table B-1 Healthy Pet Foods Data**

|                    | Meaties      | Yummies    |
|--------------------|--------------|------------|
| Price per pack     | $2.80        | $2.00      |
| Raw materials      |              |            |
| - Grains           | 2.0 lbs      | 3.0 lbs    |
| - Meat             | 3.0 lbs      | 1.5 lbs    |
| Variable cost      | $0.25/pack   | $0.20/pack |
| Resources          |              |            |
| Meaties capacity   | 90,000 packs/month |       |
| Monthly available grains | 400,000 lbs |      |
| Monthly available meat | 300,000 lbs |        |

Assume you are the manager of the dog food department at Healthy Pet Foods Company. Your salary is based on the department's profit, so you will try to maximize profit. How should you operate the department to maximize both the profit and your salary?","{'input': ""Healthy Pet Foods Company produces two types of dog food: Meaties and Yummies. Each pack of Meaties contains 2 pounds of grains and 3 pounds of meat; each pack of Yummies contains 3 pounds of grains and 1.5 pounds of meat. The company believes it can sell any quantity of dog food that it can produce. Meaties sell for $2.80 per pack, and Yummies sell for $2.00 per pack. The company's production is subject to several constraints. First, a maximum of 400,000 pounds of grains can be purchased each month at a price of $0.20 per pound of grains. A maximum of 300,000 pounds of meat can be purchased each month at a price of $0.50 per pound of meat. Additionally, a special machine is required to produce Meaties, with a monthly capacity of 90,000 packs. The variable costs for mixing and packaging dog food are $0.25 per pack (Meaties) and $0.20 per pack (Yummies). Detailed information is provided in Table B-1.\n\n**Table B-1 Healthy Pet Foods Data**\n\n|                    | Meaties      | Yummies    |\n|--------------------|--------------|------------|\n| Price per pack     | $2.80        | $2.00      |\n| Raw materials      |              |            |\n| - Grains           | 2.0 lbs      | 3.0 lbs    |\n| - Meat             | 3.0 lbs      | 1.5 lbs    |\n| Variable cost      | $0.25/pack   | $0.20/pack |\n| Resources          |              |            |\n| Meaties capacity   | 90,000 packs/month |       |\n| Monthly available grains | 400,000 lbs |      |\n| Monthly available meat | 300,000 lbs |        |\n\nAssume you are the manager of the dog food department at Healthy Pet Foods Company. Your salary is based on the department's profit, so you will try to maximize profit. How should you operate the department to maximize both the profit and your salary?"", 'output': 'Maximize\n    0.65x1 + 0.45x2\n\nSubject to\n    2x1 + 3x2 <= 400,000\n    3x1 + 1.5x2 <= 300,000\n    x1 <= 90,000\n    x1 >= 0, x2 >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Healthy_Pet_Foods_Profit_Maximization"")

# Decision variables: x1 = packs of Meaties, x2 = packs of Yummies
x1 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""Meaties"")
x2 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""Yummies"")

# Objective function: Maximize profit
m.setObjective(0.65 * x1 + 0.45 * x2, GRB.MAXIMIZE)

# Constraints
m.addConstr(2 * x1 + 3 * x2 <= 400000, name=""Grains_limit"")
m.addConstr(3 * x1 + 1.5 * x2 <= 300000, name=""Meat_limit"")
m.addConstr(x1 <= 90000, name=""Meaties_capacity"")

# Solve the model
m.optimize()",77500,77500,1,
"A transportation company has two types of trucks, Type A and Type B. Type A trucks have 20 cubic meters of refrigerated capacity and 40 cubic meters of non-refrigerated capacity. In contrast, Type B trucks have the same total capacity, but the capacities for refrigerated and non-refrigerated cargo are equal. A grocer needs to rent trucks to transport 3000 cubic meters of refrigerated cargo and 4000 cubic meters of non-refrigerated cargo. The rental cost per kilometer for Type A trucks is 拢30, while the rental cost per kilometer for Type B trucks is 拢40. How many of each type of truck should the grocer rent to minimize the total cost?

Try to formulate a model for this problem.","{'input': 'A transportation company has two types of trucks, Type A and Type B. Type A trucks have 20 cubic meters of refrigerated capacity and 40 cubic meters of non-refrigerated capacity. In contrast, Type B trucks have the same total capacity, but the capacities for refrigerated and non-refrigerated cargo are equal. A grocer needs to rent trucks to transport 3000 cubic meters of refrigerated cargo and 4000 cubic meters of non-refrigerated cargo. The rental cost per kilometer for Type A trucks is 拢30, while the rental cost per kilometer for Type B trucks is 拢40. How many of each type of truck should the grocer rent to minimize the total cost?\n\nTry to formulate a model for this problem.', 'output': 'Minimize 30x + 40y\nsubject to\n    20x + 30y >= 3000\n    40x + 30y >= 4000\n    x, y ∈ Z+'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Truck_Rental_Optimization"")

# Decision variables: number of Type A (x) and Type B (y) trucks
x = m.addVar(vtype=GRB.INTEGER, lb=0, name=""TypeA_Trucks"")
y = m.addVar(vtype=GRB.INTEGER, lb=0, name=""TypeB_Trucks"")

# Objective function: Minimize total rental cost per kilometer
m.setObjective(30 * x + 40 * y, GRB.MINIMIZE)

# Constraints
m.addConstr(20 * x + 30 * y >= 3000, name=""Refrigerated_Capacity"")
m.addConstr(40 * x + 30 * y >= 4000, name=""NonRefrigerated_Capacity"")

# Solve the model
m.optimize()",4170,4170,1,
"A company operates two machines (Machine 1 and Machine 2) to produce two fertilizers: liquid and solid. Processing requirements are measured per standardized lot, and planning may use fractional lots when appropriate. Producing one lot of liquid requires 50 minutes on Machine 1 and 30 minutes on Machine 2. Producing one lot of solid requires 24 minutes on Machine 1 and 33 minutes on Machine 2. At the beginning of the week, on-hand inventories are 30 lots of liquid and 90 lots of solid. This week, Machine 1 has 40 available hours and Machine 2 has 35 available hours. Forecast demand for this week is 75 lots of liquid and 95 lots of solid. The company aims to maximize the total ending inventory of liquid and solid at the end of the week. Formulate a linear program.","{'input': 'A company operates two machines (Machine 1 and Machine 2) to produce two fertilizers: liquid and solid. Processing requirements are measured per standardized lot, and planning may use fractional lots when appropriate. Producing one lot of liquid requires 50 minutes on Machine 1 and 30 minutes on Machine 2. Producing one lot of solid requires 24 minutes on Machine 1 and 33 minutes on Machine 2. At the beginning of the week, on-hand inventories are 30 lots of liquid and 90 lots of solid. This week, Machine 1 has 40 available hours and Machine 2 has 35 available hours. Forecast demand for this week is 75 lots of liquid and 95 lots of solid. The company aims to maximize the total ending inventory of liquid and solid at the end of the week. Formulate a linear program.', 'output': 'Maximize\n    x_L + x_S\n\nSubject to\n    50x_L + 24x_S <= 2400\n    30x_L + 33x_S <= 2100\n    x_L >= 45\n    x_S >= 5\n    x_L >= 0, x_S >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Fertilizer_Production"")

# Decision variables: x_L = lots of liquid produced, x_S = lots of solid produced
x_L = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""x_L"")
x_S = m.addVar(lb=0, vtype=GRB.CONTINUOUS, name=""x_S"")

# Objective: Maximize total ending inventory of liquid and solid
# Ending inventory = initial inventory + production - demand
ending_liquid = 30 + x_L - 75
ending_solid = 90 + x_S - 95
m.setObjective(ending_liquid + ending_solid, GRB.MAXIMIZE)

# Machine 1 time constraint: 50x_L + 24x_S <= 2400 (40 hours * 60 minutes)
m.addConstr(50 * x_L + 24 * x_S <= 2400, name=""Machine1_time"")

# Machine 2 time constraint: 30x_L + 33x_S <= 2100 (35 hours * 60 minutes)
m.addConstr(30 * x_L + 33 * x_S <= 2100, name=""Machine2_time"")

# Demand satisfaction constraints: must produce enough to meet demand
m.addConstr(x_L >= 45, name=""Liquid_min_production"")  # 75 - 30 = 45
m.addConstr(x_S >= 5, name=""Solid_min_production"")    # 95 - 90 = 5

# Solve the model
m.optimize()",1.25,1.25,1,
"A company produces liquid product A and liquid product B. Each kilogram of product A sold generates a profit of 拢30, while each kilogram of product B sold generates a profit of 拢10. The company can allocate a maximum of 40 hours per week for production. Producing one kilogram of product A requires 6 hours, while producing one kilogram of product B requires 3 hours. Market demand requires that the output of product B must be at least three times the output of product A. The storage space required for product A is four times that of product B, and a maximum of four kilograms of product A can be stored per week.

Formulate a linear programming model for this problem.","{'input': 'A company produces liquid product A and liquid product B. Each kilogram of product A sold generates a profit of 拢30, while each kilogram of product B sold generates a profit of 拢10. The company can allocate a maximum of 40 hours per week for production. Producing one kilogram of product A requires 6 hours, while producing one kilogram of product B requires 3 hours. Market demand requires that the output of product B must be at least three times the output of product A. The storage space required for product A is four times that of product B, and a maximum of four kilograms of product A can be stored per week.\n\nFormulate a linear programming model for this problem.', 'output': 'Maximize\n    30 * x_A + 10 * x_B\n\nSubject to\n    6 * x_A + 3 * x_B <= 40\n    x_B >= 3 * x_A\n    x_A <= 4\n    x_A >= 0\n    x_B >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Production_Optimization"")

# Decision variables: x_A = kg of product A, x_B = kg of product B
x_A = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x_A"")
x_B = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x_B"")

# Objective function: Maximize profit
m.setObjective(30 * x_A + 10 * x_B, GRB.MAXIMIZE)

# Constraints
m.addConstr(6 * x_A + 3 * x_B <= 40, name=""production_time"")
m.addConstr(x_B >= 3 * x_A, name=""market_demand"")
m.addConstr(x_A <= 4, name=""storage_limit"")

# Solve the model
m.optimize()",160,146.667,0,
"A store wants to clear out 200 shirts and 100 pairs of pants from last season. They decide to introduce two promotional packages, A and B. Package A includes one shirt and two pairs of pants, priced at 拢30. Package B includes three shirts and one pair of pants, priced at 拢50. The store does not want to sell fewer than 20 A packages and 10 B packages. How many of each package do they need to sell to maximize the revenue from the promotion?

Try to establish a model for this problem.","{'input': 'A store wants to clear out 200 shirts and 100 pairs of pants from last season. They decide to introduce two promotional packages, A and B. Package A includes one shirt and two pairs of pants, priced at 拢30. Package B includes three shirts and one pair of pants, priced at 拢50. The store does not want to sell fewer than 20 A packages and 10 B packages. How many of each package do they need to sell to maximize the revenue from the promotion?\n\nTry to establish a model for this problem.', 'output': 'Maximize\n    30 * x_A + 50 * x_B\n\nSubject to\n    1 * x_A + 3 * x_B <= 200\n    2 * x_A + 1 * x_B <= 100\n    x_A >= 20\n    x_B >= 10\n    x_A ∈ Z+, x_B ∈ Z+'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Store_Promotion_Optimization"")

# Decision variables: number of Package A (x_A) and Package B (x_B) sold
x_A = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_A"")
x_B = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_B"")

# Objective function: Maximize revenue
m.setObjective(30 * x_A + 50 * x_B, GRB.MAXIMIZE)

# Constraints
m.addConstr(1 * x_A + 3 * x_B <= 200, name=""shirt_constraint"")
m.addConstr(2 * x_A + 1 * x_B <= 100, name=""pants_constraint"")
m.addConstr(x_A >= 20, name=""min_A_constraint"")
m.addConstr(x_B >= 10, name=""min_B_constraint"")

# Solve the model
m.optimize()",3600,3600,1,
"A company produces two products (A and B), with a profit of 拢3 and 拢5 per unit sold, respectively. Each product must be assembled on a specific machine, requiring 12 minutes of assembly time per unit for product A and 25 minutes per unit for product B. The company's estimated effective machine working time per week is only 30 hours (due to maintenance or malfunctions). Technical constraints mean that for every five units of product A produced, at least two units of product B must be produced.

Try to formulate a model for this problem.","{'input': ""A company produces two products (A and B), with a profit of 拢3 and 拢5 per unit sold, respectively. Each product must be assembled on a specific machine, requiring 12 minutes of assembly time per unit for product A and 25 minutes per unit for product B. The company's estimated effective machine working time per week is only 30 hours (due to maintenance or malfunctions). Technical constraints mean that for every five units of product A produced, at least two units of product B must be produced.\n\nTry to formulate a model for this problem."", 'output': 'Maximize 3x + 5y\nsubject to\n12x + 25y <= 1800\n2x - 5y <= 0\nx >= 0, y >= 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Product_Production"")

# Decision variables: number of units produced for product A (x) and product B (y)
x = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x"")  # Product A
y = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""y"")  # Product B

# Objective function: Maximize profit
m.setObjective(3 * x + 5 * y, GRB.MAXIMIZE)

# Constraint 1: Assembly time (in minutes)
m.addConstr(12 * x + 25 * y <= 1800, name=""assembly_time"")

# Constraint 2: Technical constraint (for every 5 units of A, at least 2 units of B)
m.addConstr(2 * x - 5 * y <= 0, name=""technical_constraint"")

# Non-negativity constraints are handled by lb=0 in variable definitions

# Solve the model
m.optimize()",409.0909091,408.9,0,
"A school is preparing a trip for 400 students. The transportation company has 10 buses with 50 seats each and 8 minibuses with 40 seats each, but only 9 drivers are available. The rental cost for a bus is 拢800, and the rental cost for a minibus is 拢600. Calculate how many of each type of bus should be used to achieve the lowest cost.

Try to formulate a model for this problem.","{'input': 'A school is preparing a trip for 400 students. The transportation company has 10 buses with 50 seats each and 8 minibuses with 40 seats each, but only 9 drivers are available. The rental cost for a bus is 拢800, and the rental cost for a minibus is 拢600. Calculate how many of each type of bus should be used to achieve the lowest cost.\n\nTry to formulate a model for this problem.', 'output': 'Minimize 800x + 600y\nSubject to\n50x + 40y >= 400\nx <= 10\ny <= 8\nx + y <= 9\nx, y ∈ Z^+'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""School_Trip_Transportation"")

# Decision variables: x = number of buses, y = number of minibuses
x = m.addVar(vtype=GRB.INTEGER, lb=0, name=""buses"")
y = m.addVar(vtype=GRB.INTEGER, lb=0, name=""minibuses"")

# Objective function: Minimize total cost
m.setObjective(800 * x + 600 * y, GRB.MINIMIZE)

# Constraints
m.addConstr(50 * x + 40 * y >= 400, name=""seat_requirement"")
m.addConstr(x <= 10, name=""bus_limit"")
m.addConstr(y <= 8, name=""minibus_limit"")
m.addConstr(x + y <= 9, name=""driver_limit"")

# Solve the model
m.optimize()",6200,6200,1,
"A dairy processing plant uses milk to produce two dairy products, \( A_{1} \) and \( A_{2} \). One barrel of milk can be processed into 3 kg of \( A_{1} \) in 12 hours on Type A equipment or into 4 kg of \( A_{2} \) in 8 hours on Type B equipment. According to market demand, all produced \( A_{1} \) and \( A_{2} \) can be sold. The profit is 24 yuan per kilogram of \( A_{1} \) and 16 yuan per kilogram of \( A_{2} \). The processing plant can get a daily supply of 50 barrels of milk, with a total of 480 hours of labor time available from regular workers each day. The Type A equipment can process up to 100 kg of \( A_{1} \) per day, while the processing capacity of Type B equipment is not limited. Formulate a production plan for the plant to maximize daily profit.","{'input': 'A dairy processing plant uses milk to produce two dairy products, \\( A_{{1}} \\) and \\( A_{{2}} \\). One barrel of milk can be processed into 3 kg of \\( A_{{1}} \\) in 12 hours on Type A equipment or into 4 kg of \\( A_{{2}} \\) in 8 hours on Type B equipment. According to market demand, all produced \\( A_{{1}} \\) and \\( A_{{2}} \\) can be sold. The profit is 24 yuan per kilogram of \\( A_{{1}} \\) and 16 yuan per kilogram of \\( A_{{2}} \\). The processing plant can get a daily supply of 50 barrels of milk, with a total of 480 hours of labor time available from regular workers each day. The Type A equipment can process up to 100 kg of \\( A_{{1}} \\) per day, while the processing capacity of Type B equipment is not limited. Formulate a production plan for the plant to maximize daily profit.', 'output': 'Maximize\n    24x₁ + 16x₂\n\nSubject to\n    (1/3)x₁ + (1/4)x₂ ≤ 50\n    4x₁ + 2x₂ ≤ 480\n    x₁ ≤ 100\n    x₁ ≥ 0, x₂ ≥ 0\n\nOptimal production plan:\n    x₁ = 60 kg of A₁ per day\n    x₂ = 120 kg of A₂ per day\n\nMaximum daily profit:\n    3360 yuan'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Dairy_Production_Optimization"")

# Decision variables: x1 = kg of A1, x2 = kg of A2
x1 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x1"")
x2 = m.addVar(vtype=GRB.CONTINUOUS, lb=0, name=""x2"")

# Objective function: Maximize profit
m.setObjective(24 * x1 + 16 * x2, GRB.MAXIMIZE)

# Constraints
m.addConstr((1/3) * x1 + (1/4) * x2 <= 50, name=""milk_supply"")
m.addConstr(4 * x1 + 2 * x2 <= 480, name=""labor_time"")
m.addConstr(x1 <= 100, name=""A1_capacity"")

# Solve the model
m.optimize()",3360,3360,1,
"A company blends two types of crude oil (A and B) to produce two types of gasoline (Type I and Type II). The minimum proportion of crude oil A in gasoline Types I and II is 50% and 60%, respectively. The selling prices are 4800 yuan/t and 5600 yuan/t, respectively. The company has current inventories of 500 t of crude oil A and 1000 t of crude oil B, and they can purchase up to 1500 t of crude oil A from the market. The market price for crude oil A is: 10,000 yuan/t for purchases up to 500 t; 8,000 yuan/t for the portion exceeding 500 t but not exceeding 1000 t; 6,000 yuan/t for the portion exceeding 1000 t. How should the company plan its purchasing and processing of crude oil?","{'input': 'A company blends two types of crude oil (A and B) to produce two types of gasoline (Type I and Type II). The minimum proportion of crude oil A in gasoline Types I and II is 50% and 60%, respectively. The selling prices are 4800 yuan/t and 5600 yuan/t, respectively. The company has current inventories of 500 t of crude oil A and 1000 t of crude oil B, and they can purchase up to 1500 t of crude oil A from the market. The market price for crude oil A is: 10,000 yuan/t for purchases up to 500 t; 8,000 yuan/t for the portion exceeding 500 t but not exceeding 1000 t; 6,000 yuan/t for the portion exceeding 1000 t. How should the company plan its purchasing and processing of crude oil?', 'output': 'Maximize 4800 z_1 + 5600 z_2 - (10,000 x_{1a} + 8,000 x_{1b} + 6,000 x_{1c})\n\nSubject to\nx_{1a} + x_{1b} + x_{1c} = x_1\n0 ≤ x_{1a} ≤ 500\n0 ≤ x_{1b} ≤ 500\n0 ≤ x_{1c} ≤ 500\nx_2 + x_3 ≤ 500 + x_1\ny_1 + y_2 ≤ 1000\nx_1 ≤ 1500\nz_1 = x_2 + y_1\nz_2 = x_3 + y_2\nx_2 ≥ 0.5 z_1\nx_3 ≥ 0.6 z_2\nx_{1a}, x_{1b}, x_{1c}, x_1, x_2, x_3, y_1, y_2, z_1, z_2 ≥ 0'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Crude_Oil_Blending"")

# Decision variables
x_1a = m.addVar(lb=0, ub=500, name=""x_1a"")   # Crude A purchase, first 0-500 t at 10,000
x_1b = m.addVar(lb=0, ub=500, name=""x_1b"")   # Crude A purchase, next 500 t at 8,000
x_1c = m.addVar(lb=0, ub=500, name=""x_1c"")   # Crude A purchase, last 500 t at 6,000
x_1 = m.addVar(lb=0, ub=1500, name=""x_1"")    # Total crude A purchased
x_2 = m.addVar(lb=0, name=""x_2"")             # Crude A used in Type I gasoline
x_3 = m.addVar(lb=0, name=""x_3"")             # Crude A used in Type II gasoline
y_1 = m.addVar(lb=0, name=""y_1"")             # Crude B used in Type I gasoline
y_2 = m.addVar(lb=0, name=""y_2"")             # Crude B used in Type II gasoline
z_1 = m.addVar(lb=0, name=""z_1"")             # Type I gasoline produced
z_2 = m.addVar(lb=0, name=""z_2"")             # Type II gasoline produced

# Objective function
m.setObjective(
    4800 * z_1 + 5600 * z_2 - (10000 * x_1a + 8000 * x_1b + 6000 * x_1c),
    GRB.MAXIMIZE
)

# Constraints
m.addConstr(x_1a + x_1b + x_1c == x_1, name=""purchase_split"")
m.addConstr(x_2 + x_3 <= 500 + x_1, name=""crude_A_usage_limit"")
m.addConstr(y_1 + y_2 <= 1000, name=""crude_B_usage_limit"")
m.addConstr(x_1 <= 1500, name=""purchase_limit"")
m.addConstr(z_1 == x_2 + y_1, name=""type_I_balance"")
m.addConstr(z_2 == x_3 + y_2, name=""type_II_balance"")
m.addConstr(x_2 >= 0.5 * z_1, name=""type_I_A_ratio"")
m.addConstr(x_3 >= 0.6 * z_2, name=""type_II_A_ratio"")

# Solve the model
m.optimize()",7000000,5000000,0,
"A beverage factory produces a kind of beverage to meet market demand. According to market forecasts, the sales department of the factory has determined the demand for the beverage for the next 4 weeks. The planning department, based on the actual situation of the factory, has provided the production capacity and production cost for the next 4 weeks, as shown in Table 1. When there is a surplus of beverages after meeting the demand each week, a storage cost of 0.2 thousand yuan per week per thousand boxes of beverages needs to be paid. How should the production plan be arranged to minimize the total cost (the sum of production cost and storage cost) over the four weeks while meeting the weekly market demand?

Table 1 Beverage Production and Demand Data:

\begin{tabular}{c|c|c|c}
\hline 
Week & Demand/1000 boxes & Production Capacity/1000 boxes & Cost per 1000 boxes/1000 yuan \\
\hline 
1 & 15 & 30 & 5.0 \\
\hline 
2 & 25 & 40 & 5.1 \\
\hline 
3 & 35 & 45 & 5.4 \\
\hline 
4 & 25 & 20 & 5.5 \\
\hline 
Total & 100 & 135 & \\
\hline
\end{tabular}","{'input': 'A beverage factory produces a kind of beverage to meet market demand. According to market forecasts, the sales department of the factory has determined the demand for the beverage for the next 4 weeks. The planning department, based on the actual situation of the factory, has provided the production capacity and production cost for the next 4 weeks, as shown in Table 1. When there is a surplus of beverages after meeting the demand each week, a storage cost of 0.2 thousand yuan per week per thousand boxes of beverages needs to be paid. How should the production plan be arranged to minimize the total cost (the sum of production cost and storage cost) over the four weeks while meeting the weekly market demand?\n\nTable 1 Beverage Production and Demand Data:\n\n\\begin{{tabular}}{{c|c|c|c}}\n\\hline \nWeek & Demand/1000 boxes & Production Capacity/1000 boxes & Cost per 1000 boxes/1000 yuan \\\\\n\\hline \n1 & 15 & 30 & 5.0 \\\\\n\\hline \n2 & 25 & 40 & 5.1 \\\\\n\\hline \n3 & 35 & 45 & 5.4 \\\\\n\\hline \n4 & 25 & 20 & 5.5 \\\\\n\\hline \nTotal & 100 & 135 & \\\\\n\\hline\n\\end{{tabular}}', 'output': 'Minimize 5.0x_1 + 5.1x_2 + 5.4x_3 + 5.5x_4 + 0.2(s_1 + s_2 + s_3)\nsubject to\n    x_1 - s_1 = 15\n    x_2 + s_1 - s_2 = 25\n    x_3 + s_2 - s_3 = 35\n    x_4 + s_3 = 25\n    0 <= x_1 <= 30\n    0 <= x_2 <= 40\n    0 <= x_3 <= 45\n    0 <= x_4 <= 20\n    x_1, x_2, x_3, x_4, s_1, s_2, s_3 ∈ Z+'}","import gurobipy as gp
from gurobipy import GRB

# Data
weeks = [1, 2, 3, 4]
demand = {1: 15, 2: 25, 3: 35, 4: 25}
capacity = {1: 30, 2: 40, 3: 45, 4: 20}
prod_cost = {1: 5.0, 2: 5.1, 3: 5.4, 4: 5.5}
storage_cost = 0.2

# Create the model
m = gp.Model(""Beverage_Production_Planning"")

# Decision variables
x = m.addVars(weeks, vtype=GRB.INTEGER, lb=0, name=""x"")  # Production in week t
s = m.addVars([1,2,3], vtype=GRB.INTEGER, lb=0, name=""s"")  # Inventory at end of week 1,2,3

# Objective function
m.setObjective(
    gp.quicksum(prod_cost[t] * x[t] for t in weeks) +
    storage_cost * (s[1] + s[2] + s[3]),
    GRB.MINIMIZE
)

# Constraints
m.addConstr(x[1] - s[1] == demand[1], name=""balance_week1"")
m.addConstr(x[2] + s[1] - s[2] == demand[2], name=""balance_week2"")
m.addConstr(x[3] + s[2] - s[3] == demand[3], name=""balance_week3"")
m.addConstr(x[4] + s[3] == demand[4], name=""balance_week4"")

for t in weeks:
    m.addConstr(x[t] <= capacity[t], name=f""capacity_week{t}"")

# Solve the model
m.optimize()",528,528,1,
"A steel pipe retailer purchases raw pipes from a steel mill and cuts them according to customer requirements before resale. Each raw steel pipe supplied by the mill has a length of 1850 mm. A customer has placed the following order: 15 pieces of 290 mm, 28 pieces of 315 mm, 21 pieces of 350 mm, and 30 pieces of 455 mm. To simplify the production process, the number of cutting patterns to be used may not exceed four. Additional costs are incurred depending on the usage frequency of each cutting pattern: the most frequently used cutting pattern incurs an extra cost equal to 1/10 of the value of one raw pipe; the second most frequently used pattern incurs an extra cost equal to 2/10; the third incurs 3/10, and so forth. Moreover, under each cutting pattern, the number of cuts per raw pipe cannot be too many, with at most 5 pieces produced from a single raw pipe. To reduce material waste, the leftover length for any cutting pattern may not exceed 100 mm. The objective is to determine the cutting plan (selection of patterns and allocation of raw pipes) that minimizes the total cost. What is the optimal cutting plan and the total cost?","{'input': 'A steel pipe retailer purchases raw pipes from a steel mill and cuts them according to customer requirements before resale. Each raw steel pipe supplied by the mill has a length of 1850 mm. A customer has placed the following order: 15 pieces of 290 mm, 28 pieces of 315 mm, 21 pieces of 350 mm, and 30 pieces of 455 mm. To simplify the production process, the number of cutting patterns to be used may not exceed four. Additional costs are incurred depending on the usage frequency of each cutting pattern: the most frequently used cutting pattern incurs an extra cost equal to 1/10 of the value of one raw pipe; the second most frequently used pattern incurs an extra cost equal to 2/10; the third incurs 3/10, and so forth. Moreover, under each cutting pattern, the number of cuts per raw pipe cannot be too many, with at most 5 pieces produced from a single raw pipe. To reduce material waste, the leftover length for any cutting pattern may not exceed 100 mm. The objective is to determine the cutting plan (selection of patterns and allocation of raw pipes) that minimizes the total cost. What is the optimal cutting plan and the total cost?', 'output': 'Let the feasible cutting patterns be:\n\nPattern 1: (0, 0, 0, 4)'}","import gurobipy as gp
from gurobipy import GRB
import itertools

# Data
raw_length = 1850
max_patterns = 4
max_pieces_per_pipe = 5
max_leftover = 100

sizes = [290, 315, 350, 455]
demands = [15, 28, 21, 30]
n_types = len(sizes)

# Generate all feasible patterns
patterns = []
pattern_cuts = []

for cuts in itertools.product(range(max_pieces_per_pipe + 1), repeat=n_types):
    total_pieces = sum(cuts)
    if total_pieces == 0 or total_pieces > max_pieces_per_pipe:
        continue
    used_length = sum(cuts[i] * sizes[i] for i in range(n_types))
    leftover = raw_length - used_length
    if 0 <= leftover <= max_leftover:
        patterns.append(cuts)
        pattern_cuts.append(list(cuts))

n_patterns = len(patterns)

# Model
m = gp.Model(""Steel_Pipe_Cutting"")

# Variables
x = m.addVars(n_patterns, vtype=GRB.INTEGER, lb=0, name=""x"")  # number of times each pattern is used
y = m.addVars(n_patterns, vtype=GRB.BINARY, name=""y"")         # whether pattern is used

# For pattern ranking (most used, second, etc.)
rank = m.addVars(n_patterns, vtype=GRB.INTEGER, lb=0, ub=max_patterns-1, name=""rank"")
z = m.addVars(max_patterns, n_patterns, vtype=GRB.BINARY, name=""z"")  # z[r, p]=1 if pattern p is assigned rank r

# Objective: minimize total cost (raw pipes + extra cost for pattern usage)
pipe_cost = 1.0
extra_costs = [0.1, 0.2, 0.3, 0.4]  # for ranks 0 (most used) to 3 (least used)

m.setObjective(
    gp.quicksum(x[p] for p in range(n_patterns)) * pipe_cost +
    gp.quicksum(extra_costs[r] * z[r, p] * x[p] for r in range(max_patterns) for p in range(n_patterns)),
    GRB.MINIMIZE
)

# Demand constraints
for i in range(n_types):
    m.addConstr(
        gp.quicksum(pattern_cuts[p][i] * x[p] for p in range(n_patterns)) >= demands[i],
        name=f""demand_{i}""
    )

# At most max_patterns patterns used
m.addConstr(gp.quicksum(y[p] for p in range(n_patterns)) <= max_patterns, name=""max_patterns"")

# Link x and y
for p in range(n_patterns):
    m.addConstr(x[p] <= 10000 * y[p], name=f""link_{p}"")

# Each used pattern gets a unique rank (0 to max_patterns-1)
for r in range(max_patterns):
    m.addConstr(gp.quicksum(z[r, p] for p in range(n_patterns)) == 1, name=f""one_pattern_per_rank_{r}"")
for p in range(n_patterns):
    m.addConstr(gp.quicksum(z[r, p] for r in range(max_patterns)) == y[p], name=f""one_rank_per_pattern_{p}"")

# Rank assignment: if pattern p is assigned rank r, then x[p] >= x[q] for all patterns q assigned to rank > r
bigM = 10000
for r in range(max_patterns-1):
    for p in range(n_patterns):
        for q in range(n_patterns):
            if p == q:
                continue
            m.addConstr(
                x[p] + bigM * (2 - z[r, p] - z[r+1, q]) >= x[q],
                name=f""rank_order_{r}_{p}_{q}""
            )

# Solve
m.optimize()

# Output solution
if m.status == GRB.OPTIMAL:
    print(""Total cost:"", m.objVal)
    print(""Cutting plan (pattern: times used):"")
    for p in range(n_patterns):
        if x[p].x > 1e-6:
            print(f""Pattern {p+1}: {pattern_cuts[p]}, used {int(round(x[p].x))} times"")
else:
    print(""No optimal solution found."")",21.5,19.6,0,
"A company mixes four types of liquid raw materials with different sulfur contents (denoted as A, B, C, and D, respectively) to produce two products (denoted as \( \mathrm{A} \) and \( \mathrm{B} \)). According to the production process requirements, raw materials A, B, and D must first be mixed in a mixing tank, and then the mixed liquid is further mixed with raw material C to produce \( \mathrm{A} \) and \( \mathrm{B} \). The sulfur contents of raw materials A, B, C, and D are \( 3\%, 1\%, 2\%, 1\% \) respectively, and their purchase prices are 6, 16, 10, 15 (thousand yuan per ton) respectively. The sulfur content of products \( \mathrm{A} \) and \( \mathrm{B} \) must not exceed \( 2.5\% \) and \( 1.5\% \) respectively, and their selling prices are 9.15 (thousand yuan per ton). According to market information, there is no limit to the supply of raw materials A, B, and C, but the supply of raw material D is limited to a maximum of 50 tons. The market demand for products \( \mathrm{A} \) and \( \mathrm{B} \) is 100 tons and 200 tons respectively. How should the production be arranged to maximize the profit?","{'input': 'A company mixes four types of liquid raw materials with different sulfur contents (denoted as A, B, C, and D, respectively) to produce two products (denoted as \\( \\mathrm{{A}} \\) and \\( \\mathrm{{B}} \\)). According to the production process requirements, raw materials A, B, and D must first be mixed in a mixing tank, and then the mixed liquid is further mixed with raw material C to produce \\( \\mathrm{{A}} \\) and \\( \\mathrm{{B}} \\). The sulfur contents of raw materials A, B, C, and D are \\( 3\\%, 1\\%, 2\\%, 1\\% \\) respectively, and their purchase prices are 6, 16, 10, 15 (thousand yuan per ton) respectively. The sulfur content of products \\( \\mathrm{{A}} \\) and \\( \\mathrm{{B}} \\) must not exceed \\( 2.5\\% \\) and \\( 1.5\\% \\) respectively, and their selling prices are 9.15 (thousand yuan per ton). According to market information, there is no limit to the supply of raw materials A, B, and C, but the supply of raw material D is limited to a maximum of 50 tons. The market demand for products \\( \\mathrm{{A}} \\) and \\( \\mathrm{{B}} \\) is 100 tons and 200 tons respectively. How should the production be arranged to maximize the profit?', 'output': 'Maximize\n    Z = 9.15(y1 + y2) - [6(xA1 + xA2) + 16(xB1 + xB2) + 10(xC1 + xC2) + 15(xD1 + xD2)]\n\nSubject to\n    xA1 + xB1 + xC1 + xD1 = 100\n    xA2 + xB2 + xC2 + xD2 = 200\n    xD1 + xD2 <= 50\n    0.03xA1 + 0.01xB1 + 0.02xC1 + 0.01xD1 <= 2.5\n    0.03xA2 + 0.01xB2 + 0.02xC2 + 0.01xD2 <= 3\n    xA1, xB1, xC1, xD1, xA2, xB2, xC2, xD2 >= 0\n\nwhere\n    y1 = xA1 + xB1 + xC1 + xD1\n    y2 = xA2 + xB2 + xC2 + xD2'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Sulfur_Mix_Optimization"")

# Decision variables: quantities of raw materials for product A (1) and B (2)
xA1 = m.addVar(lb=0, name=""xA1"")
xB1 = m.addVar(lb=0, name=""xB1"")
xC1 = m.addVar(lb=0, name=""xC1"")
xD1 = m.addVar(lb=0, name=""xD1"")
xA2 = m.addVar(lb=0, name=""xA2"")
xB2 = m.addVar(lb=0, name=""xB2"")
xC2 = m.addVar(lb=0, name=""xC2"")
xD2 = m.addVar(lb=0, name=""xD2"")

# y1 and y2: total output of product A and B
y1 = m.addVar(lb=0, name=""y1"")
y2 = m.addVar(lb=0, name=""y2"")

# Constraints: product demand
m.addConstr(xA1 + xB1 + xC1 + xD1 == 100, name=""product_A_demand"")
m.addConstr(xA2 + xB2 + xC2 + xD2 == 200, name=""product_B_demand"")

# y1 and y2 definitions
m.addConstr(y1 == xA1 + xB1 + xC1 + xD1, name=""y1_def"")
m.addConstr(y2 == xA2 + xB2 + xC2 + xD2, name=""y2_def"")

# Raw material D supply limit
m.addConstr(xD1 + xD2 <= 50, name=""D_supply_limit"")

# Sulfur content constraints
m.addConstr(0.03 * xA1 + 0.01 * xB1 + 0.02 * xC1 + 0.01 * xD1 <= 2.5, name=""sulfur_A"")
m.addConstr(0.03 * xA2 + 0.01 * xB2 + 0.02 * xC2 + 0.01 * xD2 <= 3, name=""sulfur_B"")

# Objective function: maximize profit
m.setObjective(
    9.15 * (y1 + y2)
    - (6 * (xA1 + xA2) + 16 * (xB1 + xB2) + 10 * (xC1 + xC2) + 15 * (xD1 + xD2)),
    GRB.MAXIMIZE
)

# Solve the model
m.optimize()",-605,115,0,
"A company uses steel and aluminum as raw materials to produce two products (A and B). A single unit of product A requires 6 kg of steel, 8 kg of aluminum, 11 hours of labor, and yields a profit of 5000 yuan (excluding worker overtime pay). A single unit of product B requires 12 kg of steel, 20 kg of aluminum, 24 hours of labor, and yields a profit of 11000 yuan (excluding worker overtime pay). The company currently has 200 kg of steel, 300 kg of aluminum, and 300 hours of labor available. If workers need to work overtime, the overtime pay is 100 yuan per hour. Please develop a production plan to maximize the company's profit with minimial worker overtime.","{'input': ""A company uses steel and aluminum as raw materials to produce two products (A and B). A single unit of product A requires 6 kg of steel, 8 kg of aluminum, 11 hours of labor, and yields a profit of 5000 yuan (excluding worker overtime pay). A single unit of product B requires 12 kg of steel, 20 kg of aluminum, 24 hours of labor, and yields a profit of 11000 yuan (excluding worker overtime pay). The company currently has 200 kg of steel, 300 kg of aluminum, and 300 hours of labor available. If workers need to work overtime, the overtime pay is 100 yuan per hour. Please develop a production plan to maximize the company's profit with minimial worker overtime."", 'output': 'Maximize\n    5000x_A + 11000x_B - 100 * OT\n\nSubject to\n    6x_A + 12x_B <= 200\n    8x_A + 20x_B <= 300\n    11x_A + 24x_B <= 300 + OT\n    OT >= 0\n    x_A >= 0, x_B >= 0, OT >= 0, x_A, x_B, OT ∈ Z+\n\nOptimal solution:\n- If maximizing profit: produce 15 units of B, 0 units of A, 60 hours overtime, net profit 159,000 yuan.\n- If minimizing overtime: produce 12 units of B, 1 unit of A, no overtime, net profit 137,000 yuan.'}","import gurobipy as gp
from gurobipy import GRB

# Create the model
m = gp.Model(""Production_Optimization"")

# Decision variables
x_A = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_A"")   # Units of product A
x_B = m.addVar(vtype=GRB.INTEGER, lb=0, name=""x_B"")   # Units of product B
OT = m.addVar(vtype=GRB.INTEGER, lb=0, name=""OT"")     # Overtime hours

# Objective function: Maximize profit
m.setObjective(5000 * x_A + 11000 * x_B - 100 * OT, GRB.MAXIMIZE)

# Constraints
m.addConstr(6 * x_A + 12 * x_B <= 200, name=""steel_constraint"")
m.addConstr(8 * x_A + 20 * x_B <= 300, name=""aluminum_constraint"")
m.addConstr(11 * x_A + 24 * x_B <= 300 + OT, name=""labor_constraint"")
m.addConstr(OT >= 0, name=""overtime_nonnegativity"")

# Solve the model
m.optimize()",165900,137500,0,
"An electronic system is composed of 3 types of components. The system operates normally if all three components function properly. By installing one or more spare parts for any of the components, the reliability of the components can be improved. The system's operational reliability is the product of the reliabilities of each component, and the reliability of each component is a function of the number of spare parts installed. The first half of the table below shows the function relationship between the number of spare parts and the reliability of a specific component. The prices and weights of the 3 types of components are shown in rows 8 to 9 of the table. Given that the total budget for all spare parts is limited to 150 yuan, and the weight limit is 20 kg, how should spare parts be installed to maximize the system's operational reliability? 

\begin{table}[h]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{Component Number} & \textbf{1} & \textbf{2} & \textbf{3} \\ \hline
\textbf{Number of Spares} &             &             &             \\ \hline
0                & 0.5         & 0.6         & 0.7         \\ \hline
1                & 0.6         & 0.75        & 0.9         \\ \hline
2                & 0.7         & 0.95        & 1.0         \\ \hline
3                & 0.8         & 1.0         & 1.0         \\ \hline
4                & 0.9         & 1.0         & 1.0         \\ \hline
5                & 1.0         & 1.0         & 1.0         \\ \hline
\textbf{Unit Price (yuan)}  & 20           & 30           & 40           \\ \hline
\textbf{Unit Weight (kg)}  & 2            & 4            & 6            \\ \hline
\end{tabular}
\caption{Spare Component Data Table}
\end{table}","{'input': ""An electronic system is composed of 3 types of components. The system operates normally if all three components function properly. By installing one or more spare parts for any of the components, the reliability of the components can be improved. The system's operational reliability is the product of the reliabilities of each component, and the reliability of each component is a function of the number of spare parts installed. The first half of the table below shows the function relationship between the number of spare parts and the reliability of a specific component. The prices and weights of the 3 types of components are shown in rows 8 to 9 of the table. Given that the total budget for all spare parts is limited to 150 yuan, and the weight limit is 20 kg, how should spare parts be installed to maximize the system's operational reliability? \n\n\\begin{{table}}[h]\n\\centering\n\\begin{{tabular}}{{|c|c|c|c|}}\n\\hline\n\\textbf{{Component Number}} & \\textbf{{1}} & \\textbf{{2}} & \\textbf{{3}} \\\\ \\hline\n\\textbf{{Number of Spares}} &             &             &             \\\\ \\hline\n0                & 0.5         & 0.6         & 0.7         \\\\ \\hline\n1                & 0.6         & 0.75        & 0.9         \\\\ \\hline\n2                & 0.7         & 0.95        & 1.0         \\\\ \\hline\n3                & 0.8         & 1.0         & 1.0         \\\\ \\hline\n4                & 0.9         & 1.0         & 1.0         \\\\ \\hline\n5                & 1.0         & 1.0         & 1.0         \\\\ \\hline\n\\textbf{{Unit Price (yuan)}}  & 20           & 30           & 40           \\\\ \\hline\n\\textbf{{Unit Weight (kg)}}  & 2            & 4            & 6            \\\\ \\hline\n\\end{{tabular}}\n\\caption{{Spare Component Data Table}}\n\\end{{table}}"", 'output': 'Let x1, x2, x3 ∈ {0,1,2,3,4,5} be the number of spares for components 1, 2, 3, respectively.\n\nMaximize\u2003R = r1(x1) × r2(x2) × r3(x3)\n\nwhere\n\u2003r1(0)=0.5, r1(1)=0.6, r1(2)=0.7, r1(3)=0.8, r1(4)=0.9, r1(5)=1.0\n\u2003r2(0)=0.6, r2(1)=0.75, r2(2)=0.95, r2(3)=1.0, r2(4)=1.0, r2(5)=1.0\n\u2003r3(0)=0.7, r3(1)=0.9, r3(2)=1.0, r3(3)=1.0, r3(4)=1.0, r3(5)=1.0\n\nSubject to:\n\u200320x1 + 30x2 + 40x3 ≤ 150\n\u20032x1 + 4x2 + 6x3 ≤ 20\n\u2003x1, x2, x3 ∈ {0,1,2,3,4,5}\n\nOptimal solution:\n\u2003x1 = 2, x2 = 2, x3 = 1\n\u2003Total cost: 140 yuan\n\u2003Total weight: 18 kg\n\u2003Maximum system reliability: 0.5985\n\nSpare parts allocation: 2 for component 1, 2 for component 2, 1 for component 3.'}","import gurobipy as gp
from gurobipy import GRB

# Data
reliability = [
    [0.5, 0.6, 0.7, 0.8, 0.9, 1.0],   # Component 1
    [0.6, 0.75, 0.95, 1.0, 1.0, 1.0], # Component 2
    [0.7, 0.9, 1.0, 1.0, 1.0, 1.0]    # Component 3
]
prices = [20, 30, 40]
weights = [2, 4, 6]
max_spares = 5

# Create the model
m = gp.Model(""Spare_Parts_Allocation"")

# Decision variables: x1, x2, x3 ∈ {0,1,2,3,4,5}
x = [m.addVar(vtype=GRB.INTEGER, lb=0, ub=max_spares, name=f""x{i+1}"") for i in range(3)]

# Auxiliary variables for reliability lookup
r = [m.addVar(lb=0, ub=1, name=f""r{i+1}"") for i in range(3)]

# Constraints: link x and r using indicator constraints
for i in range(3):
    for k in range(0, max_spares+1):
        m.addGenConstrIndicator(x[i] == k, True, r[i] == reliability[i][k], name=f""reliability_link_{i}_{k}"")

# Budget and weight constraints
m.addConstr(prices[0]*x[0] + prices[1]*x[1] + prices[2]*x[2] <= 150, name=""budget"")
m.addConstr(weights[0]*x[0] + weights[1]*x[1] + weights[2]*x[2] <= 20, name=""weight"")

# Objective: maximize system reliability (product of component reliabilities)
m.setObjective(r[0] * r[1] * r[2], GRB.MAXIMIZE)

# Optimize
m.optimize()",,0.6075,0,
"In network communication services, bandwidth plays an important role. Below is a bandwidth communication table between several communication nodes, showing the bandwidth between any two nodes. If two nodes cannot be directly connected, the corresponding bandwidth is $0$. It is required to establish a link between node $A$ and node $E$ that must pass through service node $C$ (without loops). The bandwidth of this link is defined as the minimum bandwidth value on the link. Please propose a reasonable link arrangement to maximize the bandwidth of this link and find out the maximum bandwidth.

\begin{table}[h]
    \centering
    \begin{tabular}{|c|c|c|c|c|c|}
        \hline
        & A & B & C & D & E \\
        \hline
        A & 0 & 90 & 85 & 0 & 65 \\
        \hline
        B & 95 & 0 & 70 & 65 & 34 \\
        \hline
        C & 60 & 0 & 0 & 88 & 80 \\
        \hline
        D & 67 & 30 & 25 & 0 & 84 \\
        \hline
        E & 0 & 51 & 0 & 56 & 0 \\
        \hline
    \end{tabular}
\end{table}","{'input': 'In network communication services, bandwidth plays an important role. Below is a bandwidth communication table between several communication nodes, showing the bandwidth between any two nodes. If two nodes cannot be directly connected, the corresponding bandwidth is $0$. It is required to establish a link between node $A$ and node $E$ that must pass through service node $C$ (without loops). The bandwidth of this link is defined as the minimum bandwidth value on the link. Please propose a reasonable link arrangement to maximize the bandwidth of this link and find out the maximum bandwidth.\n\n\\begin{{table}}[h]\n    \\centering\n    \\begin{{tabular}}{{|c|c|c|c|c|c|}}\n        \\hline\n        & A & B & C & D & E \\\\\n        \\hline\n        A & 0 & 90 & 85 & 0 & 65 \\\\\n        \\hline\n        B & 95 & 0 & 70 & 65 & 34 \\\\\n        \\hline\n        C & 60 & 0 & 0 & 88 & 80 \\\\\n        \\hline\n        D & 67 & 30 & 25 & 0 & 84 \\\\\n        \\hline\n        E & 0 & 51 & 0 & 56 & 0 \\\\\n        \\hline\n    \\end{{tabular}}\n\\end{{table}}', 'output': 'The optimal link arrangement is:\nA → C → D → E\n\nThe maximum bandwidth of this link is:\n84'}","import gurobipy as gp
from gurobipy import GRB

# Nodes and bandwidth matrix
nodes = ['A', 'B', 'C', 'D', 'E']
bandwidth = {
    ('A', 'B'): 90, ('A', 'C'): 85, ('A', 'D'): 0,  ('A', 'E'): 65,
    ('B', 'A'): 95, ('B', 'C'): 70, ('B', 'D'): 65, ('B', 'E'): 34,
    ('C', 'A'): 60, ('C', 'B'): 0,  ('C', 'D'): 88, ('C', 'E'): 80,
    ('D', 'A'): 67, ('D', 'B'): 30, ('D', 'C'): 25, ('D', 'E'): 84,
    ('E', 'A'): 0,  ('E', 'B'): 51, ('E', 'C'): 0,  ('E', 'D'): 56
}

# Create the model
m = gp.Model(""Max_Bandwidth_Path"")

# Decision variables: x[i,j] = 1 if edge (i,j) is in the path, 0 otherwise
x = m.addVars(nodes, nodes, vtype=GRB.BINARY, name=""x"")

# Variable for minimum bandwidth along the path
y = m.addVar(vtype=GRB.CONTINUOUS, name=""min_bandwidth"")

# Objective: maximize the minimum bandwidth along the path
m.setObjective(y, GRB.MAXIMIZE)

# Flow constraints (no loops, path from A to E passing through C)
# Flow balance: start at A (+1), end at E (-1), others 0
for n in nodes:
    if n == 'A':
        m.addConstr(gp.quicksum(x[n, j] for j in nodes if j != n) - gp.quicksum(x[i, n] for i in nodes if i != n) == 1)
    elif n == 'E':
        m.addConstr(gp.quicksum(x[n, j] for j in nodes if j != n) - gp.quicksum(x[i, n] for i in nodes if i != n) == -1)
    else:
        m.addConstr(gp.quicksum(x[n, j] for j in nodes if j != n) - gp.quicksum(x[i, n] for i in nodes if i != n) == 0)

# No self-loops
for n in nodes:
    m.addConstr(x[n, n] == 0)

# Only allow edges with positive bandwidth
for i in nodes:
    for j in nodes:
        if i != j and bandwidth.get((i, j), 0) == 0:
            m.addConstr(x[i, j] == 0)

# Path must pass through C (C must have in-degree and out-degree at least 1)
m.addConstr(gp.quicksum(x[i, 'C'] for i in nodes if i != 'C') >= 1)
m.addConstr(gp.quicksum(x['C', j] for j in nodes if j != 'C') >= 1)

# No cycles: subtour elimination (MTZ formulation)
u = m.addVars(nodes, vtype=GRB.INTEGER, lb=0, ub=len(nodes)-1, name=""u"")
for i in nodes:
    for j in nodes:
        if i != j and (i != 'A' and j != 'E'):
            m.addConstr(u[i] - u[j] + (len(nodes)-1)*x[i, j] <= len(nodes)-2)

# Minimum bandwidth constraints
for i in nodes:
    for j in nodes:
        if i != j and bandwidth.get((i, j), 0) > 0:
            m.addConstr(y <= bandwidth[(i, j)] + (1 - x[i, j]) * 1e5)

# Solve the model
m.optimize()",84,84,1,
,,,,,56,
